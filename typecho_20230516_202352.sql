-- MySQL dump 10.13  Distrib 5.7.41, for Linux (x86_64)
--
-- Host: localhost    Database: typecho
-- ------------------------------------------------------
-- Server version	5.7.41-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `typecho_comments`
--

DROP TABLE IF EXISTS `typecho_comments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typecho_comments` (
  `coid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `cid` int(10) unsigned DEFAULT '0',
  `created` int(10) unsigned DEFAULT '0',
  `author` varchar(150) DEFAULT NULL,
  `authorId` int(10) unsigned DEFAULT '0',
  `ownerId` int(10) unsigned DEFAULT '0',
  `mail` varchar(150) DEFAULT NULL,
  `url` varchar(255) DEFAULT NULL,
  `ip` varchar(64) DEFAULT NULL,
  `agent` varchar(511) DEFAULT NULL,
  `text` text,
  `type` varchar(16) DEFAULT 'comment',
  `status` varchar(16) DEFAULT 'approved',
  `parent` int(10) unsigned DEFAULT '0',
  PRIMARY KEY (`coid`),
  KEY `cid` (`cid`),
  KEY `created` (`created`)
) ENGINE=InnoDB AUTO_INCREMENT=54 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typecho_comments`
--

LOCK TABLES `typecho_comments` WRITE;
/*!40000 ALTER TABLE `typecho_comments` DISABLE KEYS */;
INSERT INTO `typecho_comments` VALUES (1,54,1670292606,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','有些人如果不刻意去见，真的就很难再见到了','comment','approved',0),(3,54,1670602806,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','I hadn\'t spent a day without thinking about you?','comment','approved',0),(4,54,1670854201,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','欲买桂花同载酒，终不似，少年游','comment','approved',0),(5,54,1670945582,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','误打误撞的喜欢，却没会想过爱意如此汹涌','comment','approved',0),(7,54,1671200492,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','无人与我立黄昏，无人问我粥可温。\r\n无人与我捻熄灯，无人共我书半生。\r\n无人陪我夜已黑，无人与我把酒分。\r\n无人拭我相思泪，无人梦我与前生。','comment','approved',0),(8,54,1671283292,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','杨柳春风一杯酒，江湖夜雨十年灯\r\n','comment','approved',0),(9,54,1671636692,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','蓝桉已遇释槐鸟 不爱万物唯爱你','comment','approved',0),(10,54,1672668692,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','朝朝辞暮，尔尔辞晚，碎碎念安安','comment','approved',0),(11,54,1672830741,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','愿许秋风离别意，散我心中意难平','comment','approved',0),(12,54,1673097741,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','人有生老三千疾，唯有相思不可医','comment','approved',0),(13,54,1673273994,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','浮生如此，别多会少，不如莫遇。——纳兰容若','comment','approved',0),(14,54,1674054764,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','青山灼灼，星光杳杳，秋雨淅淅，晚风慢慢，皆不如你','comment','approved',0),(15,54,1674567235,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','岁月磨我少年志，时光凉我善良心。\r\n总有人间一两风，填我十万八千梦。','comment','approved',0),(16,54,1675783347,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','只要想起一生中后悔的事，梅花就落满了南山','comment','approved',0),(17,54,1676298142,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','既许一人以偏爱，愿尽余生之慷慨。——冯唐《三十六大》','comment','approved',0),(18,54,1676642383,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','桔梗花向日落献祭，灵魂不朽','comment','approved',0),(19,54,1677078991,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','迷失在莎士比亚的花园，那里盛放着浪漫主义者的玫瑰','comment','approved',0),(22,54,1677330791,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','弃我去者，昨日之日不可留\r\n乱我心者，今日之日多烦忧','comment','approved',0),(23,54,1677599559,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','夜阑卧听风吹雨，铁马冰河入梦来','comment','approved',0),(24,54,1677853160,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','粉身碎骨浑不怕，要留清白在人间','comment','approved',0),(25,54,1678104130,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','年年岁岁花相似，岁岁年年人不同','comment','approved',0),(26,54,1678420834,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','庸碌者深陷抱怨与不满的囚牢，而清醒者只与自己赛跑','comment','approved',0),(27,54,1678894232,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','若无执念挂心头，人生何处不清欢','comment','approved',0),(28,54,1679149189,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','若你决定灿烂，山无遮，海无拦','comment','approved',0),(30,42,1679155806,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','对于作者大冰，无论出现什么声音，都不会改变或影响读者对他文字的热爱。\r\n“我不是一个作家，只是一个讲故事的人，如果你把我和作家放在一个维度来比较，我真得是诚恐惶恐”——大冰\r\n每读一章，都会令我感慨：“这世界，大不同！”','comment','approved',0),(32,54,1679327865,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','十年生死两茫茫，不思量，自难忘','comment','approved',0),(33,54,1679388939,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','穷者嗜穷以财切入，弱者嗜尊以谦切入','comment','approved',0),(34,54,1679389200,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','想去见的人不远万里也会到身边，想躲着的人即使在人群中擦肩而过也会压低帽檐','comment','approved',1),(35,36,1679389438,'IRver',0,1,'1093682174@qq.com',NULL,'221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','愿以我黄昏，与你黎明。','comment','approved',0),(36,55,1679417267,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','“无有尽头，亦无岁月可回头。”\r\n','comment','approved',0),(37,54,1679417273,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','“无有尽头，亦无岁月可回头。”','comment','approved',0),(38,55,1679417624,'北极星的眼泪',0,1,'1774958630@qq.com',NULL,'221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.44','“无有尽头，亦无岁月可回头。”','comment','approved',0),(39,55,1679417915,'鲤伴',0,1,'2310051447@qq.com',NULL,'203.93.164.240','Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) EdgiOS/110.0.1587.63 Version/16.0 Mobile/15E148 Safari/604.1','“无有尽头，亦无岁月可回头。”','comment','approved',0),(40,54,1679418128,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','203.93.164.240','Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) EdgiOS/110.0.1587.63 Version/16.0 Mobile/15E148 Safari/604.1','\"I am chosen？\"\r\n“我被选中了吗”','comment','approved',0),(41,54,1679418298,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','203.93.164.240','Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 QQ/8.9.33.614 V1_IPH_SQ_8.9.33_1_APP_A Pixel/1170 MiniAppEnable SimpleUISwitch/0 StudyMode/0 CurrentMode/0 CurrentFontScale/1.000000 QQTheme/2028656 AppId/537151352 Core/WKWebView Device/Apple(iPhone 13 Pro) NetType/4G QBWebViewType/1 WKType/1','该失望的没止住，该思念的控制不住','comment','approved',0),(43,54,1679807580,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','220.200.242.60','Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) EdgiOS/110.0.1587.63 Version/16.0 Mobile/15E148 Safari/604.1','落日归山海，烟火向星辰，所愿皆所成','comment','approved',0),(51,54,1680054590,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.54','这世界盛大灿烂，你可以是千千万万','comment','approved',0),(52,54,1682101075,'波音彬',1,1,'1941379720@qq.com','http://blog.dongpeibin.cn','221.199.15.34','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36 Edg/112.0.1722.48','文之穷尽，言之终结，然吾情之所系，心之所向，神之所往,无异于南海之畔草木兮','comment','approved',0),(53,54,1683089762,'hhhhln',0,1,'2862773409@qq.com',NULL,'220.200.241.159','Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36 Edg/112.0.1722.64','文之穷尽，言之终结，然吾情之所系，心之所向，神之所往,无异于南海之畔草木兮','comment','approved',0);
/*!40000 ALTER TABLE `typecho_comments` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typecho_contents`
--

DROP TABLE IF EXISTS `typecho_contents`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typecho_contents` (
  `cid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `title` varchar(150) DEFAULT NULL,
  `slug` varchar(150) DEFAULT NULL,
  `created` int(10) unsigned DEFAULT '0',
  `modified` int(10) unsigned DEFAULT '0',
  `text` longtext,
  `order` int(10) unsigned DEFAULT '0',
  `authorId` int(10) unsigned DEFAULT '0',
  `template` varchar(32) DEFAULT NULL,
  `type` varchar(16) DEFAULT 'post',
  `status` varchar(16) DEFAULT 'publish',
  `password` varchar(32) DEFAULT NULL,
  `commentsNum` int(10) unsigned DEFAULT '0',
  `allowComment` char(1) DEFAULT '0',
  `allowPing` char(1) DEFAULT '0',
  `allowFeed` char(1) DEFAULT '0',
  `parent` int(10) unsigned DEFAULT '0',
  PRIMARY KEY (`cid`),
  UNIQUE KEY `slug` (`slug`),
  KEY `created` (`created`)
) ENGINE=InnoDB AUTO_INCREMENT=88 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typecho_contents`
--

LOCK TABLES `typecho_contents` WRITE;
/*!40000 ALTER TABLE `typecho_contents` DISABLE KEYS */;
INSERT INTO `typecho_contents` VALUES (2,'关于本站','start-page',1679016180,1679363521,'<!--markdown-->本站点为个人博客站点，非商用。\r\n本站点为正规备案网站,受法律以及公安的保护，请勿利用本站点进行渗透测试或任何形式的网络攻击。',1,1,NULL,'page','publish',NULL,0,'1','1','1',0),(3,'1679019871.png','1679019871-png',1679019872,1679019872,'a:5:{s:4:\"name\";s:14:\"1679019871.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/377304944.png\";s:4:\"size\";i:301293;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',8),(4,'1679019889.png','1679019889-png',1679019889,1679019889,'a:5:{s:4:\"name\";s:14:\"1679019889.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3113610161.png\";s:4:\"size\";i:16968;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',8),(5,'1679019914.png','1679019914-png',1679019914,1679019914,'a:5:{s:4:\"name\";s:14:\"1679019914.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/396470280.png\";s:4:\"size\";i:39021;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',8),(6,'1679019946.png','1679019946-png',1679019946,1679019946,'a:5:{s:4:\"name\";s:14:\"1679019946.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4038291494.png\";s:4:\"size\";i:46701;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',8),(7,'1679020011.png','1679020011-png',1679020011,1679020011,'a:5:{s:4:\"name\";s:14:\"1679020011.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4188812848.png\";s:4:\"size\";i:46701;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',5,1,NULL,'attachment','publish',NULL,0,'1','0','1',8),(8,'一、开发技术选择','8',1670385540,1679331316,'<!--markdown-->### 1. 前端Vue3+Element-Plus：\r\nVue.js用于构建用户界面的渐进式JS框架，所谓渐进式，即Vue可以自底向上逐层应用，即根据项目复杂程度逐渐递进引入组件库。Vue是一个轻量级的MVVM框架，他使用数据驱动+组件化来开发，可实现数据的双向绑定，即当改视图时数据也会赋值给model，当更改model的时候也会反应到视图上。页面上每个独立的可视或者可交互的区域均视为一个组件，每个组件对应一个工程目录，组件所需要的各种资源尽可能的都放在这个目录下就近维护，即将模板、样式、js等都写在一个.vue文件中，组件可以嵌套自由组合，形成完整的页面。而ElementUI是一套由饿了么公司前端开发团队开发设计的一套基于Vue框架的网站组件库，可以用于快速进行构建和布局前端页面，极大的方便了开发者开发。由此可见，使用Vue+ElementUI可以开发出美观、简洁且与用户交互友好的前端页面，非常适合用于网络安全试验平台的前端页面开发。\r\n### 2. 后端Springboot：\r\nSpringboot是一个基于Spring框架的快速开发框架，其可以构建独立的Spring应用和嵌入式的Web容器，以及自动装配Spring模块或者第三方库。相对于普通的Spring应用，使用Springboot构建的Spring应用可以直接打包为可独立运行的jar包或者war包。Springboot可以避免或简化配置，不会额外生成代码，可简化甚至不需要xml或properties等配置文件，即可快速开发Spring应用。此外，Springboot中许多默认编码格式为UTF-8，对于中文的支持非常友好，适合用于本平台后端的开发。\r\n### 3. 数据持久层框架MyBatis-Plus：\r\nMybatis是一种半自动的持久层框架，在目前的企业开发中一般项目都是基于ssm框架进行开发。虽然Mybatis框架可以直接在xml或注解中通过SQL语句操作数据库，很灵活，但是其操作都要通过SQL语句进行，就必须写大量的xml文件或者注解，比较麻烦。Mybatis-plus就很好的解决了这个问题。MyBatis-Plus框架是一个MyBatis框架的的增强工具，在MyBatis框架的基础上只做增强不做改变，可以简化开发以提高开发效率。MyBatis-Plus提供了通用的mapper和service，可以在不编写任何SQL语句的情况下，快速的实现对数据库表的增删改查、批量、逻辑删除、分页等操作。\r\n### 4. Docker技术：\r\nDocker是基于Go语言实现的云开源项目，Docker的主要目标是通过对应用组件的封装、分发、部署、运行等生命周期的管理，使用户的应用及其运行环境能够做到“一次镜像，处处运行”。Docker是在Linux的容器技术基础上发展过来的。将应用打成镜像，通过镜像成为运行在Docker容器上面的实例，而Docker容器在任何操作系统上都是一致的，这就实现了跨平台、跨服务器。只需要配置一次环境，就可以切换到其他的环境运行。且由于Docker容器本身具有的隔离特性，可以保障容器内的数据操作不受其他容器的影响，这就可以让学生用户在进行网络安全实验平台的同一个实验时可以相互隔离，不会受到其他同学的影响。因此，采用Docker技术是部署网络安全实验环境的最佳选择。\r\n',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(9,'二、系统用户','9',1670398080,1679331306,'<!--markdown-->> 简单分析各个用户应有的功能\r\n\r\n### 1、管理员模块：\r\n\r\n+ 用户管理功能：包括编辑、删除用户信息，赋权操作；\r\n\r\n+ 发布系统公告至所有用户。\r\n\r\n### 2、教师模块：\r\n\r\n+ 创建课程。\r\n+ 查询、删除参与课程学生。\r\n+ 使用二维码邀请学生加入课程。\r\n+ 导出课程进度excel表格。\r\n+ 解散课程班级。\r\n\r\n### 3、学生模块：\r\n\r\n+ 进行网络安全实验\r\n+ 使用网络安全工具\r\n+ 查看、撰写writup题解',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(10,'1679025679.png','1679025679-png',1679025679,1679025679,'a:5:{s:4:\"name\";s:14:\"1679025679.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1204234368.png\";s:4:\"size\";i:31572;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',17),(11,'1679025687.png','1679025687-png',1679025687,1679025687,'a:5:{s:4:\"name\";s:14:\"1679025687.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3525458091.png\";s:4:\"size\";i:43797;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',17),(12,'1679025694.png','1679025694-png',1679025694,1679025694,'a:5:{s:4:\"name\";s:14:\"1679025694.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3616779605.png\";s:4:\"size\";i:272255;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',17),(13,'三、标题及Logo设计','13',1670464860,1679331295,'<!--markdown-->> 万事开头难，先开个头\r\n\r\n### 1、标题：\r\n\r\n毕业设计题目为 “基于docker的网络安全实验平台设计与实现”，故系统拟取名“网络安全实验平台”，考虑到兼容性问题，项目名采取网络安全实验平台英文直译 Network security experiment platform 的首字母大写组合——NSEP。\r\n\r\n> 创建前端Vue项目和后端springboot项目，分别命名为nsepfront、nsepback\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/1204234368.png)\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3525458091.png)\r\n\r\n---\r\n\r\n截止到此，开头成功。\r\n\r\n> But，一个完美的系统不能少了一个精美的Logo\r\n\r\n### 2、Logo设计\r\n\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3616779605.png)\r\n\r\n采用NSEP为主题，学校英文简称及本人名字拼音首字母组为副题；\r\n\r\n六边形图案及内部交替的线条象征着网络安全的六大特征：\r\n\r\n​		保密性：确保信息不被泄露或呈现给非授权的人。\r\n\r\n　　完整性：信息在传输和存储的过程中不丢失、不被修改和破坏。\r\n\r\n　　可用性：确保合法用户不会无缘故地被拒绝访问信息和资源。\r\n\r\n　　可认证性：包括对等实体认证和数据源点认证两个方面。\r\n\r\n　　可控性：对信息的内容及传播具有可控制力。\r\n\r\n　　可审查性：出安全问题时提供依据和手段。',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(14,'1679028669.png','1679028669-png',1679028669,1679028669,'a:5:{s:4:\"name\";s:14:\"1679028669.png\";s:4:\"path\";s:33:\"/usr/uploads/2023/03/44632334.png\";s:4:\"size\";i:26071;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',24),(15,'1679028690.png','1679028690-png',1679028690,1679028690,'a:5:{s:4:\"name\";s:14:\"1679028690.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1769562103.png\";s:4:\"size\";i:2923;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',24),(16,'1679028719.png','1679028719-png',1679028719,1679028719,'a:5:{s:4:\"name\";s:14:\"1679028719.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1935696332.png\";s:4:\"size\";i:6395;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',24),(17,'四、主界面UI设计实现','17',1670734320,1679331282,'<!--markdown--> ### 1、前端准备工作\r\n\r\n#### 安装异步通信工具axios：\r\n\r\n```shell\r\nnpm install axios --save\r\n```\r\n\r\n#### 安装路由工具vue-router\r\n\r\n```shell\r\nnpm install vue-router\r\n```\r\n\r\n#### 安装状态管理工具vuex\r\n\r\n```shell\r\nnpm install vuex --save\r\n```\r\n\r\n#### 安装Vue3的主流UI框架Element-Plus及图标库\r\n\r\n```shell\r\nnpm install element-plus --save\r\nnpm install @element-plus/icons-vue\r\n```\r\n\r\n#### 在main.js文件中引入上述工具\r\n\r\n```javascript\r\nimport { createApp } from \'vue\'\r\nimport App from \'./App.vue\'\r\nimport router from \'./router\'\r\nimport store from \'./store\'\r\nimport ElementPlus from \'element-plus\'\r\nimport \'element-plus/theme-chalk/index.css\'\r\nimport installElementPlus from \'./plugins/element\'\r\nimport * as ElementPlusIconsVue from \'@element-plus/icons-vue\'\r\n\r\nconst app = createApp(App)\r\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\r\n  app.component(key, component)\r\n}\r\ninstallElementPlus(app)\r\napp.use(store).use(router).use(ElementPlus).mount(\'#app\')\r\n```\r\n\r\n#### 封装request工具\r\n\r\n```javascript\r\nimport axios from \'axios\'\r\nimport router from \"@/router\";\r\n\r\nconst request = axios.create({\r\n    baseURL: \'/api\',  // 全局统一加上了 \'/api\' 前缀，所有接口都会加上\'/api\'前缀在，页面里面写接口的时候不加 \'/api\'了，否则会出现2个\'/api\'，类似 \'/api/api/user\'报错\r\n    timeout: 30000\r\n})\r\n\r\n// request 拦截器\r\n// 可以自请求发送前对请求做一些处理\r\n// 比如统一加token，对请求参数统一加密\r\n\r\nrequest.interceptors.request.use(config => {\r\n    config.headers[\'Content-Type\'] = \'application/json;charset=utf-8\';\r\n    let user = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : null\r\n    if (user) {\r\n        config.headers[\'token\'] = user.token;  // 设置请求头\r\n    }\r\n    return config\r\n}, error => {\r\n    return Promise.reject(error)\r\n});\r\n\r\n// response 拦截器\r\n// 可以在接口响应后统一处理结果\r\nrequest.interceptors.response.use(\r\n    response => {\r\n        let res = response.data;\r\n        // 如果是返回的文件\r\n        if (response.config.responseType === \'blob\') {\r\n            return res\r\n        }\r\n        // 兼容服务端返回的字符串数据\r\n        if (typeof res === \'string\') {\r\n            res = res ? JSON.parse(res) : res\r\n        }\r\n        // 当权限验证不通过的时候给出提示\r\n        if (res.code === \'401\') {\r\n            // ElementUI.Message({\r\n            //     message: res.msg,\r\n            //     type: \'error\'\r\n            // });\r\n            router.push(\"/login\")\r\n        }\r\n        return res;\r\n    },\r\n    error => {\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n\r\nexport default request\r\n\r\n\r\n```\r\n\r\n\r\n\r\n### 2、主界面UI设计\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/44632334.png)\r\n\r\n#### 整体风格:\r\n\r\n打开首页，应是一个简约大气的页面，header头部为LOGO、导航栏目按钮，以及登录注册。中间为整体风格偏向暗色调与科技风。\r\n\r\n#### 前端代码：\r\n\r\nVue是一个渐进式的JS框架，核心思想为封装和复用，将网页模块化，组件化，这样可以重复利用，而且功能相互独立。在上述界面设计中应令header、footer以及中间的核心模块均为独立的component的组件，在主界面中引用即可。\r\n\r\n##### 静态资源\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/1769562103.png)\r\n\r\n静态资源存放于/src/assets目录下，包括图片资源和前端UI控制的JS代码\r\n\r\n##### nsepheader.vue:\r\n\r\n```html\r\n<template>\r\n  <div class=\"menu\">\r\n    <el-row>\r\n      <!-- logo部分 -->\r\n      <el-col :span=\"4\" >\r\n        <el-image :src=\"imgsrc\"\r\n                  @click=\"goto_home\"\r\n                  style=\"height:60px;\r\n                  text-align: center;\"/>\r\n<!--        <h3  style=\"margin-left: 40%;\">SDUCSRP</h3>-->\r\n      </el-col>\r\n      <!-- 按钮菜单部分 -->\r\n      <el-col :span=\"13\">\r\n        <el-menu\r\n            :default-active=\"mypath\"\r\n            class=\"el-menu-demo\"\r\n            mode=\"horizontal\"\r\n            background-color=\"#000\"\r\n            text-color=\"#fff\"\r\n            active-text-color=\"#FF9912\"\r\n            @select=\"handleSelect\"\r\n        >\r\n          <el-menu-item v-if=\"user.role !=3\" index=\"/honeypot\" @click=\"goto_honeypot\"> 实验资源 </el-menu-item>\r\n          <el-menu-item v-if=\"user.role !=3\" index=\"/nstools\" @click=\"goto_nstools\">网安工具</el-menu-item>\r\n          <el-menu-item v-if=\"user.role !=3\" index=\"/forum\" @click=\"goto_forum\">writeup</el-menu-item>\r\n          <el-menu-item v-if=\"user.role !=3\" index=\"/navigation\" @click=\"goto_navigation\">安全导航</el-menu-item>\r\n          <!--当用户权限为教师时才会出现(2)-->\r\n          <el-menu-item v-if=\"user.role ==2\" index=\"/coursemanagement\" @click=\"goto_coursemanagement\">课程管理</el-menu-item>\r\n          <!--当用户权限为管理员时才会出现(3)-->\r\n          <el-menu-item v-if=\"user.role ==3\" index=\"/usermanagement\" @click=\"goto_usermanagement\">用户管理</el-menu-item>\r\n\r\n          <el-menu-item v-if=\"user.role ==3\" index=\"/message\" @click=\"goto_message\">信息发布</el-menu-item>\r\n        </el-menu>\r\n      </el-col>\r\n\r\n      <!-- 用户登录部分 -->\r\n      <el-col :span=\"7\">\r\n        <div class=\"header-right\">\r\n          <div class=\"header-user-con\">\r\n\r\n            <!--登陆后-->\r\n            <div class=\"btn-bell\" v-if=\"user.role!=null\">\r\n              <el-badge :is-dot=\"messagenum\"\r\n                        style=\"margin-right: 30px;\">\r\n                <router-link to=\"/message\">\r\n                  <el-icon style=\"color: white\"><Bell /></el-icon>\r\n                </router-link>\r\n              </el-badge>\r\n              <el-dropdown trigger=\"click\">\r\n                <span style=\"color: white; \">\r\n                  <i class=\"el-icon-s-custom\"></i>\r\n                  {{user.realname}}\r\n                </span>\r\n                <template #dropdown>\r\n                  <el-dropdown-menu style=\"background-color: black; \">\r\n                    <el-dropdown-item @click=\"goto_center\" style=\"color: white\">个人中心</el-dropdown-item>\r\n                    <el-dropdown-item @click=\"Logout\" style=\"color: white\">退出登录</el-dropdown-item>\r\n                  </el-dropdown-menu>\r\n                </template>\r\n              </el-dropdown>\r\n            </div>\r\n\r\n            <!--登陆前-->\r\n            <div v-if=\"user.role==null\">\r\n              <el-button type=\"info\"\r\n                         style=\"background-color: black;\r\n                         border-color: black;\r\n                         padding:0px;\r\n                         float: right\"\r\n                         @click=\"goto_register\">\r\n                注册\r\n              </el-button>\r\n              <el-button type=\"info\"\r\n                         style=\"background-color: black;\r\n                         border-color: black;\r\n                         padding:0px;\r\n                         float: right\"\r\n                         @click=\"goto_login\">\r\n                <i class=\"el-icon-finished\"\r\n                   style=\"padding: 0px;\r\n                   margin: 0px\"></i>  登录\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-divider style=\"background-color: black\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from \'../router/index.js\'\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      mypath:this.$route.path,\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      messagenum: false,\r\n      imgsrc:require(\'@/assets/img/logo3.jpg\'),\r\n    }\r\n  },\r\n  created() {\r\n    this.getmessage()\r\n  },\r\n  methods: {\r\n    goto_home(){\r\n      router.push(\'/\');\r\n    },\r\n    goto_login(){\r\n      router.push(\'/login\');\r\n    },\r\n    goto_register(){\r\n      router.push(\'/register\');\r\n    },\r\n    goto_honeypot(){\r\n      router.push(\'/honeypot\')\r\n    },\r\n    goto_nstools(){\r\n      router.push(\'/nstools\')\r\n    },\r\n    goto_navigation(){\r\n      router.push(\'/navigation\')\r\n    },\r\n    goto_forum(){\r\n      router.push(\'/forum\')\r\n    },\r\n    goto_coursemanagement(){\r\n      router.push(\'/coursemanagement\')\r\n    },\r\n    goto_usermanagement(){\r\n      router.push(\'/usermanagement\')\r\n    },\r\n    goto_center(){\r\n      router.push(\'/personalcenter\')\r\n    },\r\n    goto_message(){\r\n      router.push(\'/message\')\r\n    },\r\n    Logout(){\r\n      localStorage.clear();\r\n      router.push(\'/login\');\r\n    },\r\n    getmessage(){\r\n      request.get(\"/message/checknew\",{\r\n        params:{\r\n          userid:this.user.userid\r\n        }\r\n      }).then(res =>{\r\n        //存在未读消息\r\n        if (res.data>0){\r\n          this.messagenum=true\r\n        }else{\r\n          this.messagenum=false\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-row {\r\n  margin: 0px;\r\n  padding: 0px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  color: white;\r\n  background-color: black;\r\n}\r\n.el-col{\r\n  height: 60px;\r\n}\r\n.header {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 60px;\r\n  font-size: 22px;\r\n  color: #fff;\r\n}\r\n.collapse-btn {\r\n  float: left;\r\n  padding: 0 21px;\r\n  cursor: pointer;\r\n  line-height: 60px;\r\n}\r\n.header .logo {\r\n  float: left;\r\n  width: 250px;\r\n  line-height: 70px;\r\n  padding-left: 20px;\r\n}\r\n.somebutton {\r\n  float: left;\r\n  line-height: 60px;\r\n}\r\n.el-button {\r\n  color: #fff;\r\n  margin-left: 35px; /**左边间距 */\r\n  /* background-color: #1E90FF; */\r\n  /* border-color: #1E90FF; */\r\n  height: 60px;\r\n  /* line-height: 34px; */\r\n  padding: 0px;\r\n}\r\n.header-right {\r\n  /*float: right;*/\r\n  text-align: center;\r\n  margin-left: 50%;\r\n  padding-right: 50px;\r\n}\r\n.header-user-con {\r\n  display: flex;\r\n  height: 60px;\r\n  align-items: center;\r\n}\r\n.btn-fullscreen {\r\n  transform: rotate(45deg);\r\n  margin-right: 5px;\r\n  font-size: 24px;\r\n}\r\n.btn-bell{\r\n  position: relative;\r\n  /*width: 30px;*/\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.btn-fullscreen {\r\n  position: relative;\r\n  /*width: 30px;*/\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.btn-bell-badge {\r\n  position: absolute;\r\n  right: 0;\r\n  top: -2px;\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 4px;\r\n  background: #f56c6c;\r\n  color: #fff;\r\n}\r\n.btn-bell .el-icon-bell {\r\n  color: #fff;\r\n}\r\n\r\n.user-name {\r\n  margin-left: 10px;\r\n}\r\n.user-avator {\r\n  margin-left: 20px;\r\n}\r\n.user-avator img {\r\n  display: block;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n}\r\n.el-dropdown-link {\r\n  color: #fff;\r\n  cursor: pointer;\r\n}\r\n.el-dropdown-menu__item {\r\n  text-align: center;\r\n}\r\n\r\n.el-divider {\r\n  margin: 0;\r\n  position: relative;\r\n  vertical-align: middle;\r\n}\r\n</style>\r\n```\r\n\r\n##### nsepfooter.vue:\r\n\r\n```html\r\n<template>\r\n  <el-row :gutter=\"10\">\r\n    <el-col :xs=\"4\" :sm=\"4\" :md=\"4\" :lg=\"4\" :xl=\"4\">\r\n      <div class=\"grid-content bg-purple\"></div>\r\n    </el-col>\r\n    <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n      <div class=\"grid-content bg-purple\">\r\n        <p>WEBSITE</p>\r\n        <a class=\"aaa\" href=\"http://blog.dongpeibin.cn/\">BLOG</a><br>\r\n      </div>\r\n    </el-col>\r\n    <el-col :xs=\"4\" :sm=\"4\" :md=\"4\" :lg=\"4\" :xl=\"4\">\r\n      <div class=\"grid-content bg-purple\">\r\n        <el-divider direction=\"vertical\" style=\"color: gray\"></el-divider>\r\n      </div>\r\n    </el-col>\r\n    <el-col :xs=\"6\" :sm=\"6\" :md=\"6\" :lg=\"6\" :xl=\"6\">\r\n      <div class=\"grid-content bg-purple\">\r\n        <p>CONTACT THE DEVELOPER</p>\r\n        <a class=\"aaa\" href=\"http://blog.dongpeibin.cn/\">Dong Peibin</a><br>\r\n      </div>\r\n    </el-col>\r\n    <el-col :xs=\"4\" :sm=\"4\" :md=\"4\" :lg=\"4\" :xl=\"4\">\r\n      <div class=\"grid-content bg-purple\"></div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<style  scoped>\r\n.el-row {\r\n  color: azure;\r\n  height: 500px;\r\n}\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n.bg-purple {\r\n  margin-top: 40%;\r\n  text-align: center;\r\n  font-size: 25px;\r\n  /* background-color: antiquewhite; */\r\n  height: 300px;\r\n}\r\n.bg-purple .aaa {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  text-decoration:none;\r\n  color: gray;\r\n}\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n.el-divider {\r\n  position: relative;\r\n  vertical-align: middle;\r\n  height: 20ex;\r\n}\r\n</style>\r\n```\r\n\r\n##### nsepcarousel.vue:\r\n\r\n```html\r\n<template>\r\n  <!-- 走马灯 -->\r\n  <el-carousel indicator-position=\"outside\" height=\"700px\">\r\n    <el-carousel-item v-for=\"item in imgList\" :key=\"item.name\">\r\n      <img :src=\"item.src\"\r\n           style=\"height: 100%;\r\n           width: 100%\" />\r\n    </el-carousel-item>\r\n  </el-carousel>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  setup() {\r\n    return {\r\n      imgList: [\r\n        {\r\n          name: \"1\",\r\n          src: require(\"../assets/img/carousel_1.jpg\"),\r\n        },\r\n        {\r\n          name: \"2\",\r\n          src: require(\"../assets/img/carousel_2.jpg\"),\r\n        },\r\n        {\r\n          name: \"3\",\r\n          src: require(\"../assets/img/carousel_3.jpg\"),\r\n        },\r\n        {\r\n          name: \"4\",\r\n          src: require(\"../assets/img/carousel_4.jpg\"),\r\n        },\r\n        {\r\n          name: \"5\",\r\n          src: require(\"../assets/img/carousel_5.jpg\"),\r\n        },\r\n      ],\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-carousel__item h3 {\r\n  color: #475669;\r\n  font-size: 18px;\r\n  opacity: 0.75;\r\n  line-height: 600px;\r\n  margin: 0;\r\n  text-align: center;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n) {\r\n  background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n + 1) {\r\n  background-color: #d3dce6;\r\n}\r\n</style>\r\n\r\n\r\n```\r\n\r\n---\r\n\r\n\r\n\r\n> 组件创建完毕后再在主界面中引用\r\n\r\n##### home.vue:\r\n\r\n```html\r\n<template>\r\n  <div class=\"home\">\r\n    <nsepheader></nsepheader>\r\n<!--    <el-image :src=\"imgsrc\" style=\"width: 100%;\"/>-->\r\n    <nsepcarousel></nsepcarousel>\r\n    <div style=\"margin-top: 5%\">\r\n      <el-row style=\"margin-left: 5%;width: 90%\">\r\n        <el-col :span=\"8\">\r\n          <el-card v-if=\"see1==0\" class=\"Functioncard\"  id=\"card1\"  @mouseenter=\"enter(1)\" @click=\"goto(1)\">\r\n            <div style=\"color: white;margin-bottom:0px;padding-bottom: 0px;position: absolute;bottom: 5%\">\r\n              <div>\r\n                <h1 style=\"text-align: left;font-family:宋体;font-size: 35px;\">实验资源</h1>\r\n              </div>\r\n              <p style=\"font-size: 25px;text-align: left;margin-bottom: 0px;\">\r\n                <i class=\"el-icon-right\" style=\"\"></i>\r\n                Learn more about it\r\n              </p>\r\n            </div>\r\n          </el-card>\r\n          <el-card v-if=\"see1==1\" class=\"Functioncard\"  id=\"card1_2\"  @mouseleave=\"leave(1)\" @click=\"goto(1)\">\r\n            <div style=\"color: white;margin-bottom:0px;padding-bottom: 0px;position: absolute;bottom: 5%\">\r\n              <div >\r\n                <h1 style=\"text-align: left;font-family:宋体;font-size: 35px;\">实验资源</h1>\r\n                <el-divider   style=\"margin-bottom: 0px;\"/>\r\n                <h3 style=\"text-align: left\">集成了BAC、CSRF等十余种漏洞，渴望你的攻击与探索</h3>\r\n              </div>\r\n              <p style=\"font-size: 25px;text-align: left;margin-bottom: 0px;\">\r\n                <i class=\"el-icon-right\" style=\"\"></i>\r\n                Learn more about it\r\n              </p>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-card v-if=\"see2==0\" class=\"Functioncard\"  id=\"card2\"  @mouseenter=\"enter(2)\" @click=\"goto(2)\">\r\n            <div style=\"color: white;margin-bottom:0px;padding-bottom: 0px;position: absolute;bottom: 5%\">\r\n              <div >\r\n                <h1 style=\"text-align: left;font-family:宋体;font-size: 35px;\">网安工具</h1>\r\n              </div>\r\n              <p style=\"font-size: 25px;text-align: left;margin-bottom: 0px;\">\r\n                <i class=\"el-icon-right\" style=\"\"></i>\r\n                Learn more about it\r\n              </p>\r\n            </div>\r\n          </el-card>\r\n          <el-card v-if=\"see2==1\" class=\"Functioncard\"  id=\"card2_2\"   @mouseleave=\"leave(2)\" @click=\"goto(2)\">\r\n            <div style=\"color: white;margin-bottom:0px;padding-bottom: 0px;position: absolute;bottom: 5%\">\r\n              <div>\r\n                <h1 style=\"text-align: left;font-family:宋体;font-size: 35px;\">网安工具</h1>\r\n                <el-divider   style=\"margin-bottom: 0px;\"/>\r\n                <h3 style=\"text-align: left\">使用丰富的网安工具</h3>\r\n              </div>\r\n              <p style=\"font-size: 25px;text-align: left;margin-bottom: 0px;\">\r\n                <i class=\"el-icon-right\" style=\"\"></i>\r\n                Learn more about it\r\n              </p>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <el-card v-if=\"see3==0\" class=\"Functioncard\"  id=\"card3\"  @mouseenter=\"enter(3)\"  @click=\"goto(3)\">\r\n            <div style=\"color: white;margin-bottom:0px;padding-bottom: 0px;position: absolute;bottom: 5%\">\r\n              <div>\r\n                <h1 style=\"text-align: left;font-family:宋体;font-size: 35px;\">writeup</h1>\r\n              </div>\r\n              <p style=\"font-size: 25px;text-align: left;margin-bottom: 0px;\">\r\n                <i class=\"el-icon-right\" style=\"\"></i>\r\n                Learn more about it\r\n              </p>\r\n            </div>\r\n          </el-card>\r\n          <el-card v-if=\"see3==1\" class=\"Functioncard\"  id=\"card3_2\"  @mouseleave=\"leave(3)\" @click=\"goto(3)\">\r\n            <div style=\"color: white;margin-bottom:0px;padding-bottom: 0px;position: absolute;bottom: 5%\">\r\n              <div >\r\n                <h1 style=\"text-align: left;font-family:宋体;font-size: 35px;\">writeup</h1>\r\n                <el-divider   style=\"margin-bottom: 0px;\"/>\r\n                <h3 style=\"text-align: left\">自由的分享题解，交流攻击心得，展现你的聪明才智</h3>\r\n              </div>\r\n              <p style=\"font-size: 25px;text-align: left;margin-bottom: 0px;\">\r\n                <i class=\"el-icon-right\" style=\"\"></i>\r\n                Learn more about it\r\n              </p>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <nsepfooter></nsepfooter>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nsepheader from \'../components/nsepheader.vue\';\r\nimport nsepcarousel from \'../components/nsepcarousel.vue\';\r\nimport nsepfooter from \'../components/nsepfooter.vue\'\r\nimport animation from \"../assets/js/background_black\";\r\nimport router from \"../router\";\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    nsepcarousel,\r\n    nsepheader,\r\n    nsepfooter\r\n    // HelloWorld\r\n  },\r\n  data(){\r\n    return{\r\n      imgsrc: require(\'@/assets/img/home.png\'),\r\n      see1:0,\r\n      see2:0,\r\n      see3:0,\r\n    }\r\n  },\r\n  created() {\r\n    animation()\r\n  },\r\n  methods: {\r\n    enter(n){\r\n      if (n==1) this.see1=1;\r\n      else if(n==2) this.see2=1;\r\n      else this.see3=1;\r\n    },\r\n    leave(n){\r\n      if (n==1) this.see1=0;\r\n      else if(n==2) this.see2=0;\r\n      else this.see3=0;\r\n    },\r\n    goto(n){\r\n      if (n==1)  router.push(\'/honeypot\')\r\n      else if(n==2) router.push(\'/nstools\')\r\n      else router.push(\'/forum\')\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ndiv.home{\r\n  /*background-color: black;*/\r\n  /* background-image: url(\"../assets/img/background.jpg\"); */\r\n  margin: 0px;\r\n  padding: 0px;\r\n}\r\n.Functioncard{\r\n\r\n  /*background:url(\"../assets/img/home.png\");*/\r\n  /*background-color: #303133;*/\r\n  /*width: 100%;*/\r\n  height:500px;\r\n  margin: 5%;\r\n  border-style: none;\r\n  position: relative;\r\n  cursor:pointer;\r\n}\r\n#card1{\r\n  background:url(\"../assets/img/攻击靶场.jpg\");\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n#card1_2{\r\n  background:url(\"../assets/img/攻击靶场2.png\");\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n#card2{\r\n   background:url(\"../assets/img/能力提升.jpg\");\r\n   background-size: 100% 100%;\r\n   background-repeat: no-repeat;\r\n}\r\n#card2_2{\r\n  background:url(\"../assets/img/能力提升2.png\");\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n#card3{\r\n    background:url(\"../assets/img/writeup.jpg\");\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n}\r\n#card3_2{\r\n  background:url(\"../assets/img/writeup2.png\");\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n}\r\n</style>\r\n```\r\n\r\n##### 引入UI插件：\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/1935696332.png)\r\n引入宇宙特效及线条背景插件。\r\n\r\n##### 界面展现：\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/829813343.png)\r\n',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(18,'1679028807.png','1679028807-png',1679028807,1679028807,'a:5:{s:4:\"name\";s:14:\"1679028807.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/829813343.png\";s:4:\"size\";i:1404048;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',17),(20,'1679033095.png','1679033095-png',1679033095,1679033095,'a:5:{s:4:\"name\";s:14:\"1679033095.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4205122124.png\";s:4:\"size\";i:14848;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',27),(21,'1679033136.png','1679033136-png',1679033136,1679033136,'a:5:{s:4:\"name\";s:14:\"1679033136.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2164482226.png\";s:4:\"size\";i:57877;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',27),(22,'1679033147.png','1679033147-png',1679033148,1679033148,'a:5:{s:4:\"name\";s:14:\"1679033147.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/648003722.png\";s:4:\"size\";i:85312;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',27),(23,'1679033159.png','1679033159-png',1679033159,1679033159,'a:5:{s:4:\"name\";s:14:\"1679033159.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3224163363.png\";s:4:\"size\";i:35727;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',27),(24,'五、登录注册实现','24',1671257040,1679331271,'<!--markdown-->反范式设计：减少表的关联，更好地进行索引优化\r\n### 1、User表设计\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/4205122124.png)\r\n\r\n插入若干测试数据\r\n\r\n### 2、后端准备\r\n\r\n#### 引入mysql连接工具jar包\r\n\r\n```xml\r\n<dependency>\r\n    <groupId>mysql</groupId>\r\n    <artifactId>mysql-connector-java</artifactId>\r\n    <version>5.1.47</version>\r\n</dependency>\r\n```\r\n\r\n#### 引入数据库持久层框架Mybatis-Plus\r\n\r\n```xml\r\n<dependency>\r\n    <groupId>com.baomidou</groupId>\r\n    <artifactId>mybatis-plus-boot-starter</artifactId>\r\n    <version>3.5.1</version>\r\n</dependency>\r\n```\r\n\r\n#### 配置Mybatis-Plus\r\n\r\n```java\r\npackage com.dpb.nsepback.config;\r\n\r\nimport com.baomidou.mybatisplus.annotation.DbType;\r\nimport com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;\r\nimport com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;\r\nimport org.mybatis.spring.annotation.MapperScan;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n// mybatisplus配置文件\r\n@Configuration\r\n@MapperScan(\"com.dpb.nsepback.mapper\")\r\npublic class MybatisPlusConfig {\r\n    // 分页插件最新版\r\n    @Bean\r\n    public MybatisPlusInterceptor mybatisPlusInterceptor() {\r\n        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\r\n        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));\r\n        return interceptor;\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### 引入糊涂工具hutool和自动插入编辑器并构建工具lombok\r\n\r\n```xml\r\n<dependency>\r\n    <groupId>org.projectlombok</groupId>\r\n    <artifactId>lombok</artifactId>\r\n</dependency>\r\n<dependency>\r\n    <groupId>cn.hutool</groupId>\r\n    <artifactId>hutool-all</artifactId>\r\n    <version>5.7.20</version>\r\n</dependency>\r\n```\r\n\r\n#### 引入jwt拦截器以实现登录验证与接口保护\r\n\r\n```xml\r\n<dependency>\r\n    <groupId>com.auth0</groupId>\r\n    <artifactId>java-jwt</artifactId>\r\n    <version>3.10.3</version>\r\n</dependency>\r\n```\r\n\r\n#### 创建拦截器配置类\r\n\r\n```java\r\npackage com.dpb.nsepback.config;\r\n\r\nimport com.dpb.nsepback.config.interceptor.JwtInterceptor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n// 拦截器设置\r\n@Configuration\r\npublic class InterceptorConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n\r\n        registry.addInterceptor(jwtInterceptor())\r\n                .addPathPatterns(\"/**\")  // 拦截所有请求，通过判断token是否合法来决定是否需要登录\r\n                .excludePathPatterns(\"/user/login\", \"/user/register\",\"/RCE/**\",\"/Mail/**\")\r\n                .excludePathPatterns( \"/**/*.html\", \"/**/*.js\", \"/**/*.css\", \"/**/*.woff\", \"/**/*.ttf\");  // 放行静态文件\r\n\r\n    }\r\n\r\n    @Bean\r\n    public JwtInterceptor jwtInterceptor() {\r\n        return new JwtInterceptor();\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### 创建跨域配置类\r\n\r\n```java\r\npackage com.dpb.nsepback.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\nimport org.springframework.web.filter.CorsFilter;\r\n\r\n// 配置文件\r\n@Configuration\r\npublic class CorsConfig {\r\n\r\n    // 当前跨域请求最大有效时长。这里默认1天\r\n    private static final long MAX_AGE = 24 * 60 * 60;\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n\r\n        // 1 设置访问源地址\r\n        corsConfiguration.addAllowedOrigin(\"*\");\r\n\r\n        // 2 设置访问源请求头\r\n        corsConfiguration.addAllowedHeader(\"*\");\r\n\r\n        // 3 设置访问源请求方法\r\n        corsConfiguration.addAllowedMethod(\"*\");\r\n        corsConfiguration.setMaxAge(MAX_AGE);\r\n\r\n        // 4 对接口配置跨域设置\r\n        source.registerCorsConfiguration(\"/**\", corsConfiguration);\r\n\r\n        return new CorsFilter(source);\r\n    }\r\n}\r\n```\r\n\r\n#### 创建TokenUtil工具类\r\n\r\n```java\r\npackage com.dpb.nsepback.utils;\r\n\r\nimport cn.hutool.core.date.DateUtil;\r\nimport cn.hutool.core.util.StrUtil;\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.dpb.nsepback.entity.User;\r\nimport com.dpb.nsepback.service.IUserService;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.context.request.RequestContextHolder;\r\nimport org.springframework.web.context.request.ServletRequestAttributes;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport javax.annotation.Resource;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.util.Date;\r\n\r\n@Component\r\npublic class TokenUtils {\r\n\r\n    private static IUserService staticUserService;\r\n\r\n    @Resource\r\n    private IUserService userService;\r\n\r\n    @PostConstruct\r\n    public void setUserService() {\r\n        staticUserService = userService;\r\n    }\r\n\r\n    /**\r\n     * 生成token\r\n     *\r\n     * @return\r\n     */\r\n    public static String genToken(String userId,String sign) {\r\n\r\n        return JWT.create().withAudience(userId) // 将 user id 保存到 token 里面,作为载荷\r\n                .withExpiresAt(DateUtil.offsetHour(new Date(), 2)) // 2小时后token过期\r\n                .sign(Algorithm.HMAC256(sign)); // 以 password 作为 token 的密钥\r\n    }\r\n\r\n    /**\r\n     * 获取当前登录的用户信息\r\n     *\r\n     * @return user对象\r\n     */\r\n    public static User getCurrentUser() {\r\n        try {\r\n            HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n            String token = request.getHeader(\"token\");\r\n            if (StrUtil.isNotBlank(token)) {\r\n                String userId = JWT.decode(token).getAudience().get(0);\r\n                return staticUserService.getById(Integer.valueOf(userId));\r\n            }\r\n        } catch (Exception e) {\r\n            return null;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n#### 引入发送邮件工具包javax.mail\r\n\r\n```xml\r\n<dependency>\r\n    <groupId>javax.mail</groupId>\r\n    <artifactId>mail</artifactId>\r\n    <version>1.4.5</version>\r\n</dependency>\r\n```\r\n\r\n#### 创建mail工具类MailUtil\r\n\r\n> 此处使用的是我个人的163邮箱实现验证码发送至邮箱，实现在注册时绑定邮箱\r\n\r\n```java\r\npackage com.dpb.nsepback.utils;\r\nimport com.sun.mail.util.MailSSLSocketFactory;\r\n\r\nimport javax.mail.*;\r\nimport javax.mail.Message.RecipientType;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeMessage;\r\nimport java.util.Properties;\r\n\r\npublic class MailUtil {\r\n    //发送验证码邮件\r\n    public static void sendMail(String to, int vcode) throws Exception {\r\n        //设置发送邮件的主机  smtp.163.com\r\n        String host = \"smtp.163.com\";\r\n        //1.创建连接对象，连接到邮箱服务器\r\n        Properties props = System.getProperties();\r\n        //设置邮件服务器\r\n        props.setProperty(\"mail.smtp.host\", host);\r\n        props.put(\"mail.smtp.auth\", \"true\");\r\n        //SSL加密\r\n        MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n        sf.setTrustAllHosts(true);\r\n        props.put(\"mail.smtp.ssl.enable\", \"true\");\r\n        props.put(\"mail.smtp.ssl.socketFactory\", sf);\r\n        //props：用来设置服务器地址，主机名；Authenticator：认证信息\r\n        Session session = Session.getDefaultInstance(props, new Authenticator() {\r\n            @Override\r\n            //通过密码认证信息\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                //new PasswordAuthentication(用户名, password);\r\n                //这个用户名密码就可以登录到邮箱服务器了,用它给别人发送邮件\r\n                return new PasswordAuthentication(\"15265441806@163.com\", \"WWRXWRJQUFJJTHQJ\");\r\n            }\r\n        });\r\n        try {\r\n            Message message = new MimeMessage(session);\r\n            //2.1设置发件人：\r\n            message.setFrom(new InternetAddress(\"15265441806@163.com\"));\r\n            //2.2设置收件人 这个TO就是收件人\r\n            message.setRecipient(RecipientType.TO, new InternetAddress(to));\r\n            //2.3邮件的主题\r\n            message.setSubject(\"来自NSEP网络安全实验平台的验证码邮件\");\r\n            //2.4设置邮件的正文 第一个参数是邮件的正文内容 第二个参数是：是文本还是html的连接\r\n            message.setContent(\"<h1>来自NSEP网络安全实验平台的验证码邮件,请接收你的验证码：</h1><h3>你的验证码是：\" + vcode + \"，请妥善保管好你的验证码！</h3>\", \"text/html;charset=UTF-8\");\r\n            //3.发送一封激活邮件\r\n            Transport.send(message);\r\n        } catch (MessagingException mex) {\r\n            mex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n#### 引入fastjson工具包\r\n\r\n```xml\r\n<dependency>\r\n    <groupId>com.alibaba</groupId>\r\n    <artifactId>fastjson</artifactId>\r\n    <version>1.2.47</version>\r\n</dependency>\r\n```\r\n\r\n#### 设置自定义状态码和响应结果类\r\n\r\n```java\r\npackage com.dpb.nsepback.common;\r\n\r\n// 设定的状态数\r\npublic interface Constants {\r\n\r\n    String CODE_200 = \"200\"; // 成功\r\n    String CODE_401 = \"401\";  // 权限不足\r\n    String CODE_400 = \"400\";  // 参数错误\r\n    String CODE_500 = \"500\"; // 系统错误\r\n    String CODE_600 = \"600\"; // 其他业务异常\r\n\r\n    String DICT_TYPE_ICON = \"icon\";\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.dpb.nsepback.common;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Result {\r\n\r\n    // 状态数\r\n    private String code;\r\n    // 状态信息\r\n    private String msg;\r\n    // 返回数据\r\n    private Object data;\r\n\r\n    // 默认成功\r\n    public static Result success() {\r\n        return new Result(Constants.CODE_200, \"\", null);\r\n    }\r\n\r\n    // 成功并携带数据返回\r\n    public static Result success(Object data) {\r\n        return new Result(Constants.CODE_200, \"\", data);\r\n    }\r\n\r\n    // 错误并返回错误代号、错误信息和错误数据\r\n    public static Result error(String code, String msg) {\r\n        return new Result(code, msg, null);\r\n    }\r\n\r\n    // 系统错误\r\n    public static Result error() {\r\n        return new Result(Constants.CODE_500, \"系统错误\", null);\r\n    }\r\n\r\n    // 成功并返回状态信息和数据\r\n    public static Result success(String msg,Object data) {\r\n        return new Result(Constants.CODE_200, msg, data);\r\n    }\r\n\r\n    // 自定义错误\r\n    public static Result error(String msg) {\r\n        return new Result(Constants.CODE_500, msg, null);\r\n    }\r\n}\r\n```\r\n\r\n#### 配置自定义异常类\r\n\r\n```java\r\npackage com.dpb.nsepback.exception;\r\n\r\nimport lombok.Getter;\r\n/**\r\n * 自定义异常\r\n */\r\n@Getter\r\npublic class ServiceException extends RuntimeException {\r\n    private String code;\r\n\r\n    public ServiceException(String code, String msg) {\r\n        super(msg);\r\n        this.code = code;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage com.dpb.nsepback.exception;\r\n\r\nimport com.dpb.nsepback.common.Result;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n// 异常处理\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler {\r\n    /**\r\n     * 如果抛出的的是ServiceException，则调用该方法\r\n     * @param se 业务异常\r\n     * @return Result\r\n     */\r\n    @ExceptionHandler(ServiceException.class)\r\n    @ResponseBody\r\n    public Result handle(ServiceException se){\r\n        return Result.error(se.getCode(), se.getMessage());\r\n    }\r\n}\r\n```\r\n\r\n### 3、配置端口和数据库连接\r\n\r\n```properties\r\n# 应用名称\r\nspring.application.name=NsepBack\r\n\r\n#修改内置tomcat端口号\r\nserver.port=8081\r\n\r\n##设置项目上下文根\r\n#server.servlet.context-path=/Nsep\r\n\r\nspring.datasource.username=root\r\nspring.datasource.password=123456\r\nspring.datasource.url=jdbc:mysql://localhost:3306/nsep?useSSL=false&useUnicode=true&characterEncoding=utf-8&serverTimezone=GMT%2B8\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n```\r\n\r\n### 4、ORM数据映射层\r\n\r\n#### 数据传输对象UserDTO：\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.dto;\r\n\r\nimport lombok.Data;\r\n\r\n/**\r\n * 接受前端登录请求的参数\r\n */\r\n@Data\r\npublic class UserDTO {\r\n    private Integer userid;\r\n    private String username;\r\n    private String password;\r\n    private String realname;\r\n    private String email;\r\n    private int role;\r\n    private String token;\r\n}\r\n```\r\n\r\n#### 实体类User：\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport lombok.Data;\r\n\r\nimport java.io.Serializable;\r\n\r\n@Data\r\n@TableName(\"user\")\r\npublic class User implements Serializable {\r\n\r\n    @TableId(type = IdType.AUTO)\r\n    private Integer userid;\r\n    // 学工号\r\n    private String username;\r\n    // 密码\r\n    private String password;\r\n    // 姓名\r\n    private String realname;\r\n    // 邮箱\r\n    private String email;\r\n    // 角色\r\n    private Integer role;\r\n    // 完成题目数\r\n    private Integer finished;\r\n\r\n}\r\n```\r\n\r\n#### UserMapper接口：\r\n\r\n```java\r\npackage com.dpb.nsepback.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.dpb.nsepback.controller.dto.UserDTO;\r\nimport com.dpb.nsepback.controller.dto.UserPasswordDTO;\r\nimport com.dpb.nsepback.entity.User;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\nimport org.apache.ibatis.annotations.Update;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * <p>\r\n *  Mapper 接口\r\n * </p>\r\n */\r\n@Mapper\r\npublic interface UserMapper extends BaseMapper<User>  {\r\n\r\n    // 更新密码\r\n    @Update(\"update user set password = #{newpassword} where username = #{username} and password = #{password}\")\r\n    int updatePassword(UserPasswordDTO userPasswordDTO);\r\n\r\n    // 更新邮箱\r\n    @Update(\"update user set email = #{email} where username = #{username} and password = #{password}\")\r\n    int updateEmail(UserDTO userDTO);\r\n\r\n    // 分页查找\r\n    @Select(\"select username,realname,email,password,role from  user where username like \\\"%${search}%\\\" limit #{beginPage},#{pageSize}\")\r\n    List<User> getpage(Integer beginPage, Integer pageSize, String search);\r\n\r\n    // 查询总数\r\n    @Select(\"select count(*) from user where username like \\\"%${search}%\\\"\")\r\n    Integer gettotalpage(String search);\r\n//    and username like \"%${search}%\"\r\n\r\n    // 根据id查姓名\r\n    @Select(\"select realname from user where userid = #{userid}\")\r\n    String getname(String userid);\r\n\r\n    // 根据学号查邮箱\r\n    @Select(\"select email from user where username=#{username}\")\r\n    String selectbyun(String username);\r\n\r\n    // 更新靶场完成数\r\n    @Update(\"update user set finished = finished+1 where userid = #{userid}\")\r\n    int updateFinished(Integer userid);\r\n\r\n    // 根据学号查询\r\n    @Select(\"select userid from user where username=#{username}\")\r\n    Integer seleteIdByName(String username);\r\n\r\n    // 插入\r\n    @Update(\"insert into user (username,password,realname,email,role) values (#{username},#{password},#{realname},#{email},#{role})\")\r\n    Integer insertuser(String username,String password, String realname,String email,String role);\r\n\r\n    // 删除\r\n    @Update(\"DELETE FROM user WHERE username = #{username}\")\r\n    Integer deleteeuser(String username);\r\n\r\n    // 更新\r\n    @Update(\"UPDATE user set password =#{password}, realname=#{realname},email=#{email},role=#{role} where username =#{username}\")\r\n    Integer updateuser(String username,String password, String realname,String email,String role);\r\n\r\n}\r\n```\r\n\r\n### 5、Service层及实现\r\n\r\n#### IUserService接口：\r\n\r\n```java\r\npackage com.dpb.nsepback.service;\r\n\r\nimport com.baomidou.mybatisplus.extension.service.IService;\r\nimport com.dpb.nsepback.controller.dto.UserDTO;\r\nimport com.dpb.nsepback.entity.User;\r\n\r\npublic interface IUserService extends IService<User> {\r\n\r\n    // 登录\r\n    UserDTO login(UserDTO userDTO);\r\n\r\n    // 注册\r\n    User register(UserDTO userDTO);\r\n}\r\n```\r\n\r\n#### UserServiceImpl实现类：\r\n\r\n```java\r\npackage com.dpb.nsepback.service.impl;\r\n\r\nimport cn.hutool.core.bean.BeanUtil;\r\nimport cn.hutool.log.Log;\r\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\r\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.controller.dto.UserDTO;\r\nimport com.dpb.nsepback.entity.User;\r\nimport com.dpb.nsepback.exception.ServiceException;\r\nimport com.dpb.nsepback.mapper.UserMapper;\r\nimport com.dpb.nsepback.service.IUserService;\r\nimport com.dpb.nsepback.utils.TokenUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\n@Service\r\npublic class UserServiceImpl extends ServiceImpl<UserMapper, User> implements IUserService {\r\n\r\n    private static final Log LOG = Log.get();\r\n\r\n    @Autowired\r\n    public UserMapper userMapper;\r\n\r\n    // 登录\r\n    @Override\r\n    public UserDTO login(UserDTO userDTO) {\r\n        User one = getUserInfo(userDTO);\r\n        if (one != null) {\r\n            if(one.getPassword().equals(userDTO.getPassword())){\r\n                BeanUtil.copyProperties(one, userDTO, true);\r\n                //设置token\r\n                String token = TokenUtils.genToken(one.getUserid().toString(), one.getPassword().toString());\r\n                userDTO.setToken(token);\r\n                return userDTO;\r\n            }else{\r\n                throw new ServiceException(Constants.CODE_600, \"密码错误，请重新输入\");\r\n            }\r\n        } else {\r\n            throw new ServiceException(Constants.CODE_600, \"未查询到该用户，请检查用户名是否输入正确\");\r\n        }\r\n    }\r\n\r\n    // 注册\r\n    @Override\r\n    public User register(UserDTO userDTO) {\r\n        User one = getUserInfo(userDTO);\r\n        if (one == null) {\r\n            one = new User();\r\n            BeanUtil.copyProperties(userDTO, one, true);\r\n            // 默认学生\r\n            one.setRole(1);\r\n            // 把 copy完之后的用户对象存储到数据库\r\n            save(one);\r\n        } else {\r\n            throw new ServiceException(Constants.CODE_600, \"用户已存在\");\r\n        }\r\n        return one;\r\n    }\r\n\r\n    // 获取用户信息\r\n    private User getUserInfo(UserDTO userDTO) {\r\n        QueryWrapper<User> queryWrapper = new QueryWrapper<>();\r\n        queryWrapper.eq(\"username\", userDTO.getUsername());\r\n        User one;\r\n        try {\r\n            // 从数据库查询用户信息\r\n            one = getOne(queryWrapper);\r\n        } catch (Exception e) {\r\n            LOG.error(e);\r\n            throw new ServiceException(Constants.CODE_500, \"系统错误\");\r\n        }\r\n        return one;\r\n    }\r\n\r\n}\r\n```\r\n\r\n### 6、JWT拦截器设置 JwtInterceptor类\r\n\r\n```java\r\npackage com.dpb.nsepback.config.interceptor;\r\n\r\nimport cn.hutool.core.util.StrUtil;\r\nimport com.auth0.jwt.JWT;\r\nimport com.auth0.jwt.JWTVerifier;\r\nimport com.auth0.jwt.algorithms.Algorithm;\r\nimport com.auth0.jwt.exceptions.JWTDecodeException;\r\nimport com.auth0.jwt.exceptions.JWTVerificationException;\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.config.AuthAccess;\r\nimport com.dpb.nsepback.entity.User;\r\nimport com.dpb.nsepback.exception.ServiceException;\r\nimport com.dpb.nsepback.service.IUserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.method.HandlerMethod;\r\nimport org.springframework.web.servlet.HandlerInterceptor;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n// JWT拦截器\r\npublic class JwtInterceptor implements HandlerInterceptor {\r\n\r\n    @Autowired\r\n    private IUserService userService;\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {\r\n\r\n        String token = request.getHeader(\"token\");\r\n\r\n        // 如果不是映射到方法直接通过\r\n        if(!(handler instanceof HandlerMethod)){\r\n            return true;\r\n        } else {\r\n            HandlerMethod h = (HandlerMethod) handler;\r\n            AuthAccess authAccess = h.getMethodAnnotation(AuthAccess.class);\r\n            if (authAccess != null) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        // 执行认证\r\n        if (StrUtil.isBlank(token)) {\r\n            throw new ServiceException(Constants.CODE_401, \"无token，请重新登录\");\r\n        }\r\n\r\n        // 获取 token 中的 user id\r\n        String userId;\r\n        try {\r\n            userId = JWT.decode(token).getAudience().get(0);\r\n        } catch (JWTDecodeException j) {\r\n            throw new ServiceException(Constants.CODE_401, \"token验证失败，请重新登录\");\r\n        }\r\n\r\n        // 根据token中的userid查询数据库\r\n        User user = userService.getById(userId);\r\n        if (user == null) {\r\n            throw new ServiceException(Constants.CODE_401, \"用户不存在，请重新登录\");\r\n        }\r\n\r\n        // 用户密码加签验证 token\r\n        JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(user.getPassword())).build();\r\n        try {\r\n            jwtVerifier.verify(token); // 验证token\r\n        } catch (JWTVerificationException e) {\r\n            throw new ServiceException(Constants.CODE_401, \"token验证失败，请重新登录\");\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n\r\n### 7、Controller层\r\n\r\n#### UserController类：\r\n\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport cn.hutool.core.util.StrUtil;\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.controller.dto.UserDTO;\r\nimport com.dpb.nsepback.controller.dto.UserPasswordDTO;\r\nimport com.dpb.nsepback.entity.Page;\r\nimport com.dpb.nsepback.entity.User;\r\nimport com.dpb.nsepback.mapper.UserMapper;\r\nimport com.dpb.nsepback.service.IUserService;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(\"/user\")\r\npublic class UserController {\r\n\r\n    @Resource\r\n    UserMapper userMapper;\r\n\r\n    @Resource\r\n    private IUserService userService;\r\n\r\n    @PostMapping(\"/login\")\r\n    public Result login(@RequestBody UserDTO userDTO){\r\n        String username = userDTO.getUsername();\r\n        String password = userDTO.getPassword();\r\n        if (StrUtil.isBlank(username) || StrUtil.isBlank(password)) {\r\n            return Result.error(Constants.CODE_400, \"参数错误\");\r\n        }\r\n        UserDTO dto = userService.login(userDTO);\r\n        return Result.success(dto);\r\n    }\r\n\r\n    // 新增用户，注册\r\n    @GetMapping(\"/save\")\r\n    public Result save(@RequestParam() String username, @RequestParam() String password,\r\n                       @RequestParam() String realname, @RequestParam() String email, @RequestParam() String role){\r\n        if (userMapper.selectbyun(username)==null){\r\n            userMapper.insertuser(username,password,realname,email,role);\r\n            return Result.success(\"success\");\r\n        }else{\r\n            return Result.error(Constants.CODE_600,\"用户已存在\");\r\n        }\r\n    }\r\n\r\n    @PostMapping(\"/register\")\r\n    public Result register(@RequestBody UserDTO userDTO) {\r\n        String username = userDTO.getUsername();\r\n        String password = userDTO.getPassword();\r\n        if (StrUtil.isBlank(username) || StrUtil.isBlank(password)) {\r\n            return Result.error(Constants.CODE_400, \"参数错误\");\r\n        }\r\n        return Result.success(userService.register(userDTO));\r\n    }\r\n\r\n    @GetMapping(\"/page\")\r\n    public Result findpage(@RequestParam(defaultValue = \"1\") Integer pageNum,\r\n                           @RequestParam(defaultValue = \"5\")  Integer pageSize,\r\n                           @RequestParam(defaultValue = \"\")  String search){\r\n        Integer beginPage=(pageNum-1)*pageSize;\r\n\r\n        List<User> userPage=userMapper.getpage(beginPage,pageSize,search);\r\n        Integer totalpage=userMapper.gettotalpage(search);\r\n\r\n        System.out.println(totalpage);\r\n        Page page=new Page(userPage,totalpage);\r\n        return Result.success(page);\r\n    }\r\n\r\n    //根据id获取到姓名\r\n    @GetMapping(\"/getname\")\r\n    public Result getname(@RequestParam() String  userid){\r\n        String username=userMapper.getname(userid);\r\n        return Result.success(username);\r\n    }\r\n\r\n    @PostMapping(\"/repw\")\r\n    public Result repw(@RequestBody UserPasswordDTO userPasswordDTO) {\r\n        String username = userPasswordDTO.getUsername();\r\n        String password = userPasswordDTO.getPassword();\r\n        String newpassword = userPasswordDTO.getNewpassword();\r\n        if (StrUtil.isBlank(username) || StrUtil.isBlank(password) || StrUtil.isBlank(newpassword)) {\r\n            return Result.error(Constants.CODE_400, \"参数错误\");\r\n        }\r\n        userMapper.updatePassword(userPasswordDTO);\r\n        return Result.success();\r\n    }\r\n\r\n    @PostMapping(\"/reemail\")\r\n    public Result reemail(@RequestBody UserDTO userDTO) {\r\n        String username = userDTO.getUsername();\r\n        String password = userDTO.getPassword();\r\n        String email = userDTO.getEmail();\r\n        if (StrUtil.isBlank(username) || StrUtil.isBlank(password)||StrUtil.isBlank(email)) {\r\n            return Result.error(Constants.CODE_400, \"参数错误\");\r\n        }\r\n        userMapper.updateEmail(userDTO);\r\n        return Result.success();\r\n    }\r\n\r\n    @PostMapping(\"/selbyun\")\r\n    public Result selectbyname(@RequestBody UserDTO userDTO){\r\n        String username = userDTO.getUsername();\r\n        String email=userMapper.selectbyun(username);\r\n        userDTO.setEmail(email);\r\n        return Result.success(userDTO);\r\n    }\r\n\r\n    @GetMapping(\"/update\")\r\n    public Result updatebyname(@RequestParam() String username,@RequestParam() String password,\r\n                               @RequestParam() String realname,@RequestParam() String email,@RequestParam() String role){\r\n        userMapper.updateuser(username,password,realname,email,role);\r\n        return Result.success(\"success\");\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### MailController类：\r\n\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.service.IUserService;\r\nimport com.dpb.nsepback.utils.MailUtil;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.annotation.Resource;\r\n\r\n@RestController\r\n@RequestMapping(\"/Mail\")\r\npublic class MailController {\r\n    @Resource\r\n    private IUserService userService;\r\n    //注册时验证邮箱\r\n    @RequestMapping(\"/verifyMail\")\r\n    public Result verifyMail(@RequestParam(\"email\") String email) {\r\n        String code = \"\";\r\n        //使用随机数生成六位正整数验证码\r\n        int num = (int) ((Math.random() * 9 + 1) * 100000);\r\n        code = \"\" + num;\r\n        try {\r\n            MailUtil.sendMail(email, num);\r\n            return Result.success(code);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return Result.error(Constants.CODE_600, \"服务器异常，发送失败\");\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### 8、前端界面\r\n\r\n#### Login.vue:\r\n\r\n```html\r\n<template>\r\n    <div class=\"wrapper\">\r\n      <el-card class=\"card\">\r\n        <div style=\"margin: 20px 20px;\r\n            text-align: center;\r\n            font-size: 24px;\r\n            color: #99a9bf\">\r\n          <h2 style=\"color: aqua;font-family: \'幼圆\';\">网 络 安 全 实 验 平 台</h2>\r\n        </div>\r\n        <div style=\"margin: 20px 0;\r\n              text-align: center;\r\n              font-size: 24px;\r\n              color: #99a9bf\">\r\n          <b>登 录</b>\r\n        </div>\r\n        <el-form :model=\"user\"\r\n                 :rules=\"rules\"\r\n                 ref=\"userForm\">\r\n          <el-form-item prop=\"username\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input size=\"medium\"\r\n                      style=\"margin: 10px 0;\"\r\n                      prefix-icon=\"user\"\r\n                      v-model=\"user.username\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input size=\"medium\"\r\n                      style=\"margin: 10px 0\"\r\n                      prefix-icon=\"lock\"\r\n                      show-password\r\n                      v-model=\"user.password\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item style=\"margin-top: 10px;\r\n                        width: 70%;\r\n                        margin-left: 15%;\r\n                        text-align: center\">\r\n            <el-button type=\"success\"\r\n                       plain\r\n                       autocomplete=\"off\"\r\n                       @click=\"login\"\r\n                       style=\"width: 70%;\">\r\n              现在进入\r\n            </el-button>\r\n            <el-button type=\"warning\"\r\n                       plain\r\n                       size=\"small\"\r\n                       autocomplete=\"off\"\r\n                       @click=\"$router.push(\'/register\')\"\r\n                       style=\"width: 20%;\">\r\n              注册\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import router from \'../router/index.js\'\r\n  import request from \"../utils/request\";\r\n  import animation from \"../assets/js/background_black\";\r\n  export default {\r\n    name: \"Login\",\r\n    components:{\r\n    },\r\n    data() {\r\n      return {\r\n        user: {},\r\n        rules: {\r\n          username: [\r\n            {required: true, message: \'请输入用户名\', trigger: \'blur\'},\r\n            {min: 6, max: 12, message: \'用户名长度为 6 到 12 个字符\', trigger: \'blur\'}\r\n          ],\r\n          password: [\r\n            {required: true, message: \'请输入密码\', trigger: \'blur\'},\r\n            {min: 6, max: 20, message: \'密码长度为 6 到 20 个字符\', trigger: \'blur\'}\r\n          ],\r\n        },\r\n        url:this.$route.query.url,\r\n      }\r\n    },\r\n    created() {\r\n      animation()\r\n    },\r\n    methods: {\r\n      login() {\r\n        request.post(\"/user/login\", this.user).then(res => {\r\n          if (res.code === \'200\') {\r\n            localStorage.setItem(\"user\", JSON.stringify(res.data))  // 存储用户信息到浏览器\r\n  \r\n            //决定登陆后去哪个界面\r\n            if (this.url!=null){\r\n              let Base64 = require(\'js-base64\').Base64;\r\n              this.url=Base64.decode(this.url);\r\n  \r\n              router.push(this.url);\r\n            }else router.push(\'/\')\r\n  \r\n          }\r\n          else {\r\n            this.$message.error(res.msg)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .wrapper {\r\n    height: 100vh;\r\n    background: rgba(255,255,255,0.2);\r\n  }\r\n  .card{\r\n    margin: 200px auto;\r\n    /*background-color: #fff;*/\r\n    width: 550px;\r\n    height: 350px;\r\n    padding: 20px;\r\n    background-color: rgba(155,155,155,0.5);\r\n    border-style: none;\r\n    /*border-radius: 10px;*/\r\n  }\r\n  .el-input >>> .el-input__inner {\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    color: white;\r\n  }\r\n  </style>\r\n```\r\n\r\n#### Register.vue:\r\n\r\n```html\r\n<template>\r\n    <div class=\"wrapper\">\r\n      <el-card class=\"card\">\r\n        <div style=\"margin: 20px 20px;\r\n            text-align: center;\r\n            font-size: 24px;\r\n            color: #99a9bf\">\r\n          <h2 style=\"color: aqua;font-family: \'幼圆\';\">网 络 安 全 实 验 平 台</h2>\r\n        </div>\r\n        <div style=\"margin: 20px 0;\r\n              text-align: center;\r\n              font-size: 24px;\r\n              color: #99a9bf\">\r\n          <b>学 生 注 册</b>\r\n        </div>\r\n  \r\n        <el-form :model=\"user\"\r\n                 :rules=\"rules\"\r\n                 ref=\"userForm\" >\r\n          <el-form-item prop=\"username\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input placeholder=\"请输入学号\"\r\n                      size=\"medium\"\r\n                      style=\"margin: 5px 0\"\r\n                      prefix-icon=\"user\"\r\n                      v-model=\"user.username\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input placeholder=\"请输入密码\"\r\n                      size=\"medium\"\r\n                      style=\"margin: 5px 0\"\r\n                      prefix-icon=\"lock\"\r\n                      show-password\r\n                      v-model=\"user.password\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"confirmPassword\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input placeholder=\"请确认密码\"\r\n                      size=\"medium\"\r\n                      style=\"margin: 5px 0\"\r\n                      prefix-icon=\"lock\"\r\n                      show-password\r\n                      v-model=\"user.confirmPassword\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"realname\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input placeholder=\"请输入姓名\"\r\n                      size=\"medium\"\r\n                      style=\"margin: 5px 0\"\r\n                      prefix-icon=\"edit\"\r\n                      v-model=\"user.realname\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"email\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input placeholder=\"请输入邮箱\"\r\n                      v-bind:disabled=\"disabled\"\r\n                      size=\"medium\"\r\n                      style=\"margin: 5px 0\"\r\n                      prefix-icon=\"connection\"\r\n                      v-model=\"user.email\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item prop=\"emailcode\"\r\n                        style=\"width: 70%;\r\n                        margin-left: 15%\">\r\n            <el-input placeholder=\"请输入邮箱验证码\"\r\n                      size=\"medium\"\r\n                      style=\"margin: 5px 0;width: 65%;\"\r\n                      prefix-icon=\"edit\"\r\n                      v-model=\"emailcode\">            \r\n            </el-input>\r\n            <el-button type=\"info\"\r\n                       plain\r\n                       style=\"margin-left: 5%;width: 30%\"\r\n                       autocomplete=\"off\"\r\n                       v-bind:disabled=\"disabled\"\r\n                       @click=\"getCode\">\r\n                        获取验证码\r\n                      </el-button>\r\n          </el-form-item>\r\n          <el-form-item style=\"margin: 5px 0;\r\n                        text-align: center;\r\n                        width: 70%;\r\n                        margin-left: 15%;\">\r\n            <el-button type=\"success\"\r\n                       plain\r\n                       style=\"width: 60%\"\r\n                       autocomplete=\"off\"\r\n                       @click=\"register\">\r\n              注册\r\n            </el-button>\r\n            <el-button type=\"warning\"\r\n                       plain\r\n                       size=\"small\"\r\n                       autocomplete=\"off\"\r\n                       @click=\"$router.push(\'/login\')\"\r\n                       style=\"width: 30%;\">\r\n              返回登录\r\n            </el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import request from \"../utils/request\";\r\n  import router from \"@/router\";\r\n  import animation from \"../assets/js/background_black\";\r\n  export default {\r\n    name: \"Login\",\r\n    data() {\r\n      return {\r\n        user: {},\r\n        rules: {\r\n          username: [\r\n            { required: true, message: \'请输入学号\', trigger: \'blur\' },\r\n            { min: 6, max: 12, message: \'学号长度为 6 到 12 个字符\', trigger: \'blur\' }\r\n          ],\r\n          password: [\r\n            { required: true, message: \'请输入密码\', trigger: \'blur\' },\r\n            { min: 6, max: 20, message: \'密码长度为 6 到 20 个字符\', trigger: \'blur\' }\r\n          ],\r\n          confirmPassword: [\r\n            { required: true, message: \'请输入密码\', trigger: \'blur\' },\r\n            { min: 6, max: 20, message: \'密码长度为 6 到 20 个字符\', trigger: \'blur\' }\r\n          ],\r\n          realname: [\r\n            { required: true, message: \'请输入姓名\', trigger: \'blur\' },\r\n            { min: 2, max: 10, message: \'姓名长度为 2 到 10 个字符\', trigger: \'blur\' }\r\n          ],\r\n          email: [\r\n            { required: true, message: \'请输入邮箱\', trigger: \'blur\' },\r\n            { min: 5, max: 30, message: \'邮箱长度为 5 到 30 个字符\', trigger: \'blur\' }\r\n          ]\r\n        },\r\n        disabled:false,\r\n        emailcode:\'\',\r\n        realemailcode:\'\'\r\n      }\r\n    },\r\n    created() {\r\n      animation()\r\n    },\r\n    computed: {\r\n      btnText(){\r\n         return this.totalCount !==0? `${this.totalCount}秒再次获取`: \"获取验证码\"\r\n       }\r\n    },\r\n    methods: {\r\n      register() {\r\n        if (this.user.password != this.user.confirmPassword) {\r\n          this.$message.error(\"两次输入的密码不一致\")\r\n          return false\r\n        }\r\n        if(this.realemailcode != this.emailcode){\r\n          this.$message.error(\"您的邮箱验证码不正确，请重新输入\")\r\n          return false\r\n        }\r\n        request.post(\"/user/register\", this.user).then(res => {\r\n          if(res.code === \'200\') {\r\n            this.$message.success(\"注册成功\")\r\n            router.push(\"/login\")\r\n          } else {\r\n            this.$message.error(res.msg)\r\n          }\r\n        })\r\n      },\r\n      getCode(){\r\n        //邮箱正则验证\r\n        const data = /^([a-zA-Z0-9]+[-_\\.]?)+@[a-zA-Z0-9]+\\.[a-z]+$/;\r\n        if (!data.test(this.user.email)){\r\n          this.$message.error(\"您输入的邮箱格式有误\")\r\n          return false\r\n        }\r\n        this.disabled=true;\r\n        request.get(\"/Mail/verifyMail\"+\"?email=\"+this.user.email).then(res=> {\r\n            if(res.code === \'200\') {\r\n              this.realemailcode = res.data;\r\n              this.$message.success(\"发送成功，请注意查收！\")\r\n            } else {\r\n              this.$message.error(\"发送失败，请检查您的邮箱输入是否正确\")\r\n            }\r\n          }\r\n        )\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .wrapper {\r\n    height: 100vh;\r\n    background: rgba(255,255,255,0.2);\r\n  }\r\n  .card{\r\n    margin: 100px auto;\r\n    background-color: #fff;\r\n    width: 500px;\r\n    height: 620px;\r\n    padding: 20px;\r\n    background-color: rgba(155,155,155,0.5);\r\n    border-style: none;\r\n  }\r\n  .el-input >>> .el-input__inner {\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    color: white;\r\n  }\r\n  </style>\r\n```\r\n\r\n### 9、界面展现\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/2164482226.png)\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/648003722.png)\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3224163363.png)',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(25,'1679051964.png','1679051964-png',1679051964,1679051964,'a:5:{s:4:\"name\";s:14:\"1679051964.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4157398809.png\";s:4:\"size\";i:39931;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',33),(26,'1679051971.png','1679051971-png',1679051971,1679051971,'a:5:{s:4:\"name\";s:14:\"1679051971.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3839693707.png\";s:4:\"size\";i:56948;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',33),(27,'六、安全导航——友链实现','27',1671499140,1679331236,'<!--markdown-->## 六、安全导航——友链\r\n\r\n### 界面设计\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/4157398809.png)\r\n\r\n### 联系作者二维码\r\n\r\n直接截取QQ添加本人好友的二维码\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3839693707.png)\r\n### 代码实现\r\n\r\n先将准备好的12个主流站点的logo保存到/src/assets/img/websiteimg目录下\r\n\r\n准备好站点对应的链接及站点介绍\r\n\r\n准备数据：\r\n\r\n```html\r\nwebinfo:[\r\n        {\r\n          webname:\'HackerNews\',\r\n          webcontent:\'为您提供最新国际威胁情报、黑客动向以及维基解密资讯\',\r\n          weburl:\'https://hackernews.cc/?nsoad_com\',\r\n          imgurl:require(\'@/assets/img/websiteimg/09HackerNews.png\'),\r\n        },\r\n        {\r\n          webname:\'I春秋学院\',\r\n          webcontent:\'I春秋，新锐的信息安全在线教育品牌！\',\r\n          weburl:\'https://www.ichunqiu.com/?milw0rm.cn\',\r\n          imgurl:require(\'@/assets/img/websiteimg/07I春秋学院.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'安全客\',\r\n          webcontent:\'以与生俱来的安全防护能力,助推企业数字化安全发展 ！\',\r\n          weburl:\'https://www.anquanke.com/?nsoad.com\',\r\n          imgurl:require(\'@/assets/img/websiteimg/02安全客.png\'),\r\n        },\r\n        {\r\n          webname:\'CTF-Wiki\',\r\n          webcontent:\'CTF Wiki对CTF中的各个方向的知识和技术进行介绍，以便于初学者更好地学习CTF相关的知识。\',\r\n          weburl:\'https://ctf-wiki.org/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/08CTF-Wiki.png\'),\r\n        },\r\n        {\r\n          webname:\'XCTF社区\',\r\n          webcontent:\'XCTF联赛赛事资源信息及媒体发布平台,专注于为网络安全、白帽技术爱好者提供交流学习平台\',\r\n          weburl:\'https://www.xctf.org.cn/?nsoad.com\',\r\n          imgurl:require(\'@/assets/img/websiteimg/13XCTF社区.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'攻防世界\',\r\n          webcontent:\'CTF刷题和竞赛平台\',\r\n          weburl:\'https://adworld.xctf.org.cn/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/16攻防世界.png\'),\r\n        },\r\n        {\r\n          webname:\'破壳学院\',\r\n          webcontent:\'专注于白帽子、信息安全技术、网络攻防\',\r\n          weburl:\'https://pockr.org/activity\',\r\n          imgurl:require(\'@/assets/img/websiteimg/14破壳学院.png\'),\r\n        },\r\n        {\r\n          webname:\'SecWiki\',\r\n          webcontent:\'SecWiki-安全维基,汇集国内外优秀安全资讯、工具和网站\',\r\n          weburl:\'https://www.sec-wiki.com/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/06安全维基-SecWiki.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'CTFHub\',\r\n          webcontent:\'开箱即用的CTF学习解决方案\',\r\n          weburl:\'https://www.ctfhub.com/#/index\',\r\n          imgurl:require(\'@/assets/img/websiteimg/17CTFhub.svg\'),\r\n        },\r\n        {\r\n          webname:\'SecIN社区\',\r\n          webcontent:\'SecIN是启明星辰云众可信旗下的信息安全技术社区。\',\r\n          weburl:\'https://www.sec-in.com/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/18secin.svg\'),\r\n        },\r\n        {\r\n          webname:\'合天智汇\',\r\n          webcontent:\'长期致力于网络靶场和网安人才培养相关技术,产品研究与应用\',\r\n          weburl:\'https://www.heetian.com/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/11合天智汇.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'补天\',\r\n          webcontent:\'补天漏洞响应平台旨在建立企业与白帽子之间的桥梁,让企业更安全,让白帽子获益。\',\r\n          weburl:\'https://www.butian.net/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/19补天.jpeg\'),\r\n        },\r\n      ]\r\n```\r\n\r\n\r\nelement的布局方式与bootstrap原理是一样的，将网页划分成若干行，然后每行等分为若干列，基于这样的方式进行布局，形象的成为栅栏布局。使用element-plus中的el-card、el-row、el-col实现，默认分为24等列，使用span来控制每个列占比多少，十二个站点划分为三行四列，则只需要在el-col控制span为6（24/6=4）。\r\n\r\nnavigation.vue\r\n\r\n```html\r\n<!--安全导航-->\r\n<template>\r\n  <div class=\"navigation\">\r\n    <nsepheader></nsepheader>\r\n    <el-card class=\"myinfo\"\r\n             shadow=\"always\"\r\n             style=\" background-color:rgba(0,0,0,0.5);\r\n             color: white\">\r\n      <el-row>\r\n        <el-col :span=\"4\">\r\n          <div style=\"text-align:left\">\r\n            <el-image :src=\"imgsrc\"\r\n                      style=\"height:150px;\r\n                      width:150px;\r\n                      border-radius: 50%\"/>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"15\" >\r\n          <h1 style=\"color: aqua;font-family: \'幼圆\';\">网 络 安 全 实 验 平 台</h1>\r\n          <p style=\"font-size: 15px; line-height:30px; text-align: left;margin-top: 3%\">\r\n            基于docker的网络安全实验平台设计与实现课题旨在助力网络安全相关课程的实验教学与学习,\r\n            <br>可用于网络安全专业相关学生日常的网络安全学习以及网络安全攻防实验的练习，亦可用于CTF等相关信息安全竞赛的练习平台。\r\n          </p>\r\n        </el-col>\r\n        <el-col :span=\"5\">\r\n          <div style=\"text-align:left\">\r\n\r\n            <h3 style=\"text-align:left\">CONTACT ME</h3>\r\n            <el-row>\r\n              <el-col :span=\"12\">\r\n                <el-image :src=\"require(\'@/assets/img/myqrcode.png\')\"\r\n                          style=\"height:90px;\r\n                      width:90px;\r\n                      \"/>\r\n              </el-col>\r\n              <el-col :span=\"12\">\r\n                <el-link href=\"http://blog.dongpeibin.cn\"\r\n                style=\"margin-top: 10%;\" type=\"warning\">\r\n                  站长博客地址\r\n                </el-link>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n\r\n    <div class=\"otherinfo\">\r\n      <div>\r\n        <h2 style=\"text-align: left;\r\n            color: white\"> 精选推荐 </h2>\r\n      </div>\r\n      <div>\r\n        <el-row>\r\n          <el-col  v-for=\"(website, index) in webinfo\"\r\n                   :key=\"index\"\r\n                   :span=\"6\">\r\n            <el-card @click=\"gotopage(website.weburl)\"  shadow=\"hover\" style=\"margin:10px;height:110px;cursor:pointer;\">\r\n              <el-row>\r\n                <el-col :span=\"6\">\r\n                  <el-image :src=\"website.imgurl\" style=\"float: left; width: 85%;heigth:85%;margin-right: 15%; \" />\r\n                </el-col>\r\n                <el-col :span=\"18\">\r\n                  <h4 style=\"margin:0px;\r\n                      text-align: left;\">{{ website.webname}}</h4>\r\n                  <p style=\"margin:0px;\r\n                      text-align: left;\r\n                      font-size: 80%\">{{ website.webcontent}}</p>\r\n                </el-col>\r\n              </el-row>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nsepheader from \"../components/nsepheader.vue\";\r\nimport animation from \"../assets/js/background_black\";\r\n\r\nexport default {\r\n  components: {nsepheader},\r\n  data(){\r\n    return{\r\n      imgsrc: require(\'@/assets/img/login-bg.jpg\'),\r\n      webinfo:[\r\n        {\r\n          webname:\'HackerNews\',\r\n          webcontent:\'为您提供最新国际威胁情报、黑客动向以及维基解密资讯\',\r\n          weburl:\'https://hackernews.cc/?nsoad_com\',\r\n          imgurl:require(\'@/assets/img/websiteimg/09HackerNews.png\'),\r\n        },\r\n        {\r\n          webname:\'I春秋学院\',\r\n          webcontent:\'I春秋，新锐的信息安全在线教育品牌！\',\r\n          weburl:\'https://www.ichunqiu.com/?milw0rm.cn\',\r\n          imgurl:require(\'@/assets/img/websiteimg/07I春秋学院.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'安全客\',\r\n          webcontent:\'以与生俱来的安全防护能力,助推企业数字化安全发展 ！\',\r\n          weburl:\'https://www.anquanke.com/?nsoad.com\',\r\n          imgurl:require(\'@/assets/img/websiteimg/02安全客.png\'),\r\n        },\r\n        {\r\n          webname:\'CTF-Wiki\',\r\n          webcontent:\'CTF Wiki对CTF中的各个方向的知识和技术进行介绍，以便于初学者更好地学习CTF相关的知识。\',\r\n          weburl:\'https://ctf-wiki.org/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/08CTF-Wiki.png\'),\r\n        },\r\n        {\r\n          webname:\'XCTF社区\',\r\n          webcontent:\'XCTF联赛赛事资源信息及媒体发布平台,专注于为网络安全、白帽技术爱好者提供交流学习平台\',\r\n          weburl:\'https://www.xctf.org.cn/?nsoad.com\',\r\n          imgurl:require(\'@/assets/img/websiteimg/13XCTF社区.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'攻防世界\',\r\n          webcontent:\'CTF刷题和竞赛平台\',\r\n          weburl:\'https://adworld.xctf.org.cn/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/16攻防世界.png\'),\r\n        },\r\n        {\r\n          webname:\'破壳学院\',\r\n          webcontent:\'专注于白帽子、信息安全技术、网络攻防\',\r\n          weburl:\'https://pockr.org/activity\',\r\n          imgurl:require(\'@/assets/img/websiteimg/14破壳学院.png\'),\r\n        },\r\n        {\r\n          webname:\'SecWiki\',\r\n          webcontent:\'SecWiki-安全维基,汇集国内外优秀安全资讯、工具和网站\',\r\n          weburl:\'https://www.sec-wiki.com/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/06安全维基-SecWiki.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'CTFHub\',\r\n          webcontent:\'开箱即用的CTF学习解决方案\',\r\n          weburl:\'https://www.ctfhub.com/#/index\',\r\n          imgurl:require(\'@/assets/img/websiteimg/17CTFhub.svg\'),\r\n        },\r\n        {\r\n          webname:\'SecIN社区\',\r\n          webcontent:\'SecIN是启明星辰云众可信旗下的信息安全技术社区。\',\r\n          weburl:\'https://www.sec-in.com/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/18secin.svg\'),\r\n        },\r\n        {\r\n          webname:\'合天智汇\',\r\n          webcontent:\'长期致力于网络靶场和网安人才培养相关技术,产品研究与应用\',\r\n          weburl:\'https://www.heetian.com/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/11合天智汇.jpeg\'),\r\n        },\r\n        {\r\n          webname:\'补天\',\r\n          webcontent:\'补天漏洞响应平台旨在建立企业与白帽子之间的桥梁,让企业更安全,让白帽子获益。\',\r\n          weburl:\'https://www.butian.net/\',\r\n          imgurl:require(\'@/assets/img/websiteimg/19补天.jpeg\'),\r\n        },\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    animation()\r\n  },\r\n  methods: {\r\n    gotopage(url){\r\n      window.open(url);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.myinfo{\r\n  height:200px;\r\n  /*background-color: #475669;*/\r\n  margin-left:10%;\r\n  margin-right:10%;\r\n  margin-top:2%;\r\n}\r\n.otherinfo{\r\n  height: 600px;\r\n  /*background-color: #f56c6c;*/\r\n  margin-left:10%;\r\n  margin-right:10%;\r\n  margin-top:2%;\r\n}\r\n.navigation{\r\n  background-color: rgba(128,138,135,0.8);\r\n}\r\n\r\n</style>\r\n```\r\n\r\n### 界面展现\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/4227024387.png)',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(28,'1679052195.png','1679052195-png',1679052195,1679052195,'a:5:{s:4:\"name\";s:14:\"1679052195.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4227024387.png\";s:4:\"size\";i:212495;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',5,1,NULL,'attachment','publish',NULL,0,'1','0','1',27),(29,'1679158787.jpg','1679158787-jpg',1679158787,1679158787,'a:5:{s:4:\"name\";s:14:\"1679158787.jpg\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4052044709.jpg\";s:4:\"size\";i:144601;s:4:\"type\";s:3:\"jpg\";s:4:\"mime\";s:10:\"image/jpeg\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',36),(30,'1679158793.jpg','1679158793-jpg',1679158794,1679158794,'a:5:{s:4:\"name\";s:14:\"1679158793.jpg\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4203770833.jpg\";s:4:\"size\";i:507983;s:4:\"type\";s:3:\"jpg\";s:4:\"mime\";s:10:\"image/jpeg\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',36),(31,'1679158847.jpg','1679158847-jpg',1679158848,1679158848,'a:5:{s:4:\"name\";s:14:\"1679158847.jpg\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2152157705.jpg\";s:4:\"size\";i:127568;s:4:\"type\";s:3:\"jpg\";s:4:\"mime\";s:10:\"image/jpeg\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',36),(32,'1679158854.jpg','1679158854-jpg',1679158854,1679158854,'a:5:{s:4:\"name\";s:14:\"1679158854.jpg\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/677234182.jpg\";s:4:\"size\";i:371596;s:4:\"type\";s:3:\"jpg\";s:4:\"mime\";s:10:\"image/jpeg\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',36),(33,' 《保重》——大冰 小蓝书收官之作','33',1678984920,1679552216,'<!--markdown-->> 感谢姐姐百忙之中能替我参加《保重》签书会\r\n\r\n--- \r\n## 于无常处知有情，于有情处知众生\r\n\r\n> 没有人永远喜欢大冰，但是却永远有人正在喜欢大冰。\r\n\r\n#### 犹记16年，17年，中学时代，那时候是封闭住宿式管理，学校不让带手机，苦于学习文化课，除了体育课可以出去打打球，剩下的唯一能让心灵放松的时刻便是每周两次的阅读课。\r\n#### 阅读课也是有要求的，不能看世俗的小说，不能看多彩的漫画，不能看有趣的玄幻，不能看......\r\n#### 偶然发现喜欢和我在阅读课偷偷睡觉的同桌，在一次阅读课上竟然在津津有味的看书，让我大为震惊，抢来合上看看书名——《乖，摸摸头》，心里偷笑：这啥玩意，这名起的，又俗又搞笑。\r\n#### 同桌一连五次阅读课都钻进了这本书里，本来我俩是互相放哨，轮流睡觉的，可这书把我的战友硬生生搞“叛变了”。\r\n#### 好奇心，攒了一周零花钱也买了一本。这是我第一次接触大冰的作品，这本书给我的心灵冲击毫无疑问是无比巨大的。\r\n#### 后来的阅读课，我用我买的第一本的大冰作品《乖，摸摸头》和道友交换到了《好吗，好的》、《我不》等等大冰的续作。甚至一度培养起了我读书的热情，也让我在做语文阅读题时能多得好些分。\r\n#### 直到高二下，已经是逼近高三高考的时间，好多人阅读课都在做语文的小题专项训练，只有我还在乐呵呵的看着那年的大冰新作《你坏》。\r\n#### 大学四年好似忘了，要多读书啊。\r\n#### 感谢老姐告知3.11《保重》签书会于潍坊站，时隔四年可以再阅佳作，且是我拿到的第一本作者签名作，也遗憾将是最后一本，小蓝书收官之作《保重》......\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/4052044709.jpg)\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/2152157705.jpg)\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/677234182.jpg)\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/4203770833.jpg)',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(34,'1679192861.png','1679192861-png',1679192862,1679192862,'a:5:{s:4:\"name\";s:14:\"1679192861.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/174987220.png\";s:4:\"size\";i:478372;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',42),(35,'1679192877.png','1679192877-png',1679192878,1679192878,'a:5:{s:4:\"name\";s:14:\"1679192877.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1350031486.png\";s:4:\"size\";i:415623;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',42),(36,'工人的女儿——《保重》','36',1679150580,1680338205,'<!--markdown-->*“记录姓名的本子纸张已然发黄陈旧，上百个姓名陈列其中，普普通通的工人们如今可都安好，可还记得曾在遥远的千禧年，齐心合力保卫过一个小女孩的生命。”*\r\n\r\n*“爸爸一生都在保护我，现在轮到我去保护他了。\r\n她停下脚步，轻轻地说：\r\n这是从小到大，我活着的唯一动力。”*\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/174987220.png)\r\n*“一直到今天，她最抵触听到的就是这四个字：身残志坚。\r\n她宁可被谩骂也不到被感慨，宁可被忽视也不到被可怜。”*\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/1350031486.png)\r\n*“当读到这一篇这一段这一句的这一刻，这场命运之海中的寻常泅渡，她仍在继续，你我亦何尝不是。”*\r\n\r\n\r\n*“世间若有赠运术，愿以我黄昏，予你黎明。\r\n愿以云翳，装点黄昏。\r\n愿世间苦难再少再少再少一点吧。”*',0,1,NULL,'post','publish',NULL,1,'1','1','1',0),(37,'1679197130.png','1679197130-png',1679197131,1679197131,'a:5:{s:4:\"name\";s:14:\"1679197130.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2299981023.png\";s:4:\"size\";i:238389;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',45),(38,'1679197138.png','1679197138-png',1679197139,1679197139,'a:5:{s:4:\"name\";s:14:\"1679197138.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/795171533.png\";s:4:\"size\";i:238389;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',45),(39,'1679197153.png','1679197153-png',1679197154,1679197154,'a:5:{s:4:\"name\";s:14:\"1679197153.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2429499228.png\";s:4:\"size\";i:229171;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',45),(40,'1679197161.png','1679197161-png',1679197162,1679197162,'a:5:{s:4:\"name\";s:14:\"1679197161.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3828045837.png\";s:4:\"size\";i:229171;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',45),(41,'1679197204.png','1679197204-png',1679197205,1679197205,'a:5:{s:4:\"name\";s:14:\"1679197204.png\";s:4:\"path\";s:33:\"/usr/uploads/2023/03/19872936.png\";s:4:\"size\";i:938791;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',5,1,NULL,'attachment','publish',NULL,0,'1','0','1',45),(42,'胶东往事（上）——《保重》','42',1679197200,1679331330,'<!--markdown-->*“两万字的书写仿如一场扶乱，又似一场追寻，\r\n我信马由缰，试着记录和描述一些东西，依此观想我的底色，回归我的基因，\r\n纵离乡千里万里，愿故土借我心力。”*\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3828045837.png)\r\n\r\n---\r\n*“其实完全能理解他，半是缅怀，半是乡愁，一个去国离乡几十年的孤独老头。\r\n酒和酒杯，鱼和洋流，谁说乡愁只能因故土而生。”*\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/19872936.png)\r\n\r\n---\r\n*“名字“大冰”的来历”\r\n1980年她把我生在胶东的莱阳县，简陋的产房、平房，她对接生人员进行了细致有效的专业指导，彼时风云大作冰雹骤降，打得屋顶噼啪乱响，她琢磨着天意不可违，贱名也好养活，不如叫“冰雹”？\r\n不行，雹字还是去掉吧，乍一听像肉馅食品似的，太富贵了受不起。\r\n从那时到现在，40多年过去。\r\n她对我的期望一直不高，能活着就行。\r\n对此，我很感激。*',0,1,NULL,'post','publish',NULL,1,'1','1','1',0),(43,'1679200420.png','1679200420-png',1679200421,1679200421,'a:5:{s:4:\"name\";s:14:\"1679200420.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3935681889.png\";s:4:\"size\";i:5891;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',48),(44,'1679200461.png','1679200461-png',1679200463,1679200463,'a:5:{s:4:\"name\";s:14:\"1679200461.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/157251625.png\";s:4:\"size\";i:127005;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',48),(45,'七、网安工具实现','45',1672374780,1679331224,'<!--markdown--># > 在构思这个模块时，我想到了两种解决方案，第一种是像友链那样直接引入外部网安工具的站点，第二种是将网安工具从源码层面上实现。最终我选择了第二种，参考了github上很多的开源工具代码，最终实现了基础的网安工具应有的部分。\r\n\r\n### 1、网安工具应包含哪些？\r\n\r\n+ 其实网安工具大部分都有专用的软件，像bp(burpsuit)、sqlmap、nmap等等这些都是网安人 人尽皆知 的工具。\r\n+ 那出了上述具有较强的专业性的工具以外，还有很多在线的小工具，像扫描某个服务器开放的端口的扫描工具、查询某个站点的子域名的查询工具、查询IP地址信息的查询工具以及密码编码解码的工具等等，这些就是我需要在系统中集成实现的。\r\n\r\n### 2、子域名查询工具的实现：\r\n\r\n> 前端接收要查询的子域名，后端调用https://chaziyu.com/网站进行查询\r\n\r\n#### 思路\r\n\r\n*最难的一个点在于，https://chaziyu.com/有查询次数限制，再多次查询后需登录才能继续查询。解决办法在于请求查询时附带已登录的User-Agent和Cookie，这样就可以实现不限次数的查询*\r\n\r\n#### 数据库\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3935681889.png)\r\n设计一个cookie表，将cookie和对应的工具存入到其中。我一开始这么设计的原因是考虑到后续像IP地址查询工具也会使用到cookie之类的，所以有必要设计一个表来存储不同工具所对应的不同的cookie。\r\n\r\n#### 后端\r\n\r\ndomain.java\r\n\r\n```java\r\npublic class domain {\r\n    public static String sendRequest(String urlParam,String requestType) {\r\n\r\n        HttpURLConnection con = null;\r\n\r\n        BufferedReader buffer = null;\r\n        StringBuffer resultBuffer = null;\r\n\r\n        try {\r\n            StringBuilder json = new StringBuilder();\r\n            URL url = new URL(urlParam);\r\n            //得到连接对象\r\n            con = (HttpURLConnection) url.openConnection();\r\n            //设置请求类型\r\n            con.setRequestMethod(requestType);\r\n            //设置请求需要返回的数据类型和字符集类型\r\n            //con.setRequestProperty(\"Content-Type\", \"text/plain; charset=utf-8\");\r\n            con.setRequestProperty(\"User-Agent\",\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.41 Safari/537.36 Edg/101.0.1210.32\");\r\n            con.setRequestProperty(\"Cookie\",\"Hm_lvt_7d51be3b7524d35798ad1304e725bd2c=1653190253,1653827802,1653871299; Hm_lpvt_7d51be3b7524d35798ad1304e725bd2c=1653871340\");\r\n            //允许写出\r\n            con.setDoOutput(true);\r\n            //允许读入\r\n            con.setDoInput(true);\r\n            //不使用缓存\r\n            con.setUseCaches(false);\r\n\r\n            //得到响应码\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(responseCode);\r\n            if(responseCode == HttpURLConnection.HTTP_OK){\r\n                //得到响应流\r\n                InputStream inputStream = con.getInputStream();\r\n                //将响应流转换成字符串\r\n                resultBuffer = new StringBuffer();\r\n                String line;\r\n                buffer = new BufferedReader(new InputStreamReader(inputStream, \"utf-8\"));\r\n                while ((line = buffer.readLine()) != null) {\r\n                    //resultBuffer.append(line);\r\n                    json.append(line);\r\n                }\r\n                return json.toString();\r\n            }\r\n\r\n        }catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return \"fail\";\r\n    }\r\n}\r\n```\r\n\r\nDomainFindController.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.SubDomain;\r\n\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.controller.dto.DomainDTO;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\n@RestController\r\npublic class DomainFindController {\r\n    @Autowired\r\n    DataSource dataSource;\r\n    public String sql;\r\n\r\n    @RequestMapping(\"/DomainFind\")\r\n    public @ResponseBody\r\n    Result domainfind(@RequestParam(\"urlP\") String urlP){\r\n        //cookie\r\n        String cookie = null;\r\n        try {\r\n            Connection connection = dataSource.getConnection();\r\n            // 预编译\r\n            String sql = \"select cookie from cookie where tools = ?\";\r\n            PreparedStatement st = connection.prepareStatement(sql, ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_READ_ONLY);\r\n            st.setString(1, \"domain\");\r\n            System.out.println(sql);\r\n            ResultSet rs = st.executeQuery();\r\n            // 通过此对象可以得到表的结构，包括，列名，列的个数，列数据类型\r\n            rs.last();\r\n            int row = rs.getRow();\r\n\r\n            rs.beforeFirst();\r\n            System.out.println(\"查找到行数为\"+row);\r\n            if(row==1){\r\n                rs.next();\r\n                cookie = rs.getString(\"cookie\");\r\n            }\r\n            else {\r\n                Result res=new Result(Constants.CODE_200,null,\"无cookie信息\");\r\n                return res;\r\n            }\r\n            rs.close();\r\n            connection.close();\r\n\r\n        } catch (SQLException e) {\r\n            System.out.println(\"输入内容错误，数据库查询错误\");\r\n            System.out.println(e.toString());\r\n            Result res=new Result(Constants.CODE_200,null,\"数据库错误\");\r\n            return res;\r\n            //return \"输入内容错误，数据库查询错误\";\r\n        }\r\n\r\n        String url = \"https://chaziyu.com/\"+urlP+\"/\";\r\n        System.out.println(url);\r\n\r\n        String return_data = sendRequest(url,\"GET\",cookie);\r\n        System.out.println(return_data);\r\n\r\n        int index_start = return_data.indexOf(\"<th><span>子域名</span></th>\");\r\n        int index_last = return_data.lastIndexOf(\"最新子域名查询\");\r\n        String return_data1 = return_data.substring(index_start,index_last);\r\n        System.out.println(return_data1);\r\n\r\n        String[] ret = return_data1.split(\"<tr class=\\\"J_link\\\">\");\r\n        String ret1 = \"\";\r\n        int index_start1;\r\n        int index_last1;\r\n        for(int i=1;i<ret.length;i++){\r\n            index_start1 = ret[i].indexOf(\"target=\\\"_blank\\\">\");\r\n            index_last1 = ret[i].indexOf(\"</a></td>\");\r\n            ret1 = ret1+ret[i].substring(index_start1+16,index_last1)+\",\";\r\n        }\r\n        System.out.println(\"return第一部分：\"+ret1);\r\n        System.out.println(\"======================\");\r\n        System.out.println(ret[ret.length-1]);\r\n\r\n        String[] ret2 = ret[ret.length-1].split(\"</span></td>\");\r\n        System.out.println(\"ret2[]=\"+ret2);\r\n        String ret3 = \"\";\r\n        int index_start2;\r\n        int index_last2;\r\n        for(int i=2;i<ret2.length;i++){\r\n//            System.out.println(ret2[i]);\r\n            index_start2 = ret2[i].indexOf(\"rel=\\\"nofollow\\\">\");\r\n            index_last2 = ret2[i].indexOf(\"</a></td>\");\r\n            ret3 = ret3+ret2[i].substring(index_start2+15,index_last2)+\",\";\r\n        }\r\n        System.out.println(\"return第二部分：\"+ret3);\r\n        String retdata = ret1 + ret3;\r\n        String[] retdata1 = retdata.split(\",\");\r\n        DomainDTO[] domainDTOS = new DomainDTO[retdata1.length];\r\n        for (int i=0;i<retdata1.length;i++){\r\n            domainDTOS[i] = new DomainDTO((i+1)+\"\",retdata1[i]);\r\n        }\r\n        Result res=new Result(Constants.CODE_200,null,domainDTOS);\r\n        return res;\r\n    }\r\n\r\n    public String sendRequest(String urlParam,String requestType,String cookie) {\r\n\r\n        HttpURLConnection con = null;\r\n\r\n        BufferedReader buffer = null;\r\n        StringBuffer resultBuffer = null;\r\n\r\n        try {\r\n            StringBuilder json = new StringBuilder();\r\n            URL url = new URL(urlParam);\r\n            //得到连接对象\r\n            con = (HttpURLConnection) url.openConnection();\r\n            //设置请求类型\r\n            con.setRequestMethod(requestType);\r\n            //设置请求需要返回的数据类型和字符集类型\r\n            //con.setRequestProperty(\"Content-Type\", \"text/plain; charset=utf-8\");\r\n            con.setRequestProperty(\"User-Agent\",\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.41 Safari/537.36 Edg/101.0.1210.32\");\r\n            con.setRequestProperty(\"Cookie\",cookie);\r\n            //            con.setRequestProperty(\"User-Agent\",\"\");\r\n            //允许写出\r\n            con.setDoOutput(true);\r\n            //允许读入\r\n            con.setDoInput(true);\r\n            //不使用缓存\r\n            con.setUseCaches(false);\r\n            //得到响应码\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(responseCode);\r\n            if(responseCode == HttpURLConnection.HTTP_OK){\r\n                //得到响应流\r\n                InputStream inputStream = con.getInputStream();\r\n                //将响应流转换成字符串\r\n                resultBuffer = new StringBuffer();\r\n                String line;\r\n                buffer = new BufferedReader(new InputStreamReader(inputStream, \"utf-8\"));\r\n                while ((line = buffer.readLine()) != null) {\r\n                    //resultBuffer.append(line);\r\n                    json.append(line);\r\n                }\r\n                return json.toString();\r\n            }\r\n\r\n        }catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return \"fail\";\r\n    }\r\n}\r\n```\r\n\r\nRes.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.SubDomain;\r\n\r\npublic class Res {\r\n    private String name ;\r\n    private String info ;\r\n\r\n    public Res(String name, String info) {\r\n        this.name = name;\r\n        this.info = info;\r\n    }\r\n\r\n    public Res() {\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getInfo() {\r\n        return info;\r\n    }\r\n\r\n    public void setInfo(String info) {\r\n        this.info = info;\r\n    }\r\n    public String toString(){\r\n        return this.name+this.info;\r\n    }\r\n}\r\n```\r\n\r\n#### 前端\r\n\r\ndomain_find.vue\r\n\r\n```html\r\n<template style=\"background-color: #000000\">\r\n  <el-row>\r\n    <el-col\r\n        :span=\"10\"\r\n        style=\"margin-top: 4%\">\r\n      <el-image\r\n          :src=\"imgsrc\"\r\n          style=\"height: 75%;\r\n          width: 40%;\r\n          margin-left: 45%;\r\n          margin-top: 5%\"/>\r\n    </el-col>\r\n\r\n    <el-col :span=\"14\" style=\"\">\r\n      <h1\r\n          style=\";margin-top: 16%;\r\n          width: 500px;\">\r\n        NSEP 在线子域名查询系统\r\n      </h1>\r\n    </el-col>\r\n  </el-row>\r\n\r\n  <el-row style=\"margin-top: 5%\">\r\n    <div style=\"\">\r\n      <el-col :span=\"12\">\r\n        <el-input v-model=\"urlP\"\r\n                  style=\"width: 300%;\r\n                  margin-left: 350%\"\r\n                  placeholder=\"请输入待查询的域名,注意不要带有www\">\r\n\r\n        </el-input>\r\n      </el-col>\r\n\r\n      <el-col :span=\"12\">\r\n        <el-button @click=\"subdomain\"\r\n                   type=\"primary\"\r\n                   style=\"margin-left: 880%\">\r\n          Query\r\n        </el-button>\r\n      </el-col>\r\n    </div>\r\n  </el-row>\r\n\r\n  <el-row style=\"margin-left: 30%;\r\n          margin-top: 2%\">\r\n    <span class=\"tishi\"\r\n          style=\"font-size: 15px;\r\n          color: red;\">\r\n      *声明：本站点仅供网络安全实验平台学习使用，严禁用于非法渗透测试，所产生后果与本站点无关！*\r\n    </span>\r\n  </el-row>\r\n\r\n  <el-card v-if=\"show==1\"\r\n           style=\"width: 60%;\r\n           margin-left: 20%;\r\n           margin-top: 5%;\r\n           word-break:break-all\">\r\n    <el-table\r\n        :data=\"myresult\"\r\n        border=\"true\"\r\n        style=\"width: 100%;\">\r\n      <el-table-column prop=\"id\" label=\"序号\" />\r\n      <el-table-column prop=\"subDomain\" label=\"子域名\" />\r\n    </el-table>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      show:0,\r\n      imgsrc: require(\'@/assets/img/toolsimg/domain1.png\'),\r\n      urlP:\'\',\r\n      myresult:\'\'\r\n    }\r\n  },\r\n  methods:{\r\n    subdomain(){\r\n      this.show=1\r\n      request.get(\"/DomainFind\",{\r\n        params:{\r\n          urlP:this.urlP\r\n        }\r\n      }).then(res =>{\r\n        this.myresult=res.data\r\n        console.log(res)\r\n      })\r\n\r\n    },\r\n    //实例创建之前钩子函数--给body添加行内样式\r\n    beforeCreate () {\r\n      this.$nextTick(()=>{\r\n        document.body.setAttribute(\'style\', \'background:#000000\')\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tishi{\r\n  font-weight:bold;\r\n}\r\n</style>\r\n```\r\n\r\n\r\n\r\n### 3、IP查询工具的实现：\r\n\r\n#### 思路\r\n\r\n> 大致与子域名查询工具相同，也是寻找一个查询IP地址的站点，然后后端调用，得到查询的ip地址的信息（json格式），最后再对这个json格式的字符串做适当的处理，展现到前端， 最终我选择了百度的https://ip.useragentinfo.com\r\n\r\n#### 后端\r\n\r\nIPInfoController.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.IPInfo;\r\n\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.controller.dto.IPDTO;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\n@RestController\r\npublic class IPInfoController {\r\n    @RequestMapping(\"tools/IPInfo\")\r\n    public @ResponseBody\r\n    Result getIPInfo(@RequestParam(\"ip1\") String ip1){\r\n        String url = \"https://ip.useragentinfo.com/json?ip=\"+ip1;\r\n        String return_json = sendRequest(url,\"GET\");\r\n        String[] info1 = return_json.split(\",\");\r\n\r\n        String country = info1[0];\r\n        int indexs = country.indexOf(\":\")+3;\r\n        int indexe = country.length()-1;\r\n        country = country.substring(indexs,indexe);\r\n\r\n        String country_code = info1[1];\r\n        indexs = country_code.indexOf(\":\")+3;\r\n        indexe = country_code.length()-1;\r\n        country_code = country_code.substring(indexs,indexe);\r\n\r\n        String province = info1[2];\r\n        indexs = province.indexOf(\":\")+3;\r\n        indexe = province.length()-1;\r\n        province = province.substring(indexs,indexe);\r\n\r\n        String city = info1[3];\r\n        indexs = city.indexOf(\":\")+3;\r\n        indexe = city.length()-1;\r\n        city = city.substring(indexs,indexe);\r\n\r\n        String distinct = info1[4];\r\n        indexs = distinct.indexOf(\":\")+3;\r\n        indexe = distinct.length()-1;\r\n        distinct = distinct.substring(indexs,indexe);\r\n\r\n        String isp = info1[5];\r\n        indexs = isp.indexOf(\":\")+3;\r\n        indexe = isp.length()-1;\r\n        isp = isp.substring(indexs,indexe);\r\n\r\n        String operator = info1[6];\r\n        indexs = operator.indexOf(\":\")+3;\r\n        indexe = operator.length()-1;\r\n        operator = operator.substring(indexs,indexe);\r\n\r\n        String ip = info1[7];\r\n        indexs = ip.indexOf(\":\")+3;\r\n        indexe = ip.length()-1;\r\n        ip = ip.substring(indexs,indexe);\r\n\r\n        String lon = null;\r\n\r\n        String lat = null;\r\n\r\n        String net_str = null;\r\n\r\n        IPDTO ipdto = new IPDTO();\r\n        ipdto.setIp(ip);\r\n        ipdto.setCountry(country);\r\n        ipdto.setCountry_code(country_code);\r\n        ipdto.setProvince(province);\r\n        ipdto.setCity(city);\r\n        ipdto.setDistinct(distinct);\r\n        ipdto.setIsp(isp);\r\n        ipdto.setOperator(operator);\r\n        ipdto.setLon(lon);\r\n        ipdto.setLat(lat);\r\n        ipdto.setNet_str(net_str);\r\n\r\n        Result res=new Result(Constants.CODE_200,null,ipdto);\r\n        return res;\r\n    }\r\n\r\n    public static String sendRequest(String urlParam, String requestType) {\r\n        HttpURLConnection con = null;\r\n        BufferedReader buffer = null;\r\n        StringBuffer resultBuffer = null;\r\n\r\n        try {\r\n            StringBuilder json = new StringBuilder();\r\n            URL url = new URL(urlParam);\r\n            //得到连接对象\r\n            con = (HttpURLConnection) url.openConnection();\r\n            //设置请求类型\r\n            con.setRequestMethod(requestType);\r\n            //设置请求需要返回的数据类型和字符集类型\r\n            //con.setRequestProperty(\"Content-Type\", \"text/plain; charset=utf-8\");\r\n            con.setRequestProperty(\"User-Agent\",\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.41 Safari/537.36 Edg/101.0.1210.32\");\r\n            //允许写出\r\n            con.setDoOutput(true);\r\n            //允许读入\r\n            con.setDoInput(true);\r\n            //不使用缓存\r\n            con.setUseCaches(false);\r\n            //得到响应码\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(responseCode);\r\n            if(responseCode == HttpURLConnection.HTTP_OK){\r\n                //得到响应流\r\n                InputStream inputStream = con.getInputStream();\r\n                //将响应流转换成字符串\r\n                resultBuffer = new StringBuffer();\r\n                String line;\r\n                buffer = new BufferedReader(new InputStreamReader(inputStream, \"utf-8\"));\r\n                while ((line = buffer.readLine()) != null) {\r\n                    //resultBuffer.append(line);\r\n                    json.append(line);\r\n                }\r\n                System.out.println(json.toString());\r\n                return json.toString();\r\n            }\r\n\r\n        }catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return \"{\\\"count\\\":0,\\\"data\\\":\\\"fail\\n\";\r\n    }\r\n}\r\n```\r\n\r\n#### 前端\r\n\r\nIP_info.vue\r\n\r\n```html\r\n<template>\r\n    <div>\r\n      <nsepheader></nsepheader>\r\n      <el-row>\r\n        <el-col\r\n            :span=\"10\"\r\n            style=\"margin-top: 4%\">\r\n          <el-image\r\n              :src=\"imgsrc\"\r\n              style=\"height: 80%;\r\n              width: 10%;\r\n              margin-left: 85%;\r\n              border-radius: 30%;\"/>\r\n        </el-col>\r\n        <el-col :span=\"14\" style=\"\">\r\n          <p class=\"title\"\r\n             style=\"font-size: 20px;\r\n             margin-top: 8%;\r\n             color: black;\r\n             margin-right: 60%\">\r\n            NSEP 在线IP信息查询系统\r\n          </p>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row style=\"margin-top: 2%\">\r\n        <div style=\"\">\r\n          <el-col :span=\"12\">\r\n            <el-input v-model=\"ip1\"\r\n                      style=\"width: 240%;\r\n                      margin-left: 350%;\"\r\n                      placeholder=\"请输入要查询的IP地址\">\r\n\r\n            </el-input>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-button @click=\"getIPInfo\"\r\n                       type=\"primary\"\r\n                       style=\"margin-left: 880%\">\r\n              Query\r\n            </el-button>\r\n          </el-col>\r\n        </div>\r\n      </el-row>\r\n\r\n      <el-row\r\n          style=\"margin-left: 30%;\r\n          margin-top: 2%\">\r\n          <span class=\"tishi\"\r\n                style=\"font-size: 15px;\">\r\n            *声明：本网站仅供渗透测试学习使用，严禁用于非法渗透测试，所产生后果与本网站无关！*\r\n          </span>\r\n      </el-row>\r\n\r\n      <el-row\r\n          style=\"margin-left: 20%;\r\n          margin-top: 4%;\r\n          width: 1000px;\">\r\n          <el-col>\r\n            <el-descriptions class=\"margin-top\"\r\n                             title=\"IP信息\"\r\n                             :column=\"2\"\r\n                             style=\"width: 900px;\r\n                             color: white;\" border>\r\n              <template v-slot:extra>\r\n                <el-button type=\"primary\"\r\n                           size=\"small\"\r\n                           @click=\"getIPInfo\">\r\n                  刷新\r\n                </el-button>\r\n              </template>\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-user\"></i>\r\n                  IP地址\r\n                </template>\r\n                {{ip}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-mobile-phone\"></i>\r\n                  国家\r\n                </template>\r\n                {{country}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-cpu\"></i>\r\n                  省份\r\n                </template>\r\n                {{province}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-tickets\"></i>\r\n                  城市\r\n                </template>\r\n                {{city}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-office-building\"></i>\r\n                  区域\r\n                </template>\r\n                {{distinct}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-place\"></i>\r\n                  网络提供商\r\n                </template>\r\n                {{isp}}\r\n              </el-descriptions-item>\r\n            </el-descriptions>\r\n          </el-col>\r\n          <el-col style=\"margin-top: 5%\">\r\n          </el-col>\r\n      </el-row>\r\n    </div>\r\n<!--  </div>-->\r\n\r\n</template>\r\n\r\n<style scoped>\r\n#building{\r\n  background:url(\"../../assets/img/toolsimg/ip3.jpg\");\r\n  width:100%;\r\n  height:120%;\r\n  position:fixed;\r\n  background-size:100% 100%;\r\n}\r\n .tishi{\r\n   font-weight:bold;\r\n }\r\n\r\n.title{\r\n  font-weight:bold;\r\n}\r\n\r\n</style>\r\n\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      show:0,\r\n      show1:0,\r\n      imgsrc: require(\'@/assets/img/toolsimg/ipinfo.png\'),\r\n      ip1:\'\',\r\n      ip:\'\',\r\n      country:\'\',\r\n      country_code:\'\',\r\n      province:\'\',\r\n      city:\'\',\r\n      distinct:\'\',\r\n      isp:\'\',\r\n      operator:\'\',\r\n      lon:\'\',\r\n      lat:\'\',\r\n      net_str:\'\'\r\n    }\r\n  },\r\n  methods:{\r\n    getIPInfo(){\r\n      this.show=1\r\n      request.get(\"/tools/IPInfo\",{\r\n        params:{\r\n          ip1:this.ip1\r\n        }\r\n      }).then(res =>{\r\n        this.ip=res.data.ip;\r\n        this.country=res.data.country;\r\n        this.country_code=res.data.country_code;\r\n        this.province=res.data.province;\r\n        this.city=res.data.city;\r\n        this.distinct=res.data.distinct;\r\n        this.isp=res.data.isp;\r\n        this.operator=res.data.operator;\r\n        this.lon=res.data.lon;\r\n        this.lat=res.data.lat;\r\n        this.net_str=res.data.net_str;\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n```\r\n\r\n### 4、端口扫描工具的实现：\r\n\r\n> 看了大量的博客，大致理解端口扫描的原理就是尝试与目标主机建立连接，如果目标主机有回复就说明尝试连接的端口是开放的。\r\n\r\n#### 思路\r\n\r\n采用全TCP连接的方法来进行端口扫描，这种方法使用**TCP三次握手**的方式与目标主机建立标准的tcp连接，若成功则说明端口开放。记录特殊端口，例如22是SSH协议的专用端口、21是FTP协议的专用端口等等。\r\n\r\n#### 后端\r\n\r\nScanObject.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.ScanPort;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n/**\r\n * 扫描信息实体\r\n */\r\npublic class ScanObject {\r\n     private String ip;\r\n     private int port;\r\n     private String service;\r\n     private Boolean isOpen;\r\n     private String banner;\r\n\r\n     // 存放服务指纹和服务的对应关系 banner -> service\r\n     private static Map<String,String> bannerMaps = new HashMap<>();\r\n     // 存放常见端口与服务的对应关系 port -> service\r\n     private static Map<Integer,String> portMaps = new HashMap<>();\r\n\r\n     static {\r\n         bannerMaps.put(\"ssh\",\"SSH\");\r\n         portMaps.put(22,\"SSH\");\r\n\r\n         bannerMaps.put(\"ftp\",\"FTP\");\r\n         portMaps.put(21,\"FTP\");\r\n\r\n         bannerMaps.put(\"smtp\",\"SMTP\");\r\n         portMaps.put(25,\"SMTP\");\r\n\r\n         bannerMaps.put(\"mysql\",\"MySQL\");\r\n         portMaps.put(3306,\"MySQL\");\r\n\r\n         bannerMaps.put(\"RemoteDesktop\",\"RemoteDesktop\");\r\n         portMaps.put(3389,\"RemoteDesktop\");\r\n\r\n         bannerMaps.put(\"telnet\",\"Telnet\");\r\n         portMaps.put(23,\"Telnet\");\r\n\r\n         bannerMaps.put(\"dns\",\"DNS\");\r\n         portMaps.put(53,\"DNS\");\r\n\r\n         bannerMaps.put(\"http\",\"HTTP\");\r\n         portMaps.put(80,\"HTTP\");\r\n\r\n         bannerMaps.put(\"https\",\"HTTPS\");\r\n         portMaps.put(443,\"HTTPS\");\r\n\r\n         bannerMaps.put(\"sqlserver\",\"SqlServer\");\r\n         portMaps.put(1433,\"SqlServer\");\r\n\r\n         bannerMaps.put(\"oracle\",\"Oracle\");\r\n         portMaps.put(1521,\"Oracle\");\r\n\r\n         bannerMaps.put(\"redis\",\"redis\");\r\n         portMaps.put(6379,\"redis\");\r\n\r\n         bannerMaps.put(\"tomcat\",\"Tomcat\");\r\n         portMaps.put(8080,\"Tomcat\");\r\n\r\n     }\r\n\r\n    public ScanObject(String ip, int port) {\r\n        this.ip = ip;\r\n        this.port = port;\r\n    }\r\n\r\n    public Boolean getOpen() {\r\n        return isOpen;\r\n    }\r\n\r\n    public void setOpen(Boolean open) {\r\n        isOpen = open;\r\n    }\r\n\r\n    public String getIp() {\r\n        return ip;\r\n    }\r\n\r\n    public void setIp(String ip) {\r\n        this.ip = ip;\r\n    }\r\n\r\n    public int getPort() {\r\n        return port;\r\n    }\r\n\r\n    public void setPort(int port) {\r\n        this.port = port;\r\n    }\r\n\r\n    public String getService() {\r\n        return service;\r\n    }\r\n\r\n    public void setService() {\r\n         // 先根据port判断服务类型\r\n        if (portMaps.containsKey(this.port)){\r\n            this.service = portMaps.get(this.port);\r\n        }\r\n        if (banner != null && !banner.equals(\"\")){\r\n            for (String key : bannerMaps.keySet()) {\r\n              if (banner.toLowerCase().contains(key)) {\r\n                  this.service = bannerMaps.get(key);\r\n                  break;\r\n              }\r\n            }\r\n        }\r\n    }\r\n\r\n    public String getBanner() {\r\n        return banner;\r\n    }\r\n\r\n    public void setBanner(String banner) {\r\n        this.banner = banner;\r\n\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return ip +\",\"+ port +\",\" + service +\",\"  + isOpen +\",\" + banner+\";\";\r\n    }\r\n}\r\n```\r\n\r\nScanJob.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.ScanPort;\r\n\r\n/**\r\n * 扫描任务类，执行具体的扫描任务\r\n */\r\npublic class ScanJob implements Runnable{\r\n    // 扫描信息\r\n    private ScanObject object;\r\n    // 扫描类型\r\n    private String scanType;\r\n\r\n    public ScanJob(ScanObject object, String scanType) {\r\n        this.object = object;\r\n        this.scanType = scanType;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        ScanEngine.scan(object, scanType);\r\n    }\r\n}\r\n```\r\n\r\nScanEngine.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.ScanPort;\r\n\r\nimport java.net.ConnectException;\r\nimport java.net.Socket;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n * 扫描器引擎\r\n * 实现具体的扫描逻辑，提供扫描能力（TCP全连接和半连接扫描）\r\n */\r\npublic class ScanEngine {\r\n    private static Logger logger = Logger.getLogger(\"TCPFullConnectScan\");\r\n    public static final String TCP_FULL_CONNECT_SCAN = \"TCP_FULL_CONNECT_SCAN\";\r\n    public static final String TCP_HALF_CONNECT_SCAN = \"TCP_HALF_CONNECT_SCAN\";\r\n\r\n    public static ScanObject scan(ScanObject object, String scanEngine){\r\n        switch (scanEngine){\r\n            case TCP_FULL_CONNECT_SCAN:\r\n                return tcpFullConnectScan(object);\r\n            case TCP_HALF_CONNECT_SCAN:\r\n                return tcpHalfConnectScan(object);\r\n        }\r\n        return tcpFullConnectScan(object);\r\n    }\r\n\r\n    /**\r\n     * tcp全连接扫描\r\n     * @param object\r\n     * @return\r\n     */\r\n    private static ScanObject tcpFullConnectScan(ScanObject object){\r\n        try{\r\n            // 全连接扫描，发现可用服务\r\n            Socket socket = new Socket(object.getIp(),object.getPort());\r\n            object.setOpen(true);\r\n            object.setService();\r\n            logger.info(\"[-] Find service :\"+ object);\r\n            System.out.println(\"[-] Find service :\"+ object);\r\n            ScanApp.result=ScanApp.result+object;\r\n            socket.close();\r\n        } catch (ConnectException e) {\r\n        } catch (Exception e){\r\n            // 出现其他异常\r\n            logger.info(\"[-] \" + object.toString() + \"end with unexecepted exeception:\" + e.getMessage());\r\n            System.out.println(\"[-] \" + object.toString() + \"end with unexecepted exeception:\" + e.getMessage());\r\n            ScanApp.result=ScanApp.result+object;\r\n        }\r\n        return object;\r\n\r\n    }\r\n\r\n    /**\r\n     * TPC 半连接扫描\r\n     * @param object\r\n     * @return\r\n     */\r\n    private static ScanObject tcpHalfConnectScan(ScanObject object){\r\n        // TODO 待实现tcp半连接扫描\r\n        return object;\r\n    }\r\n}\r\n```\r\n\r\nScanner.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.ScanPort;\r\n\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.logging.Logger;\r\n\r\n/**\r\n * 端口、指纹扫描器\r\n * 职责：\r\n * 1、解析输入的ip地址、端口\r\n * 2、新键扫描任务ScanJob扫描引擎进行端口扫描\r\n * 3、两种扫描方式：TCP全连接扫描、TCP半连接扫描\r\n *\r\n */\r\npublic class Scanner {\r\n    // 日志\r\n    private static Logger logger = Logger.getLogger(\"Scanner\");\r\n    // 使用多线程扫描\r\n    private static ThreadPoolExecutor poolExecutor = new ThreadPoolExecutor(\r\n            30,\r\n            Integer.MAX_VALUE,1000,\r\n            TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>(5),\r\n            Executors.defaultThreadFactory(),new ThreadPoolExecutor.AbortPolicy());\r\n    /**\r\n     * 开始方法\r\n     * @param ips 输入的待扫描ip列表\r\n     * @param ports 输入的待扫描端口\r\n     */\r\n    public static void start(String ips, String ports) {\r\n        // 解析端口\r\n        String[] portArray = ports.split(\"-\");\r\n        int portStart = Integer.parseInt(portArray[0]);\r\n        int portEnd = Integer.parseInt(portArray[1]);\r\n        logger.info(\"[-] Ports: \" + ports);\r\n        System.out.println(\"[-] Ports: \" + ports);\r\n\r\n        // 解析ip地址，并扫描\r\n        if (ips.indexOf(\',\') != -1) {\r\n            String[] ipList = ips.split(\",\");\r\n            logger.info(\"[-] IP list: \" + ipList.toString());\r\n            System.out.println(\"[-] IP list: \" + ipList.toString());\r\n            for (String ip : ipList) {\r\n                scanAllPort(ip,portStart,portEnd);\r\n            }\r\n        }else if (ips.indexOf(\'/\') != -1){\r\n            // TODO 支持ip地址网段的解析\r\n            String[] ipArray = ips.split(\"/\");\r\n            String ipAddress = ipArray[0];\r\n            int mask = Integer.parseInt(ipArray[1]);\r\n            String[] ipSplit = ipAddress.split(\".\");\r\n\r\n        }else {\r\n            scanAllPort(ips,portStart,portEnd);\r\n        }\r\n        // 扫描任务都完成后，程序停止\r\n        try{\r\n            while(true){\r\n                if(poolExecutor.getActiveCount() == 0){\r\n                    logger.info(\"[-] Scan job all finish\");\r\n                    System.out.println(\"[-] Scan job all finish\");\r\n                    //System.exit(-1);\r\n                    break;\r\n                }\r\n                Thread.sleep(1000);\r\n            }\r\n        }catch (Exception ex){\r\n            logger.warning(\"End with exeception, ex: \" + ex.getMessage());\r\n            System.out.println(\"End with exeception, ex: \" + ex.getMessage());\r\n        }\r\n        //System.exit(-1);\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 扫描某ip的对应端口\r\n     * @param ip ip地址\r\n     * @param portStart 开始扫描的的端口\r\n     * @param portEnd 停止扫描的端口\r\n     */\r\n    public static void scanAllPort(String ip, int portStart, int portEnd){\r\n        for (int port = portStart; port <= portEnd; port++){\r\n            scan(ip,port);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 对ip:port进行扫描\r\n     * @param ip ip地址\r\n     * @param port 端口\r\n     */\r\n    public static void scan(String ip, int port){\r\n        // 执行扫描任务\r\n        poolExecutor.execute(new ScanJob(new ScanObject(ip,port), ScanEngine.TCP_FULL_CONNECT_SCAN));\r\n    }\r\n}\r\n```\r\n\r\nScanAPP.java\r\n\r\n```java\r\npackage com.dpb.nsepback.controller.ToolsController.ScanPort;\r\n\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.controller.dto.PortDTO;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n/**\r\n * 扫描器启动类\r\n */\r\n@RestController\r\n@RequestMapping(\"/tools/\")\r\npublic class ScanApp {\r\n//    {ip=\'127.0.0.1\', port=445, service=\'null\', isOpen=true, banner=\'null\'}\r\n    public static String result;\r\n    public int count = 0;\r\n\r\n    @RequestMapping(\"/scan_port\")\r\n    public @ResponseBody Result scan(@RequestParam(value = \"ips\") String ips,\r\n                                     @RequestParam(value = \"ports\") String ports,\r\n                                     HttpServletResponse response){\r\n        result=\"\";\r\n        String[] results;\r\n        int count;\r\n        PortDTO[] portDTOS;\r\n\r\n        // 待扫描的ip地址或ip地址组\r\n        System.out.println(ips+\" \"+ports);\r\n        Scanner.start(ips,ports);\r\n        System.out.println(\"from ScanApp:\"+result);\r\n\r\n        results = result.split(\";\");\r\n        count = results.length;\r\n        portDTOS = new PortDTO[count];\r\n\r\n        for(int i = 0;i<count;i++){\r\n            String[] ret;\r\n\r\n            System.out.println(i);\r\n            portDTOS[i] = new PortDTO();\r\n            ret = results[i].split(\",\");\r\n            System.out.println(ret[0]);\r\n            portDTOS[i].setIp(ret[0]);\r\n            portDTOS[i].setPort(ret[1]);\r\n            if(ret[2].equals(\"null\")){\r\n                portDTOS[i].setService(\"未知\");\r\n            }else{\r\n                portDTOS[i].setService(ret[2]);\r\n            }\r\n\r\n            if(ret[3].equals(\"true\")){\r\n                ret[3] = \"open\";\r\n            }\r\n            else {\r\n                ret[3] = \"close\";\r\n            }\r\n            portDTOS[i].setIsOpen(ret[3]);\r\n        }\r\n\r\n        Result res=new Result(Constants.CODE_200,null,portDTOS);\r\n        return res;\r\n    }\r\n}\r\n\r\n```\r\n\r\n#### 前端\r\n\r\n```html\r\n<template>\r\n    <div>\r\n      <nsepheader></nsepheader>\r\n      <el-row>\r\n        <el-col\r\n            :span=\"10\"\r\n            style=\"margin-top: 4%\">\r\n          <el-image\r\n              :src=\"imgsrc\"\r\n              style=\"height: 80%;\r\n              width: 10%;\r\n              margin-left: 85%;\r\n              border-radius: 30%;\"/>\r\n        </el-col>\r\n        <el-col :span=\"14\" style=\"\">\r\n          <p class=\"title\"\r\n             style=\"font-size: 20px;\r\n             margin-top: 8%;\r\n             color: black;\r\n             margin-right: 60%\">\r\n            NSEP 在线IP信息查询系统\r\n          </p>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row style=\"margin-top: 2%\">\r\n        <div style=\"\">\r\n          <el-col :span=\"12\">\r\n            <el-input v-model=\"ip1\"\r\n                      style=\"width: 240%;\r\n                      margin-left: 350%;\"\r\n                      placeholder=\"请输入要查询的IP地址\">\r\n\r\n            </el-input>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-button @click=\"getIPInfo\"\r\n                       type=\"primary\"\r\n                       style=\"margin-left: 880%\">\r\n              Query\r\n            </el-button>\r\n          </el-col>\r\n        </div>\r\n      </el-row>\r\n\r\n      <el-row\r\n          style=\"margin-left: 30%;\r\n          margin-top: 2%\">\r\n          <span class=\"tishi\"\r\n                style=\"font-size: 15px;\">\r\n            *声明：本网站仅供渗透测试学习使用，严禁用于非法渗透测试，所产生后果与本网站无关！*\r\n          </span>\r\n      </el-row>\r\n\r\n      <el-row\r\n          style=\"margin-left: 20%;\r\n          margin-top: 4%;\r\n          width: 1000px;\">\r\n          <el-col>\r\n            <el-descriptions class=\"margin-top\"\r\n                             title=\"IP信息\"\r\n                             :column=\"2\"\r\n                             style=\"width: 900px;\r\n                             color: white;\" border>\r\n              <template v-slot:extra>\r\n                <el-button type=\"primary\"\r\n                           size=\"small\"\r\n                           @click=\"getIPInfo\">\r\n                  刷新\r\n                </el-button>\r\n              </template>\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-user\"></i>\r\n                  IP地址\r\n                </template>\r\n                {{ip}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-mobile-phone\"></i>\r\n                  国家\r\n                </template>\r\n                {{country}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-cpu\"></i>\r\n                  省份\r\n                </template>\r\n                {{province}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-tickets\"></i>\r\n                  城市\r\n                </template>\r\n                {{city}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-office-building\"></i>\r\n                  区域\r\n                </template>\r\n                {{distinct}}\r\n              </el-descriptions-item>\r\n\r\n              <el-descriptions-item>\r\n                <template v-slot:label>\r\n                  <i class=\"el-icon-place\"></i>\r\n                  网络提供商\r\n                </template>\r\n                {{isp}}\r\n              </el-descriptions-item>\r\n            </el-descriptions>\r\n          </el-col>\r\n          <el-col style=\"margin-top: 5%\">\r\n          </el-col>\r\n      </el-row>\r\n    </div>\r\n<!--  </div>-->\r\n\r\n</template>\r\n\r\n<style scoped>\r\n#building{\r\n  background:url(\"../../assets/img/toolsimg/ip3.jpg\");\r\n  width:100%;\r\n  height:120%;\r\n  position:fixed;\r\n  background-size:100% 100%;\r\n}\r\n .tishi{\r\n   font-weight:bold;\r\n }\r\n\r\n.title{\r\n  font-weight:bold;\r\n}\r\n\r\n</style>\r\n\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      show:0,\r\n      show1:0,\r\n      imgsrc: require(\'@/assets/img/toolsimg/ipinfo.png\'),\r\n      ip1:\'\',\r\n      ip:\'\',\r\n      country:\'\',\r\n      country_code:\'\',\r\n      province:\'\',\r\n      city:\'\',\r\n      distinct:\'\',\r\n      isp:\'\',\r\n      operator:\'\',\r\n      lon:\'\',\r\n      lat:\'\',\r\n      net_str:\'\'\r\n    }\r\n  },\r\n  methods:{\r\n    getIPInfo(){\r\n      this.show=1\r\n      request.get(\"/tools/IPInfo\",{\r\n        params:{\r\n          ip1:this.ip1\r\n        }\r\n      }).then(res =>{\r\n        this.ip=res.data.ip;\r\n        this.country=res.data.country;\r\n        this.country_code=res.data.country_code;\r\n        this.province=res.data.province;\r\n        this.city=res.data.city;\r\n        this.distinct=res.data.distinct;\r\n        this.isp=res.data.isp;\r\n        this.operator=res.data.operator;\r\n        this.lon=res.data.lon;\r\n        this.lat=res.data.lat;\r\n        this.net_str=res.data.net_str;\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n```\r\n\r\n### 5、其他工具\r\n\r\n#### 剩余的工具主要是包括编码解码加密解密工具\r\n\r\n这类工具核心都是后端的加密解密编码解码算法。算法均来自github上开源的加密解密或编码解码算法。\r\n\r\n### 6、工具导航界面\r\n\r\n> 类似友链一样UI设计\r\n\r\n#### ToolsCard.vue\r\n\r\n```html\r\n<template>\r\n  <div class=\"tools\">\r\n    <div>\r\n      <h1 style=\"text-align: left;\r\n          color: white;\r\n          padding-top: 35px;\r\n          margin-top: 0px;\r\n          margin-bottom:25px;\r\n          font-size: 35px\">\r\n        Network Security Tools\r\n        <i class=\"el-icon-d-arrow-right\"></i>\r\n      </h1>\r\n    </div>\r\n    <div>\r\n      <el-row>\r\n        <el-col  v-for=\"(tool, index) in toolsinfo\"\r\n                 :key=\"index\"\r\n                 :span=\"6\">\r\n          <el-card shadow=\"hover\"\r\n                   style=\" margin:10px;\r\n                   height:200px;\r\n                   cursor:pointer;\r\n                   background-color: rgba(0,0,0,0.5);\r\n                   color: white;\r\n                   border-style: none\">\r\n            <el-row>\r\n              <el-col :span=\"6\">\r\n                <!--<el-image :src=\"tool.imgurl\" style=\"float: left; width: 85%;heigth:85%;margin-right: 15%;\" />-->\r\n                <i :class=\"tool.imgurl\"\r\n                   style=\"font-size: 60px;\"></i>\r\n              </el-col>\r\n              <el-col :span=\"2\"></el-col>\r\n              <el-col :span=\"16\">\r\n                <h4 style=\"margin-top:5px;\r\n                    text-align: left;\r\n                    font-size: 15px\">{{ tool.toolname}}</h4>\r\n                <el-divider style=\"margin: 0px;\r\n                            padding: 0px;\r\n                            background-color: rgba(255,255,255,0.5)\"/>\r\n                <p style=\"text-align: left;\r\n                    font-size: 10px;\r\n                    height: 10px\">{{ tool.toolcontent}}</p>\r\n              </el-col>\r\n            </el-row>\r\n            <el-divider />\r\n            <el-button @click=\"gotopage(tool.toolurl)\"\r\n                       style=\"width: 100%;\r\n                       background-color: rgba(138,43,226,0.2);\r\n                       color: white\"> 查看 </el-button>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport animation from \"../assets/js/background_black\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      toolsinfo:[\r\n        {\r\n          toolname:\'子域名查询\',\r\n          toolcontent:\'在线子域名查询工具\',\r\n          toolurl:\'/domainfindtool\',\r\n          imgurl:\'el-icon-monitor\',\r\n        },\r\n        {\r\n          toolname:\'IP查询\',\r\n          toolcontent:\'在线IP信息查询工具\',\r\n          toolurl:\'/ipinfotool\',\r\n          imgurl:\'el-icon-delete-location\',\r\n        },\r\n        {\r\n          toolname:\'Port Scan\',\r\n          toolcontent:\'在线端口扫描工具\',\r\n          toolurl:\'/scanporttool\',\r\n          imgurl:\'el-icon-search\',\r\n        },\r\n        {\r\n          toolname:\'base64编码\',\r\n          toolcontent:\'在线Base64编码解码工具\',\r\n          toolurl:\'/base64tool\',\r\n          imgurl:\'el-icon-sort\',\r\n        },\r\n        {\r\n          toolname:\'URL编码\',\r\n          toolcontent:\'在线URL编码转换\',\r\n          toolurl:\'/urlencode\',\r\n          imgurl:\'el-icon-refresh\',\r\n        },\r\n        {\r\n          toolname:\'凯撒密码加解密\',\r\n          toolcontent:\'在线凯撒密码翻译器\',\r\n          toolurl:\'/CaesarCrypt\',\r\n          imgurl:\'el-icon-s-operation\',\r\n        },\r\n        {\r\n          toolname:\'unicode编码\',\r\n          toolcontent:\'在线unicode编码\',\r\n          toolurl:\'/unicode\',\r\n          imgurl:\'el-icon-help\',\r\n        },\r\n        {\r\n          toolname:\'Rot13加解密\',\r\n          toolcontent:\'在线Rot13加解密\',\r\n          toolurl:\'/rot13\',\r\n          imgurl:\'el-icon-money\',\r\n        },\r\n        {\r\n          toolname:\'HASH计算\',\r\n          toolcontent:\'支持多种HASH加密\',\r\n          toolurl:\'/hash\',\r\n          imgurl:\'el-icon-guide\',\r\n        },\r\n        {\r\n          toolname:\'DES加解密\',\r\n          toolcontent:\'对称密码-DES在线加解密\',\r\n          toolurl:\'/des\',\r\n          imgurl:\'el-icon-cpu\',\r\n        },\r\n        {\r\n          toolname:\'RC4密码\',\r\n          toolcontent:\'流密码-在线RC4加解密\',\r\n          toolurl:\'/rc4\',\r\n          imgurl:\'el-icon-lock\',\r\n        },\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    animation()\r\n  },\r\n  methods: {\r\n    gotopage(url){\r\n      let current_url=window.location.href.slice(0,-8);\r\n      let new_url=current_url+url;\r\n      window.open(new_url);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.search{\r\n  height:200px;\r\n  /*background-color: #475669;*/\r\n  margin-left:10%;\r\n  margin-right:10%;\r\n  /*margin-top:2%;*/\r\n}\r\n.tools{\r\n  height: 800px;\r\n  /*background-color: #f56c6c;*/\r\n  margin-left:8%;\r\n  margin-right:8%;\r\n  /*margin-top:2%;*/\r\n}\r\n.dv-border{\r\n  /*margin:10px;*/\r\n  height:250px;\r\n  cursor:pointer;\r\n  background-color: #f56c6c;\r\n}\r\n</style>\r\n```\r\n\r\n#### NSTools.vue\r\n\r\n```html\r\n<template>\r\n  <div class=\"cryptoTool\">\r\n    <nsepheader></nsepheader>\r\n    <!--    安全工具-->\r\n    <div style=\"background-color: rgba(8,46,84,0.8);\r\n          margin-top:0px;\r\n          padding: 0px;\">\r\n      <toolscard></toolscard>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nsepheader from \"../components/nsepheader.vue\";\r\nimport toolscard from \"../components/ToolsCard.vue\";\r\nimport animation from \"../assets/js/background_black\";\r\n\r\nexport default {\r\n  components: {\r\n    nsepheader,\r\n    toolscard,\r\n  },\r\n  created() {\r\n    animation()\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n```\r\n### 7、界面展现\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/157251625.png)\r\n',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(46,'1679316206.png','1679316206-png',1679316207,1679316207,'a:5:{s:4:\"name\";s:14:\"1679316206.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/539710202.png\";s:4:\"size\";i:126379;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',53),(47,'1679316214.png','1679316214-png',1679316215,1679316215,'a:5:{s:4:\"name\";s:14:\"1679316214.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3004900243.png\";s:4:\"size\";i:15391;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',53),(48,'八、writup题解论坛模块实现','48',1673095380,1679331210,'<!--markdown-->> 思路：每个人可以在题解论坛模块发帖，帖子可以是求助，也可以是题解思路等等。主页面展示最新发布的四个帖子，其他帖子按时间顺序分页查询展示。可以搜索相关关键字帖子。每个人可以查看自己发布的帖子，且可删除自己发布的帖子。\r\n\r\n### 1、设计论坛存储表Forum\r\n\r\n包括一个主键id、题头、内容、发表用户、发表时间、状态\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3004900243.png)\r\n\r\n### 2、ForumMapper接口\r\n\r\n```java\r\npackage com.dpb.nsepback.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.dpb.nsepback.entity.Forum;\r\nimport org.apache.ibatis.annotations.Insert;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\nimport org.apache.ibatis.annotations.Update;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * <p>\r\n *  Mapper 接口\r\n * </p>\r\n */\r\n@Mapper\r\npublic interface ForumMapper extends BaseMapper<Forum> {\r\n\r\n    // 发布\r\n    @Insert(\"insert into forum (title,content,username) values (#{title},#{content},#{username})\")\r\n    int insert(String title,String content,String username);\r\n\r\n    // 根据学号查询\r\n    @Select(\"select * from forum where username=#{username} and state=#{state}\")\r\n    List<Forum> selectbyname(String username, int state);\r\n\r\n    // 分页显示\r\n    @Select(\"select * from  forum where state=#{state} and content like \\\"%${search}%\\\" ORDER BY time DESC limit #{beginPage},#{pageSize}\")\r\n    List<Forum> getpage(Integer beginPage, Integer pageSize, String search, int state);\r\n\r\n    // 查找总个数\r\n    @Select(\"select count(*) from  forum where state=#{state} and content like \\\"%${search}%\\\" ORDER BY time DESC\")\r\n    Integer gettotalpage(String search, int state);\r\n\r\n    // 删除\r\n    @Update(\"update forum set state=0 where forumid=#{forumid}\")\r\n    int delbyid(Integer forumid);\r\n}\r\n```\r\n\r\n### 3、实体类Forum.java\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport lombok.Data;\r\n\r\n// writeup\r\n@Data\r\n@TableName(\"forum\")\r\npublic class Forum {\r\n\r\n    @TableId(type = IdType.AUTO)\r\n    private Integer forumid;\r\n    // 题目\r\n    private String title;\r\n    // 内容\r\n    private String content;\r\n    // 学号\r\n    private String username;\r\n    // 发表时间\r\n    private String time;\r\n    // 状态\r\n    private Integer state;\r\n}\r\n```\r\n\r\n### 4、ForumController.java\r\n\r\n\r\n\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.entity.Forum;\r\nimport com.dpb.nsepback.entity.Page;\r\nimport com.dpb.nsepback.mapper.ForumMapper;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(\"/forum\")\r\npublic class ForumController {\r\n\r\n    @Resource\r\n    ForumMapper forumMapper;\r\n\r\n    // 分页\r\n    @GetMapping(\"/page\")\r\n    public Result findpage(@RequestParam(defaultValue = \"1\") Integer pageNum,\r\n                           @RequestParam(defaultValue = \"5\")  Integer pageSize,\r\n                           @RequestParam(defaultValue = \"\")  String search){\r\n        Integer beginPage=(pageNum-1)*pageSize;\r\n        List<Forum> forumPage=forumMapper.getpage(beginPage,pageSize,search,1);\r\n        Integer totalpage=forumMapper.gettotalpage(search,1);\r\n\r\n        System.out.println(totalpage);\r\n        com.dpb.nsepback.entity.Page page=new Page(forumPage,totalpage);\r\n        return Result.success(page);\r\n    }\r\n\r\n    // 新增\r\n    @PostMapping(\"/save\")\r\n    public Result save(@RequestBody Forum forum){\r\n        String title=forum.getTitle();\r\n        String content=forum.getContent();\r\n        String username=forum.getUsername();\r\n        if(title!=null&&content!=null){\r\n            forumMapper.insert(title,content,username);\r\n            return Result.success(\"发表成功！\");\r\n        }\r\n        return Result.error(Constants.CODE_600, \"参数错误\");\r\n    }\r\n\r\n    // 根据username select\r\n    @GetMapping(\"/mywriteup\")\r\n    public Result selectbyname(@RequestParam String username){\r\n        List<Forum> forumList=forumMapper.selectbyname(username,1);\r\n        return Result.success(forumList);\r\n    }\r\n\r\n    // 删除\r\n    @GetMapping(\"/delete\")\r\n    public Result delete(@RequestParam Integer forumid){\r\n        int a=forumMapper.delbyid(forumid);\r\n        if(a==1)\r\n            return Result.success();\r\n        else\r\n            return Result.error();\r\n    }\r\n}\r\n```\r\n\r\n### 5、前端\r\n\r\n#### ForumCard.vue组件\r\n\r\n```html\r\n<template>\r\n  <div class=\"main\">\r\n<!--    搜索发布部分-->\r\n    <el-card\r\n        style=\"background-color: rgba(255,255,255,0.2);\r\n        border-style: none;\r\n        border-radius: 0;\r\n        margin-bottom: 2%;padding-right: 0%;padding-left: 0%\">\r\n      <el-row>\r\n        <el-col :span=\"2\"></el-col>\r\n        <el-col :span=\"16\">\r\n          <div>\r\n            <el-input\r\n                style=\"width: 100%;\r\n                text-align: right;\r\n                margin-right: 0\"\r\n                placeholder=\"请输入关键词\"\r\n                suffix-icon=\"el-icon-search\"\r\n                v-model=\"search\" />\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <div style=\"text-align: left;margin-left: 10px;\">\r\n            <el-button class=\"btn-group\" @click=\"load\" style=\"width: 90%\">搜索</el-button>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"2\">\r\n          <div style=\"text-align: left\">\r\n            <el-button class=\"btn-group\" @click=\"writeup\" style=\"width: 90%\">发布</el-button>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"4\"><div></div></el-col>\r\n      </el-row>\r\n    </el-card>\r\n\r\n<!--    帖子部分-->\r\n    <el-card style=\"background-color: rgba(255,255,255,0.2);border-style: none;border-radius: 0;margin-bottom:30px;\">\r\n      <!--    帖子-->\r\n      <div direction=\"vertical\"\r\n           style=\"text-align: left;\r\n         margin-left: 5%;\r\n         margin-right: 5%;\">\r\n        <el-card v-for=\"(forum,i) in forumlist\" :key=\"i\" class=\"box-card\"  shadow=\"hover\">\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n            <span style=\"font-weight:bold\">\r\n              <h2 style=\"margin: 0px;padding: 0px;\">{{ forum.title }}</h2>\r\n            </span>\r\n            </div>\r\n          </template>\r\n          <div class=\"text item\">\r\n            <p style=\"font-size: 15px;line-height: 30px;\">{{ forum.content }}</p>\r\n          </div>\r\n          <div class=\"text item\"\r\n               style=\"text-align: right\">\r\n            <!--          {{ forum.username }}-->\r\n            {{ forum.time }}\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n\r\n      <!--分页组件-->\r\n      <el-pagination\r\n          v-model:currentPage=\"currentPage\"\r\n          background\r\n          :page-size=\"pageSize\"\r\n          :disabled=\"disabled\"\r\n          layout=\"total, prev, pager, next\"\r\n          :total=\"totalpage\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"load\"\r\n          style=\"padding-top: 20px;\"\r\n      />\r\n    </el-card>\r\n\r\n  </div>\r\n\r\n<!--  发布writeup弹窗-->\r\n  <el-dialog title=\"发布\" v-model=\"dialogVisible\" width=\"30%\">\r\n    <el-form :model=\"form\" label-width=\"60px\">\r\n      <el-form-item label=\"题目\">\r\n        <el-input v-model=\"form.title\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"内容\">\r\n        <el-input v-model=\"form.content\"\r\n                  type=\"textarea\"\r\n                  :rows=5></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <span class=\"dialog-footer\">\r\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"savewrite\">确 定</el-button>\r\n      </span>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nexport default {\r\n  data() {\r\n    const formatTooltip = (val) => {\r\n      return val / 100;\r\n    };\r\n\r\n    return {\r\n      formatTooltip,\r\n      dialogVisible:false,\r\n      search:\'\',\r\n      currentPage:1,\r\n      pageSize:4,\r\n      totalpage:0,\r\n      forumlist:[],\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      form:{},\r\n    };\r\n  },\r\n  created(){\r\n    this.load()\r\n  },\r\n  methods: {\r\n    load(){\r\n      request.get(\"/forum/page\",{\r\n        params:{\r\n          pageNum:this.currentPage,\r\n          pageSize:this.pageSize,\r\n          search:this.search\r\n        }\r\n      }).then(res =>{\r\n        this.forumlist=res.data.Pagecontent\r\n        this.totalpage=res.data.PageNum\r\n      })\r\n    },\r\n\r\n    writeup(){\r\n      this.dialogVisible=true;\r\n      this.form={};\r\n    },\r\n    savewrite(){\r\n      this.form.username=this.user.username;\r\n      request.post(\"/forum/save\",this.form).then(res =>{\r\n        console.log(res);\r\n      })\r\n      ElMessage({\r\n        message: \'发布成功！\',\r\n        center: true,\r\n        type: \'success\',\r\n      })\r\n      location.reload();\r\n      this.dialogVisible=false;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.main {\r\n  margin-left: 50px; /**外边距 */\r\n  margin-right: 10px; /**外边距 */\r\n  margin-top: 0px;\r\n  padding: 10px; /**内边距 */\r\n}\r\n.el-row {\r\n  margin-top: 10px;\r\n  height: 60px;\r\n}\r\n.btn-group{\r\n   height: 30px;\r\n   background-color: #303133;\r\n   color: #99a9bf;\r\n   border-color: #8cc5ff;\r\n }\r\n/*.el-input >>> .el-input__inner {*/\r\n/*  background-color: rgba(0, 0, 0, 0.2);*/\r\n/*  color: white;*/\r\n/*}*/\r\n.box-card{\r\n  margin-top: 10px;\r\n  background-color: rgba(135,135,135,0.6);\r\n  border-style: none;\r\n  color: white;\r\n  border-radius: 0\r\n}\r\n</style>\r\n```\r\n\r\n#### Forum.vue主页面\r\n\r\n```html\r\n<template>\r\n  <!--  论坛模块-->\r\n  <div class=\"forum\">\r\n    <nsepheader></nsepheader>\r\n    <el-row>\r\n      <el-col :span=\"18\">\r\n        <forum-card></forum-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card style=\"background-color: rgba(255,255,255,0.2);\r\n        border-style: none;\r\n        border-radius: 0;\r\n        rgba(255,255,255,0.2);\r\n        margin-right:10%;\r\n        margin-top:3%;\r\n        width: 90%;\r\n        height: 300px;\">\r\n          <el-button type=\"primary\" plain style=\"width:80%;margin-left:5%;margin-top:10%\" @click=\"gotopersonalcenter()\">\r\n            已发布的writeup\r\n          </el-button>\r\n          <el-button type=\"primary\" plain style=\"width:80%;margin-left:5%;margin-top:10%\" @click=\"gotoctf()\">\r\n            回到CTF靶场\r\n          </el-button>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nsepheader from \"../components/nsepheader.vue\";\r\nimport ForumCard from \"../components/ForumCard.vue\"\r\nimport animation from \"../assets/js/background_black\";\r\nimport router from \"../router\";\r\nexport default {\r\n  components: {\r\n    nsepheader,\r\n    ForumCard,\r\n  },\r\n  created() {\r\n    animation()\r\n  },\r\n  methods:{\r\n    gotoctf(){\r\n      router.push(\"/honeypot\")\r\n    },\r\n    gotopersonalcenter(){\r\n      router.push(\"/personalcenter\")\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.forum{\r\n  margin: 0px;\r\n  /*background-image: linear-gradient(to bottom right, #000000, 	#483D8B);*/\r\n  background-color: rgba(255,255,255,0);\r\n  position: relative;\r\n  width:100%;\r\n  min-height: 100vh;\r\n}\r\n\r\n</style>\r\n```\r\n\r\n### 6、页面展现\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/539710202.png)',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(49,'1679318945.png','1679318945-png',1679318946,1679318946,'a:5:{s:4:\"name\";s:14:\"1679318945.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2824088934.png\";s:4:\"size\";i:121605;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',54),(50,'1679318952.png','1679318952-png',1679318952,1679318952,'a:5:{s:4:\"name\";s:14:\"1679318952.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1990369772.png\";s:4:\"size\";i:92598;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',54),(51,'1679318983.png','1679318983-png',1679318984,1679318984,'a:5:{s:4:\"name\";s:14:\"1679318983.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2902034937.png\";s:4:\"size\";i:964325;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',54),(52,'1679318999.png','1679318999-png',1679319000,1679319000,'a:5:{s:4:\"name\";s:14:\"1679318999.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1069897919.png\";s:4:\"size\";i:9267;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',54),(53,'九、实验资源模块实现','53',1675171680,1679830567,'<!--markdown-->### 思路\r\n\r\n> 主页面列出所有可进行练习的实验资源，每个实验资源点击后进入初识创建实验的页面，该页面可以进行创建实验容器，以及后续的flag提交。创建实验容器后点击进入实验容器进行实验。在上述过程中，创建实验容器时即生成一个flag，同时将创建者（即进行实验的学生账户）和题目id以及生成的这个flag存入flag数据库，以实现**动态flag**的功能，具体的实验资源不是该平台应考虑实现的内容，使用大三时大创所准备好的开源靶场项目。最后在云服务器进行部署时，使用docker将后端的实验部分进行部署。\r\n\r\n### 1、数据库表设计\r\n#### problem表\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/1851120643.png)\r\n\r\n#### flag表\r\n\r\n按照上述思路，创建一个包含创建者、题目id、flag三个字段的表。\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/1069897919.png)\r\n\r\n#### 漏洞的表\r\n\r\n包括：\r\n\r\n+ sqlifl4g  #sql注入漏洞所用，存储sql注入漏洞的flag\r\n+ sqliuser  #sql注入漏洞所用\r\n+ usersqli  #sql注入漏洞所用\r\n+ opuser  #逻辑越权漏洞所用\r\n+ users  #暴力破解漏洞所用\r\n+ xssstore  #xss注入漏洞所用\r\n\r\n### 2、后端\r\n\r\n#### 1）Mapper接口\r\n\r\nFlagMapper\r\n\r\n```java\r\npackage com.dpb.nsepback.mapper;\r\n\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\n\r\n@Mapper\r\npublic interface FlagMapper {\r\n\r\n    // 查找flag\r\n    @Select(\"select flag from flag where username=#{username} and problemid=#{problemid}\")\r\n    String getFlag(String username,String problemid);\r\n\r\n}\r\n```\r\n\r\nProblemMapper\r\n\r\n```java\r\npackage com.dpb.nsepback.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.dpb.nsepback.entity.Problem;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\n\r\nimport java.util.List;\r\n\r\n@Mapper\r\npublic interface ProblemMapper extends BaseMapper<Problem> {\r\n\r\n    // 根据id查询\r\n    @Select(\"select * from problem where problemid = #{problemid}\")\r\n    Problem SearchProbleminfo_byid(String problemid);\r\n\r\n    // 根据类型查询\r\n    @Select(\"select * from problem where kind = #{kind}\")\r\n    List<Problem> SearchProbleminfo_bytype(String kind);\r\n}\r\n```\r\n\r\n#### 2）实体类\r\n\r\nFlag.java\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@TableName(\"flag\")\r\npublic class Flag {\r\n\r\n    // 学生学号\r\n    private String username;\r\n    // 题目id\r\n    private String problemid;\r\n    // flag\r\n    private String flag;\r\n}\r\n```\r\n\r\nProblem.java\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport lombok.Data;\r\n\r\n// 题目\r\n@Data\r\n@TableName(\"problem\")\r\npublic class Problem {\r\n\r\n    @TableId(type = IdType.AUTO)\r\n    private String problemid;\r\n    // 题目名称\r\n    private String problemname;\r\n    // 题目内容\r\n    private String problemcontent;\r\n    // 链接\r\n    private String url;\r\n    // 难度\r\n    private String problemratio;\r\n\r\n    private String flag;\r\n}\r\n```\r\n\r\n#### 3）生成flag的类FlagMake.java\r\n\r\n> 思考良久，这个类最终放在了entity实体目录下，因为我觉得这个类是为了生成flag，为所有实验创建flag所使用的，也是一个实体，该实体只有最重要的一个属性flag。\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport java.util.Random;\r\n\r\n// 随机生成flag\r\npublic class FlagMake {\r\n\r\n    private String flag;\r\n\r\n    public FlagMake(){\r\n        flag = newFlag();\r\n    }\r\n\r\n    public String newFlag(){\r\n        String data = null;\r\n        String flag1 = null;\r\n        data = randomletterstr(30);\r\n        flag1 = \"flag{\"+data+\"}\";\r\n        return flag1;\r\n    }\r\n\r\n    public String randomletterstr(int length) {\r\n\r\n        //随机产生字母串\r\n        String str = \"abcdefghijklmnopqrstuvwxyz\" +\r\n                \"ABCDEFGHIGKLMNOPQRSTUVWXYZ\" +\r\n                \"1234567890\";    //可随机产生的字符\r\n        Random random = new Random();\r\n        StringBuffer sb = new StringBuffer();\r\n        for (int i = 0; i < length; i++) {\r\n            int number = random.nextInt(62);\r\n            //可随机产生字符的数量\r\n            sb.append(str.charAt(number));\r\n        }\r\n        return sb.toString();\r\n    }\r\n    public String getFlag(){\r\n        return flag;\r\n    }\r\n}\r\n```\r\n\r\n#### 4）Controller\r\nFlagController\r\n\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport com.dpb.nsepback.common.Constants;\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.controller.BUGcontroller.MD5;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\n/*\r\n* 功能：验证用户提交flag是否正确\r\n* 参数：username：用户名\r\n*      problemid：题目id\r\n*      flag：用户提交的flag\r\n* 返回值：true：flag正确\r\n*       false：flag错误\r\n* */\r\n\r\n@RestController\r\npublic class FlagController {\r\n\r\n    @Autowired\r\n    DataSource dataSource;\r\n    public String sql;\r\n\r\n    @RequestMapping(\"/FlagConfirm\")\r\n    public Result java_derser_start(@RequestParam(value = \"username\",required = false) String username\r\n                                    ,@RequestParam(value = \"problemid\",required = false) String problemid\r\n                                    ,@RequestParam(value = \"flag\",required = false) String flag){\r\n        String result = null;\r\n        String flagMD5 = null;\r\n        System.out.println(username);\r\n        System.out.println(problemid);\r\n        System.out.println(flag);\r\n        flagMD5 = MD5.getMD5String(flag);\r\n        System.out.println(flagMD5);\r\n\r\n        if(problemid.equals(\"pro008\")){\r\n            username=\"public\";\r\n        }\r\n        if(problemid.equals(\"pro013\")){\r\n            username=\"xxe\";\r\n        }\r\n        if(problemid.equals(\"pro024\")){\r\n            username=\"op\";\r\n        }\r\n\r\n        try {\r\n            Connection connection = dataSource.getConnection();\r\n\r\n            // 预编译\r\n            String sql = \"select * from flag where username = ? and problemid = ? and flag = ?\";\r\n            PreparedStatement st = connection.prepareStatement(sql, ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_READ_ONLY);\r\n            st.setString(1, username);\r\n            st.setString(2, problemid);\r\n            st.setString(3, flag);\r\n            System.out.println(sql);\r\n            ResultSet rs = st.executeQuery();\r\n\r\n            // 通过此对象可以得到表的结构，包括，列名，列的个数，列数据类型\r\n            rs.last();\r\n            int row = rs.getRow();\r\n\r\n            rs.beforeFirst();\r\n            System.out.println(\"查找到行数为\"+row);\r\n            if(row==1){\r\n                System.out.println(\"flag验证成功\"+ flag);\r\n                result = \"true\";\r\n            }\r\n            else {\r\n                System.out.println(\"flag验证失败\"+ flag);\r\n                result = \"false\";\r\n            }\r\n            rs.close();\r\n            connection.close();\r\n\r\n        } catch (SQLException e) {\r\n            System.out.println(\"输入内容错误，数据库查询错误\");\r\n            System.out.println(e.toString());\r\n            result = \"输入内容错误，数据库查询错误\";\r\n        }\r\n\r\n        Result res=new Result(Constants.CODE_200,null,result);\r\n        return res;\r\n    }\r\n}\r\n```\r\n\r\nProblemController\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.entity.Problem;\r\nimport com.dpb.nsepback.mapper.ProblemMapper;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(\"/problem\")\r\npublic class ProblemController {\r\n\r\n    @Resource\r\n    ProblemMapper problemMapper;\r\n\r\n    // 根据id获取\r\n    @GetMapping(\"/getinfobyid\")\r\n    public Result getinfobyid(@RequestParam() String problemid){\r\n        Problem a= problemMapper.SearchProbleminfo_byid(problemid);\r\n        return Result.success(a);\r\n    }\r\n\r\n    // 根据类型获取\r\n    @GetMapping(\"/getinfobytype\")\r\n    public Result getinfobytype(@RequestParam() String problemtype){\r\n        System.out.println(problemtype);\r\n        List<Problem> a= problemMapper.SearchProbleminfo_bytype(problemtype);\r\n        return Result.success(a);\r\n    }\r\n}\r\n\r\n```\r\n\r\n#### 5）BUGController\r\n\r\n> BUGController目录下包括准备的实验资源的所有的漏洞页面的后端，这些后端的具体功能就是实现不同的漏洞，并通过FlagMake类生成flag，存储到flag表中。\r\n\r\n### 3、前端\r\n\r\n#### 漏洞展示页面组件BugCard.vue\r\n\r\n```html\r\n<template>\r\n\r\n  <!--  选择部分-->\r\n  <el-row>\r\n\r\n    <!--题目选择-->\r\n    <el-col :span=\"22\">\r\n      <div class=\"select\" >\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'force\')\"> 暴力破解</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'rce\')\"> RCE</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'sqli\')\"> SQL注入</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'fileupload\')\"> 文件上传漏洞</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'filedownload\')\"> 文件下载漏洞</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'xss\')\"> XSS</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'xxe\')\"> XXE</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'javadeser\')\"> JAVA反序列化漏洞</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'urlredirect\')\"> 重定向漏洞</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'pathtravel\')\"> 目录遍历</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'BAC\')\"> 逻辑越权</el-button>\r\n        <el-button class=\"btn-group\" type=\"primary\" @click=\"getprobleminfo(\'csrf\')\"> CSRF</el-button>\r\n      </div>\r\n    </el-col>\r\n\r\n    <!--靶场介绍-->\r\n    <el-col :span=\"2\">\r\n      <el-button\r\n          style=\"height: 120px;\r\n        /*background-color: #475669;*/\r\n        border-style: none;\r\n        background-color: rgba(0,0,0,0);\r\n        margin-top: 20px;\r\n        display: inline;\r\n        text-align: left;\r\n        border-style: none;\"\r\n          @click=\"drawer=true\"\r\n      >\r\n        <i  style=\"position:relative;\r\n            color: #99a9bf;\r\n            font-size:60px;\r\n            margin-bottom: 0px;\r\n            padding-bottom: 0px\"\r\n            class=\"el-icon-s-fold\"></i>\r\n      </el-button>\r\n    </el-col>\r\n    <el-drawer\r\n        v-model=\"drawer\"\r\n        direction=\"rtl\"\r\n        :before-close=\"handleClose\"\r\n    >\r\n      <template #title>\r\n        <h1 style=\"color:wheat;\r\n            font-size: 60px;\">靶场介绍</h1>\r\n      </template>\r\n      <p id=\"intro_p\">&emsp;&emsp;本靶场含有众多的靶机,它们场景各异、所含漏洞不尽相同。<br/>&emsp;&emsp;\r\n        点击上方按钮，可以显示该漏洞的简介，\r\n        右边是若干靶机，每个靶机都集成了该漏洞。<br/>&emsp;&emsp;\r\n        你需要阅读提示，利用靶机环境中存在的漏洞，破解它并找出隐藏在其中的一串随机字符串，我们称之\r\n        为FLAG。当你找到了FLAG,别忘记将它提交，此时你便成功、完整的征服了该靶机！\r\n      </p>\r\n    </el-drawer>\r\n  </el-row>\r\n\r\n  <!--  题目部分-->\r\n  <div class=\"problem\">\r\n    <el-row >\r\n\r\n      <!--漏洞介绍的抽屉，通过右侧按钮打开-->\r\n      <el-col :span=\"12\" >\r\n        <el-card class=\"card1\">\r\n          <h1 style=\"color: #99a9bf;font-size: 30px;\"> 漏洞概述 </h1>\r\n          <el-carousel height=\"400px\" autoplay=\"false\" arrow=\"always\">\r\n            <el-carousel-item v-if=\"introimg!=\'\'\">\r\n              <el-image :src=\"introimg\" style=\"height:100%;width:100%;\"/>\r\n            </el-carousel-item >\r\n            <el-carousel-item >\r\n              <p style=\"margin: 40px;color: white;font-size: 15px;text-align: left;\">\r\n                {{introduction}}\r\n              </p>\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!--靶机-->\r\n      <el-col :span=\"12\">\r\n        <el-card class=\"card2\">\r\n          <div style=\"height: 500px;\">\r\n            <el-scrollbar >\r\n              <el-card class=\"problem-card\" v-for=\"(problem, problemid) in problemlist\" :key=\"problemid\" @click=\"gotopro(problem.problemid)\">\r\n                <i style=\"float:left;font-size: 50px;color: #8cc5ff;\" :class=\"iconurl\"></i>\r\n                <h2 style=\"color: white;margin: 50px;font-size: 25px;\"> 靶机代号：{{problem.problemname}}</h2>\r\n              </el-card>\r\n            </el-scrollbar>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  data(){\r\n    return{\r\n      // 控制抽屉的开启\r\n      drawer:false,\r\n      problemlist:[],\r\n      iconurllist:{\r\n        sqli:\'el-icon-key\',\r\n        rce:\'el-icon-s-promotion\',\r\n        xss:\'el-icon-eleme\',\r\n        xxe:\'el-icon-document-delete\',\r\n        force:\'el-icon-aim\',\r\n        javadeser:\'el-icon-edit\',\r\n        filedownload:\'el-icon-tickets\',\r\n        fileupload:\'el-icon-document-copy\',\r\n        urlredirect:\'el-icon-refresh\',\r\n        csrf:\'el-icon-mouse\',\r\n        BAC:\'el-icon-s-custom\',\r\n        pathtravel:\'el-icon-folder-opened\',\r\n      },\r\n      iconurl:\'\',\r\n      introductionlist:{\r\n        sqli:\" Sql 注入攻击是通过将恶意的 Sql 查询或添加语句插入到应用的输入参数中，再在后台 Sql 服务器上解析执行进行的攻击，它目前黑客对数据库\" +\r\n            \"进行攻击的最常用手段之一。当我们访问动态网页时, Web 服务器会向数据访问层发起 Sql 查询请求，如果权限验证通过就会执行 Sql 语句。\\n\" +\r\n            \" 这种网站内部直接发送的Sql请求一般不会有危险，但实际情况是很多时候需要结合用户的输入数据动态构造 Sql 语句，如果用户输入的数据被构造\" +\r\n            \"成恶意 Sql 代码，Web 应用又未对动态构造的 Sql 语句使用的参数进行审查，则会带来意想不到的危险。Sql 注入带来的威胁主要有如下几点猜解\" +\r\n            \"后台数据库，这是利用最多的方式，盗取网站的敏感信息。绕过认证，列如绕过验证登录网站后台。注入可以借助数据库的存储过程进行提权等操作\",\r\n\r\n        rce:\"RCE漏洞，可以让攻击者直接向后台服务器远程注入操作系统命令或者代码，从而控制后台系统。\\n\" +\r\n            \"原理:一般出现这种漏洞，是因为应用系统从设计上需要给用户提供指定的远程命令操作的接口。比如我们常见的路由器、防火墙、入侵检测等设备的web\" +\r\n            \"管理界面上。一般会给用户提供一个ping操作的web界面，用户从web界面输入目标IP，提交后，后台会对该IP地址进行一次ping测试，并返回测试结\" +\r\n            \"果。 如果，设计者在完成该功能时，没有做严格的安全控制，则可能会导致攻击者通过该接口提交“意想不到”的命令，从而让后台进行执行，从而控制\" +\r\n            \"整个后台服务器。 现在很多的企业都开始实施自动化运维,大量的系统操作会通过\\\"自动化运维平台\\\"进行操作。在这种平台上往往会出现远程系统命\" +\r\n            \"令执行的漏洞。 远程代码执行 同样的道理,因为需求设计,后台有时候也会把用户的输入作为代码的一部分进行执行,也就造成了远程代码执行漏洞。 \" +\r\n            \"不管是使用了代码执行的函数,还是使用了不安全的反序列化等等。 因此，如果需要给前端用户提供操作类的API接口，一定需要对接口输入的内容进行\" +\r\n            \"严格的判断，比如实施严格的白名单策略会是一个比较好的方法。\",\r\n\r\n        xss:\"跨站脚本攻击(Cross Site Scripting)，恶意攻击者往Web页面里插入恶意Script代码，当用户浏览该页之时，嵌入其中Web里面的Script代码\" +\r\n            \"会被执行，从而达到恶意攻击用户的目的。一共有三种类型的XSS：1.反射型XSS又称非持久性XSS，这种攻击往往具有一次性。攻击者通过邮件等形式\" +\r\n            \"将包含XSS代码的链接发送给正常用户，当用户点击时，服务器接受该用户的请求并进行处理，然后把带有XSS的代码发送给用户。用户浏览器解析执行\" +\r\n            \"代码，触发XSS漏洞。2. 存储型 XSS攻击脚本存储在目标服务器的数据库中，具有更强的隐蔽性。攻击者在论坛、博客、留言板中，发帖的过程中嵌入\" +\r\n            \"XSS攻击代码，帖子被目标服务器存储在数据库中。当用户进行正常访问时，触发XSS代码。3. DOM型 XSSDOM型XSS全称Document Object Mode\" +\r\n            \"l，使用DOM动态访问更新文档的内容、结构及样式。HTML标签都是节点，节点组成了节点树。通过HTML　DOM 可以对树上的所有节点进行修改。\\n\" +\r\n            \"服务器响应不会处理攻击者脚本，而是用户浏览器处理这个响应时，DOM对象就会处理XSS代码，触发XSS漏洞。\",\r\n\r\n        xxe:\"任何可以上传XML文件的位置都有可能存在XXE漏洞。若没有对上传的XML文件进行过滤，可导致上传恶意文件。Web应用的脚本代码没有限制XML引入外\" +\r\n            \"部实体，从而导致测试者可以创建一个包含外部实体的XML，使得其中的内容会被服务器端执行当允许引用外部实体时，通过构造恶意内容，就可能导致\" +\r\n            \"任意文件读取、系统命令执行、内网端口探测、攻击内网网站等危害\",\r\n\r\n        force:\"暴力破解(brute force)，又名暴力攻击、暴力猜解，从数学和逻辑学的角度，它属于穷举法在现实场景的运用。当密码未知或获得密码哈希时，\" +\r\n            \"攻击者会使用暴力破解来试图登录帐户，即通过利用大量猜测和穷举的方式来尝试获取用户口令的攻击方式。在ATT&CK中暴力破解有如下四种子技术。\" +\r\n            \"Password Guessing（密码猜测）事先不了解系统和环境，攻击者会猜测密码以尝试登录帐户。在不了解帐户密码的情况下，攻击者可能会在操作过\" +\r\n            \"程中通过使用常用密码字典来猜测登录密码，而无须事先了解系统或环境密码Password Cracking（密码破解）当获得凭证材料（例如密码哈希）时，\" +\r\n            \"攻击者可能会解密密码来尝试恢复可用的凭据，例如纯文本密码。Password Spraying（密码喷洒）使用多个密码来暴力破解一个账号可能会导致该\" +\r\n            \"账号被锁定，攻击者可能会针对许多不同帐户使用单个或少量的常用密码列表，以尝试获取有效帐户凭据。攻击者可以使用受害者历史上泄露的数据获得\" +\r\n            \"凭据，通过凭据重叠来访问目标帐户。\\n\",\r\n\r\n        javadeser:\"Java反序列化是指把字节序列恢复为Java对象的过程；2015 年年底，由公共依赖库 Apache Common Collections 引起的 Java 任意\" +\r\n            \"命令执行漏洞的严重安全问题，使得 Java 反序列化漏洞逐渐进入了安全研究人员的视野（在此之前存在，但并未被重视），而任意命令执行的成因正\" +\r\n            \"是反序列化操作的 ObejctInputStream 类的 readObject 方法触发的。该漏洞的危害在于：如果Java应用对用户输入，即不可信数据做了反序\" +\r\n            \"列化处理，那么攻击者可以通过构造恶意输入，让反序列化产生非预期的对象，非预期的对象在产生过程中就有可能带来任意代码执行。\",\r\n\r\n        filedownload:\"文件下载漏洞是指文件下载功能没有对下载的文件类型、目录做合理严谨的过滤，导致用户可以下载服务器的任意文件。用户可以任意下载\" +\r\n            \"文件，例如脚本、代码服务器配置文件等。利用得到的代码进行审计分析有可能得到其它漏洞来进行攻击\",\r\n\r\n        fileupload: \"大部分的网站和应用系统都有上传功能，而程序员在开发文件上传功能时，并未考虑文件格式后缀的合法性校验或者是否只在前端通过js进行\" +\r\n            \"后缀检验。这时攻击者可以上传一个与网站脚本语言相对应的恶意代码动态脚本，例如(jsp、asp、php、aspx文件后缀)到服务器上，从而访问这些恶\" +\r\n            \"意脚本中包含的恶意代码，进行动态解析最终达到执行恶意代码的效果，进一步影响服务器安全。文件上传漏洞是指用户上传了一个可执行的脚本文件，\" +\r\n            \"并通过此脚本文件获得了执行服务器端命令的能力。一般都是指“上传Web脚本能够被服务器解析”的问题。\\n\",\r\n\r\n        urlredirect:\"URL重定向（URLredirection）漏洞，又称跳转漏洞。指的是网络应用程序接受用户可控的输入作为到外部站点的链接，然后在重定向中\" +\r\n            \"使用该链接。可以认为是SSRF一种。漏洞原理：http参数可能包含URL值，并且可能导致Web应用程序将请求重定向到指定的URL。通过将URL值修改为\" +\r\n            \"恶意站点，攻击者可以成功启动网络钓鱼诈骗并窃取用户凭据\",\r\n\r\n        csrf:\"CSRF（Cross-site request forgery），也被称为：one click attack / session riding，中文名称：跨站请求伪造，缩写为：CSRF\" +\r\n            \"/XSRF。一般来说，攻击者通过伪造用户的浏览器的请求，向访问一个用户自己曾经认证访问过的网站发送出去，使目标网站接收并误以为是用户的真实\" +\r\n            \"操作而去执行命令。常用于盗取账号、转账、发送虚假消息等。攻击者利用网站对请求的验证漏洞而实现这样的攻击行为，本质上问题在于网站能够确认\" +\r\n            \"请求来源于用户的浏览器，却不能验证请求是否源于用户的真实意愿下的操作行为。\",\r\n\r\n        BAC:\"逻辑越权漏洞属于漏洞分类中的服务端漏洞，属于权限控制类漏洞越权漏洞是比较常见的漏洞类型，通常分为两种类型，垂直和水平越权，水平越权：也\" +\r\n            \"叫做访问控制攻击。web应用程序在接受用户发送过来的操作请求时，没有判断这条请求的数据操作所属人，攻击者使A用户具有操作B账号的权力。垂直\" +\r\n            \"越权：也叫做权限提升攻击。使用低权限的账号，发送高权限账号才能有的请求，获得其高权限的操作。漏洞原理：通常用户访问一个应用的大致流程是\" +\r\n            \"：登陆—验证权限—数据库查询—数据返回，如果\\\"验证权限\\\"这个阶段出现验证权限不足或没有验证，那么就会导致越权，用户A可以操作其他用户的内容。\",\r\n\r\n        pathtravel:\"目录遍历（也称为文件路径遍历）是一个Web安全漏洞，它使攻击者可以读取运行应用程序的服务器上的任意文件。\" +\r\n            \"这可能包括应用程序代码和数据，后端系统的凭据以及敏感的操作系统文件。\" +\r\n            \"在某些情况下，攻击者可能能够写入服务器上的任意文件，从而允许他们修改应用程序数据或行为，并最终完全控制服务器。\\n\",\r\n      },\r\n      introduction:\'\',\r\n      introimglist:{\r\n        sqli:require(\'@/assets/img/sqli.png\'),\r\n        rce:require(\'@/assets/img/rce.webp\'),\r\n        xss:require(\'@/assets/img/xss1.webp\'),\r\n        xxe:\'\',\r\n        force:require(\'@/assets/img/force1.png\'),\r\n        javadeser:require(\'@/assets/img/javadeser.png\'),\r\n        filedownload:\'\',\r\n        csrf:require(\'@/assets/img/csrf.webp\'),\r\n        // fileupload:require(\'@/assets/img/fileupload.webp\'),\r\n        fileupload:\'\',\r\n        urlredirect:\'\',\r\n        BAC:\'\',\r\n        pathtravel: \'\',\r\n      },\r\n      introimg:\'\',\r\n    }\r\n  },\r\n  created() {\r\n    this.getprobleminfo(\'sqli\')\r\n  },\r\n  methods:{\r\n    // 获取题目信息\r\n    getprobleminfo(type){\r\n      request.get(\"/problem/getinfobytype\",{\r\n        params:{\r\n          problemtype:type\r\n        }\r\n      }).then(res =>{\r\n        this.problemlist={};\r\n        this.problemlist=res.data;\r\n      })\r\n      this.introduction=this.introductionlist[type];\r\n      this.iconurl=this.iconurllist[type];\r\n      this.introimg=\'\';\r\n      this.introimg=this.introimglist[type];\r\n    },\r\n\r\n    // 加载题目页面\r\n    gotopro(problemid){\r\n      this.$router.push({path:\'/bugpage\',query: {id:problemid}})\r\n    },\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.select{\r\n  padding-top: 50px;\r\n  font-size:0;\r\n  /*padding-right: 0px;*/\r\n  /*margin-right: 0px;*/\r\n  /*background-color: rgba(255,255,255,0.1);*/\r\n}\r\n.btn-group{\r\n  height: 60px;\r\n  background-color: #475669;\r\n  color: white;\r\n  /*border-color: #8cc5ff;*/\r\n  border-style: none;\r\n  border-radius: 0;\r\n  /*font-size: 10px;*/\r\n  margin-right: -5px;\r\n  margin-left: -5px;\r\n  /*--el-button-active-background-color: #FF9912;*/\r\n  /*--el-button-active-font-color:#FF9912;*/\r\n  /*!*text-color=\"#fff\"*!*/\r\n  /*active-text-color:#FF9912*/\r\n}\r\n.problem{\r\n  padding: 40px;\r\n  height: 600px;\r\n  /*background-color: rgba(255,255,255,0.2);*/\r\n}\r\np{\r\n  font-family: \"LiSu\";\r\n  line-height:30px;\r\n}\r\n.problem-card{\r\n  background-color:rgba(128,138,135,0.3);\r\n  /*background-color:#606266;*/\r\n  height: 30%;\r\n  margin: 10px;\r\n  margin-right: 20px;\r\n  cursor:pointer;\r\n  border-width: 5px;\r\n  border-color:#808A87;\r\n}\r\n/*.btn-group{*/\r\n/*  height: 60px;*/\r\n/*  background-color: #303133;*/\r\n/*  color: #99a9bf;*/\r\n/*  border-color: #8cc5ff;*/\r\n/*}*/\r\n.card1{\r\n  background-color:rgba(0,0,0,1);\r\n  width: 92%;\r\n  margin-left: 2%;\r\n  height:550px;\r\n  padding: 0px;\r\n  border-color: #475669;\r\n  /*border-style: none;*/\r\n}\r\n.card2{\r\n  height:550px;\r\n  /*margin: 20px;*/\r\n  position: relative;\r\n  background-color: rgba(0,0,0,1);\r\n  border-color: #475669;\r\n  /*padding: 0px;*/\r\n  /*border-style: none;*/\r\n}\r\n/deep/.el-drawer.rtl {\r\n  background: #303133;\r\n}\r\n#intro_p{\r\n  color:wheat;\r\n  margin-left: 10%;\r\n  width: 80%;\r\n  font-size: 20px;\r\n  line-height: 40px;\r\n  text-align: left;\r\n}\r\n</style>\r\n```\r\n\r\n#### 漏洞分类边栏导航目录nsepsider.vue\r\n\r\n```html\r\n<template>\r\n  <el-col :span=\"12\">\r\n<!--    <h5 class=\"mb-2\">Custom colors</h5>-->\r\n    <el-menu\r\n        active-text-color=\"#ffd04b\"\r\n        background-color=\"#545c64\"\r\n        style=\"width: 200px;\r\n        height: 100vh\"\r\n        :router=\"true\"\r\n    >\r\n      <el-menu-item index=\"/login\">\r\n        SQL-inject\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        Burt Force\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        XSS\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        CSRF\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        RCE\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        Over Permisson\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        SSRF\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        openssl心脏滴血\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        弱口令破解\r\n      </el-menu-item>\r\n      <el-menu-item>\r\n        Unsafe file uploads\r\n      </el-menu-item>\r\n    </el-menu>\r\n  </el-col>\r\n</template>\r\n```\r\n\r\n#### 实验资源主界面HoneyPot.vue\r\n\r\n```html\r\n<template>\r\n<!--  靶场模块-->\r\n  <div class=\"honeypot\">\r\n    <nsepheader></nsepheader>\r\n    <bug-card></bug-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nsepheader from \"../components/nsepheader.vue\";\r\nimport BugCard from \"../components/BugCard.vue\";\r\nimport animation from \"../assets/js/background_black\";\r\nexport default {\r\n  components: {\r\n    nsepheader,\r\n    BugCard,\r\n    // nsepsider\r\n  },\r\n  created() {\r\n    animation()\r\n  },\r\n  setup() {},\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.honeypot {\r\n  /*background-image: url(\"../assets/img/bg4.jpg\");*/\r\n  /*background-size:100% 100%;*/\r\n\r\n  background-color:rgba(105,105,105,0.5);\r\n  margin: 0px;\r\n  padding: 0px;\r\n  min-height: 100vh;\r\n}\r\n</style>\r\n```\r\n\r\n#### 漏洞创建及flag提交界面BugPage.vue\r\n\r\n```html\r\n<template>\r\n  <!--  做题页面-->\r\n  <div class=\"BugPage\">\r\n    <nsepheader></nsepheader>\r\n    <div style=\"float: left;margin:30px; margin-left: 150px\">\r\n      <el-button style=\"background-color:#292421;color: white;border-color: #8cc5ff;\"  @click=\"goback\">返回</el-button>\r\n    </div>\r\n    <!--    卡片-->\r\n    <div>\r\n      <el-card class=\"Pagecard\" style=\"border-style: none\">\r\n        <!--靶机信息-->\r\n        <div style=\"padding-left: 40px;\">\r\n          <el-row>\r\n            <el-col :span=\"20\">\r\n              <h1 style=\"color: white;text-align: left;font-size: 30px;\">{{probleminfo.problemname}}</h1>\r\n            </el-col>\r\n            <el-col :span=\"4\">\r\n              <el-button style=\"width: 80px;height:20px;margin:20px;text-align: center\" type=\"success\" plain @click=\"gotowp\">\r\n                <i class=\"el-icon-tickets\" ></i>WP\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n          <div style=\"text-align: left;\">\r\n            <h2 style=\"display:inline-block; color: white;\">难度系数：</h2>\r\n            <el-rate  style=\"display:inline-block;font-size: 20px\" v-model=\"probleminfo.problemratio\" disabled/>\r\n          </div>\r\n          <div style=\"text-align: left;\">\r\n            <h2 style=\"color: white;display:inline-block;\">场景描述：</h2>\r\n            <p style=\"display:inline-block;color: #DCDCDC;font-size: 15px\">{{probleminfo.problemcontent}}</p>\r\n          </div>\r\n          <div style=\"text-align: left;\">\r\n            <h2 style=\"color: white;display:inline-block;\">题目附件：</h2>\r\n            <p style=\"display:inline-block;color: #DCDCDC;font-size: 15px\">暂无</p>\r\n          </div>\r\n          <div v-if=\"dialogVisible==false\" style=\"text-align: left;height:150px;margin-top: 20px;\">\r\n            <el-button v-loading=\"loading\" style=\"background-color: #292421;color: white;width: 200px;border-color: #8cc5ff;\" @click=\"openenviorment()\">\r\n              <h3>点击创建靶机环境</h3>\r\n            </el-button>\r\n          </div>\r\n          <!--    打开docker容器创建靶机-->\r\n          <div v-if=\"dialogVisible==true\" class=\"btn2\" >\r\n            <el-progress class=\"progress\" v-if=\"link==0\" :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"percentage\" :color=\"customColorMethod(percentage)\" />\r\n            <p @click=\"gotopage\" v-if=\"link==1\" style=\"cursor: pointer;display: block;color: white;padding-top:10px;text-align: left;font-size: 20px;height:35px\">\r\n              <i class=\"el-icon-s-platform\" style=\"margin-right: 10px;margin-left: 10px;\"></i>\r\n              点击此链接进入环境\r\n            </p>\r\n            <el-button class=\"closebtn\" @click=\"closeenviorment\">\r\n              关闭当前靶机环境\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <!--提交按钮-->\r\n        <div style=\"\">\r\n          <el-input v-model=\"input\" placeholder=\"flag{}\" style=\"width:60%;display:block;margin-left: 20%\" clearable />\r\n          <el-button  v-if=\"problemstate==0\" @click=\"submit\" style=\"width: 150px;margin-top: 20px; background-color: #303133;color: #99a9bf;border-color: #8cc5ff;\">提 交</el-button>\r\n          <el-button  v-if=\"problemstate==1\"  style=\"width: 150px;margin-top: 20px;\" type=\"success\" plain disabled>已完成</el-button>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nsepheader from \"@/components/nsepheader\";\r\nimport router from \"@/router\";\r\nimport request from \"@/utils/request\";\r\nimport animation from \"../assets/js/background_black\";\r\nimport { ElMessage } from \'element-plus\'\r\nexport default {\r\n  components: {nsepheader},\r\n  data(){\r\n    return{\r\n      problemstate:\'\',\r\n      input:\'\',\r\n      probleminfo:{\r\n        problemid:this.$route.query.id,\r\n        problemname:\'\',\r\n        problemcontent:\'\',\r\n        problemratio:4,\r\n      },\r\n      dialogVisible:false,\r\n      loading:false,\r\n      percentage:0,\r\n      link:0,\r\n      user:localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      dockerurl:\'\'\r\n    }\r\n  },\r\n  created() {\r\n    animation()\r\n    this.getprobleminfo()\r\n    this.getproblemstate()\r\n  },\r\n  methods:{\r\n    getproblemstate(){\r\n      request.get(\"/stuproblem/getinfo\",{\r\n        params:{\r\n          userid:this.user.userid,\r\n          problemid:this.probleminfo.problemid\r\n        }\r\n      }).then(res =>{\r\n        if (res.data!=null){\r\n          this.problemstate=1\r\n        }\r\n        else this.problemstate=0 //标识未完成\r\n      })\r\n    },\r\n    goback(){\r\n      router.push(\'/honeypot\');\r\n    },\r\n    getprobleminfo(){\r\n      request.get(\"/problem/getinfobyid\",{\r\n        params:{\r\n          problemid:this.probleminfo.problemid\r\n        }\r\n      }).then(res =>{\r\n        this.probleminfo=res.data;\r\n      })\r\n    },\r\n    submit(){\r\n      request.get(\"/FlagConfirm\",{\r\n        params:{\r\n          username:this.user.username,\r\n          problemid:this.probleminfo.problemid,\r\n          flag:this.input\r\n        }\r\n      }).then(res =>{\r\n        if (res.data==\"true\"){\r\n          ElMessage({\r\n            message: \'Congrats！flag正确\',\r\n            center: true,\r\n            type: \'success\',\r\n          })\r\n          this.record()\r\n        }else{\r\n          ElMessage({\r\n            message: \'错误的flag\',\r\n            center: true,\r\n            type: \'error\',\r\n          })\r\n        }\r\n        // alert(res.data)\r\n        console.log(res.data)\r\n      })\r\n    },\r\n    record(){\r\n      request.get(\"/stuproblem/recordinfo\", {\r\n        params:{\r\n          userid:this.user.userid,\r\n          problemid:this.probleminfo.problemid,\r\n        }\r\n      }).then(res => {\r\n        if (res.code === \'200\') {\r\n          // alert(\'存储成功\')\r\n          location.reload();\r\n        } else {\r\n          this.$message.error(\'数据库连接失败\')\r\n        }\r\n      })\r\n    },\r\n    gotowp(){\r\n      router.push(\'/forum\')\r\n    },\r\n    openenviorment(){\r\n      this.loading=true;\r\n      var that=this;\r\n      setTimeout(function(){\r\n        that.loading=false;\r\n        that.dialogVisible=true;\r\n        },1000)\r\n\r\n      if (this.probleminfo.url==\'3\'){\r\n        //动态创建docker\r\n        this.createdocker();\r\n\r\n        setTimeout(function(){that.percentage=that.percentage+3;},2000)\r\n        setTimeout(function(){that.percentage=that.percentage+7;},3000)\r\n        setTimeout(function(){that.percentage=that.percentage+15;},5000)\r\n        setTimeout(function(){that.percentage=that.percentage+25;},7000)\r\n        setTimeout(function(){that.percentage=that.percentage+40;},9000)\r\n        setTimeout(function(){that.percentage=that.percentage+10;},12000)\r\n        setTimeout(function(){\r\n          that.link=1;\r\n        },14000)\r\n      }else{\r\n        setTimeout(function(){\r\n          that.percentage=that.percentage+100;\r\n        },1000)\r\n        setTimeout(function(){\r\n          that.link=1;\r\n        },2000)\r\n      }\r\n    },\r\n    gotopage(){\r\n      if (this.probleminfo.url==\'1\'){//单独部署1\r\n        window.open(\'http://43.143.195.149:10000/\'+this.probleminfo.problemname)\r\n\r\n      }else if (this.probleminfo.url==\'2\'){//单独部署2\r\n        window.open(\'http://43.143.195.149:10001/\'+this.probleminfo.problemname)\r\n\r\n      }else if (this.probleminfo.url==\'3\'){//动态创建docker\r\n        // alert(\'尚未实现动态创建docker\')\r\n        window.open(this.dockerurl)\r\n\r\n      }else {//题号即路由\r\n        let current_url=window.location.href.slice(0,-17);\r\n        // console.log(current_url)\r\n        let href=current_url+this.probleminfo.problemid;\r\n        // console.log(href)\r\n        window.open(href);\r\n      }\r\n    },\r\n    createdocker(){\r\n      request.get(\"/docker/create\",{\r\n        params:{\r\n          problemName:this.probleminfo.problemid,\r\n          username:this.user.username\r\n        }\r\n      }).then(res =>{\r\n        //返回的是创建的docker的地址\r\n        let url=\'http://43.143.195.149:\'+res.data+\'/\'+this.probleminfo.problemname;\r\n        this.dockerurl=url;\r\n        console.log(this.dockerurl)\r\n      })\r\n\r\n    },\r\n    closeenviorment(){\r\n      this.dialogVisible=false;\r\n      this.link=0;\r\n      this.percentage=0;\r\n    },\r\n    customColorMethod (percentage) {\r\n      if (percentage < 30) {\r\n        return \'#909399\';\r\n      }\r\n      if (percentage < 70) {\r\n        return \'#e6a23c\'\r\n      }\r\n      return \'#67c23a\';\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.BugPage{\r\n  margin: 0px;\r\n  /*background-image: linear-gradient(to bottom right, #000000, 	#483D8B);*/\r\n  position: relative;\r\n  width:100%;\r\n  min-height: 100vh;\r\n}\r\n.Pagecard{\r\n  width: 80%;\r\n  height:65%;\r\n  margin: 150px;\r\n  margin-top:110px;\r\n  background-color: rgba(155,155,155,0.6);\r\n  border-color: #808A87;\r\n}\r\n.btn2{\r\n  text-align: left;\r\n  height:120px;\r\n  margin-top: 20px;\r\n  width:30%;\r\n  margin-bottom:30px;\r\n  background-color: rgba(0,0,0,0.1);\r\n}\r\n.closebtn{\r\n  background-color: #292421;\r\n  color: white;\r\n  width: 200px;\r\n  height:50px;\r\n  margin-left:5%;\r\n  text-align: center;\r\n  border-color: #8cc5ff;\r\n  margin-bottom: 0px;\r\n}\r\n.el-input >>> .el-input__inner {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  color: white;\r\n}\r\n.progress{\r\n  display: block;\r\n  padding-top:20px;\r\n  height:40px;\r\n  width: 70%;\r\n  margin-left:5%;\r\n}\r\n</style>\r\n```\r\n\r\n### 4、界面展现\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/2824088934.png)\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/1990369772.png)\r\n\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/2902034937.png)',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(54,'随心所记','54',1672494900,1679320749,'<!--markdown--># 评论区随心所记:heart: :heart:',0,1,NULL,'page','publish',NULL,34,'1','1','1',0),(55,'胶东往事（中）——《保重》','55',1679416200,1679552134,'<!--markdown-->*“无有尽头，亦无岁月可回头。”*\r\n\r\n---\r\n\r\n*“你从没学会消解，只是忍，把忍当成对抗，虚妄里无尽砍杀，幻想自己赢了。\r\n哪有什么刻苦勤奋努力打拼，你骗得了自己的吗，不过是为了不被俯视而使劲折腾，边折腾，边假装特立独行和洒脱。\r\n这算什么人生，能数出来几个片段是真正快乐的，你和年轻一样无聊，无聊至极。\r\n你唯一的长进，是开始懒得掩饰这份无聊，边打下这行字边苦笑着。”*\r\n\r\n---\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/610883261.png)\r\n\r\n*“你看，这就是我一直以来的思维方式，习惯放大一种需要去覆盖另一种需要。算不算是一种逃避呢？不自觉地附加上意义和热爱，用无聊去打发无聊，还总能自圆其说”*\r\n\r\n---\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/1395083840.jpg)\r\n\r\n*“又想引起注意，又畏惧被注意，再喜欢也不懂争取，只无师自通了自惭形秽，越喜欢越觉得遥远，越喜欢越坚信没有资格靠近。\r\n话说，到如今也是如此，很多事情上都不自信，偶能克制无有消解，即便成功也觉得不过是侥幸 是僭越，骨子里我咋这么怯懦？”*\r\n\r\n---\r\n*“不用指望讲理，只要讲理就讲不清道理，个体对立与群体时，永远是个体的错。”*\r\n\r\n---\r\n*“若干年后他是个喜怒无常的人，偏执犯独，敏感多疑，大喜大悲情绪极端，永远都学不会配合协作。\r\n他后来所有擅长的事情，都可以归类为自己完成，并自我美化成孤勇。\r\n貌似卓尔不群，实则畏惧人群，貌似有许多朋友，活该没有战友。\r\n我才不会替他解释，这个世界只看结果不看缘由，他可笑的分裂没人有义务读懂。”*\r\n\r\n---\r\n*“无有尽头，亦无岁月可回头。”*\r\n',0,1,NULL,'post','publish',NULL,3,'1','1','1',0),(56,'1679416262.png','1679416262-png',1679416267,1679416267,'a:5:{s:4:\"name\";s:14:\"1679416262.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3835157200.png\";s:4:\"size\";i:9036705;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',55),(57,'1679416268.png','1679416268-png',1679416274,1679416274,'a:5:{s:4:\"name\";s:14:\"1679416268.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1425015175.png\";s:4:\"size\";i:9036705;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',55),(58,'1679416286.png','1679416286-png',1679416290,1679416290,'a:5:{s:4:\"name\";s:14:\"1679416286.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2861593644.png\";s:4:\"size\";i:9036705;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',55),(59,'1679416302.png','1679416302-png',1679416305,1679416305,'a:5:{s:4:\"name\";s:14:\"1679416302.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/610883261.png\";s:4:\"size\";i:1120368;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',55),(60,'1679416447.jpg','1679416447-jpg',1679416450,1679416450,'a:5:{s:4:\"name\";s:14:\"1679416447.jpg\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1395083840.jpg\";s:4:\"size\";i:390008;s:4:\"type\";s:3:\"jpg\";s:4:\"mime\";s:10:\"image/jpeg\";}',5,1,NULL,'attachment','publish',NULL,0,'1','0','1',55),(61,'1679501336.png','1679501336-png',1679501337,1679501337,'a:5:{s:4:\"name\";s:14:\"1679501336.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1035277069.png\";s:4:\"size\";i:515563;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(62,'1679501343.png','1679501343-png',1679501344,1679501344,'a:5:{s:4:\"name\";s:14:\"1679501343.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2345629849.png\";s:4:\"size\";i:515563;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(63,'胶东往事（下）——《保重》','63',1679501520,1679502047,'<!--markdown-->*“怎么会够呢？永远也不够啊奶奶，若能再吃一次你做的油饼，付出任何代价我都情愿！”*\r\n\r\n---\r\n*“喊喊我吧，奶奶，喊我回家吃饭。\r\n让黄狗来接我吧，或升起一缕看得见的炊烟。\r\n奶奶，天快黑了，我要赶回来吃饭。”*\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/3908371004.png)\r\n\r\n---\r\n*“我一直相信你一直守着我不曾离开，看着我一点点长大，见证过我的每次悲欢。\r\n他们都不懂我但你是懂我的吧奶奶，他们都不容我你也会容我的吧奶奶。\r\n应该担心过我很多次吧，不要担心我，我没事的，奶奶。\r\n可是，路太远了，奶奶。\r\n我回不去啊奶奶，我该怎么办。”*\r\n\r\n![](http://blog.dongpeibin.cn/usr/uploads/2023/03/4159843578.png)\r\n\r\n---\r\n*“我站起身来，发现自己怎么已经长这么高了？\r\n站了一会，四处看看，泪如雨下。”*',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(64,'1679501691.png','1679501691-png',1679501692,1679501692,'a:5:{s:4:\"name\";s:14:\"1679501691.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/625392676.png\";s:4:\"size\";i:747759;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',63),(65,'1679501697.png','1679501697-png',1679501698,1679501698,'a:5:{s:4:\"name\";s:14:\"1679501697.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/4159843578.png\";s:4:\"size\";i:747759;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',63),(66,'1679501899.png','1679501899-png',1679501900,1679501900,'a:5:{s:4:\"name\";s:14:\"1679501899.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/528155170.png\";s:4:\"size\";i:498572;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',63),(67,'1679502026.png','1679502026-png',1679502027,1679502027,'a:5:{s:4:\"name\";s:14:\"1679502026.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3908371004.png\";s:4:\"size\";i:394334;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',63),(68,'服务器部署项目','68',1678443900,1679826618,'<!--markdown-->### 后端\r\n\r\n#### docker安装mysql数据库\r\n\r\n```shell\r\ndocker pull mysql:mysql5.7\r\n```\r\n\r\n```shell\r\n#启动mysql+挂载数据目录，端口映射为3307，root密码设置为123456   -d后台运行 -p端口映射  -v卷挂载 -e环境配置\r\ndocker run -d -p 3307:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=Dpb15265441806 --name mysql mysql:5.7\r\n```\r\n\r\n> 后端项目在打包前需将相应的数据库配置为docker中的mysql的参数\r\n\r\n```json\r\nspring.datasource.username=root\r\nspring.datasource.password=Dpb15265441806\r\nspring.datasource.url=jdbc:mysql://43.143.195.149:3307/nsep?useSSL=false&useUnicode=true&characterEncoding=utf-8&serverTimezone=GMT%2B8\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n```\r\n使用navicat访问部署在docker的mysql\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/3993505248.png)\r\n部署nsep数据库\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/3509430121.png)\r\n#### docker安装centos7镜像\r\n\r\n```shell\r\ndocker pull centos:centos7\r\n```\r\n\r\n#### docker构建自己的 jdk1.8 环境\r\n\r\n> 发现问题：docker官方库已经弃用jdk1.8\r\n\r\n自建jdk1.8环境，下载 jdk1.8 linux版本压缩包\r\n\r\n解压缩后，替换掉jdk包内的 jce.jar 包*（因为jdk1.8的jce包因为安全问题，会导致部署在服务器上的项目无法使用javax.mail包发送邮件）*\r\n\r\n将准备好的jdk1.8的包重新压缩\r\n\r\n编写Dockerfile文件将准备好的 jdk1.8 构建为自己的可用镜像。\r\n\r\n```dockerfile\r\nFROM centos:centos7\r\nMAINTAINER DPB\r\nRUN mkdir /usr/local/jdk\r\nWORKDIR /usr/local/jdk\r\nADD jdk1.8.0_361_MDb4dr.tar.gz /usr/local/jdk\r\n#java环境配置\r\nENV JAVA_HOME /usr/local/jdk/jdk1.8.0_361\r\nENV JRE_HOME /usr/local/jdk/jdk1.8.0_361/jre\r\nENV PATH $JAVA_HOME/bin:$PATH\r\n```\r\n\r\n#### nsepback后端项目打包\r\n\r\n使用maven将后端项目打为jar包，先执行clean，再进行package打包\r\n\r\nclean：\r\n\r\n```shell\r\n[INFO] Building NsepBack 0.0.1-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ NsepBack ---\r\n[INFO] Deleting C:\\Users\\Dong Peibin\\Desktop\\NSEP Beta2.0\\NsepBack\\target\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.648 s\r\n```\r\n\r\npackage:\r\n\r\n```shell\r\n[INFO] --- maven-jar-plugin:3.2.2:jar (default-jar) @ NsepBack ---\r\n[INFO] Building jar: C:\\Users\\Dong Peibin\\Desktop\\NSEP Beta2.0\\NsepBack\\target\\NsepBack-0.0.1-SNAPSHOT.jar\r\n[INFO] \r\n[INFO] --- spring-boot-maven-plugin:2.2.2.RELEASE:repackage (repackage) @ NsepBack ---\r\n[INFO] Replacing main artifact with repackaged archive\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  14.012 s\r\n```\r\n\r\n将打好的 NsepBack-0.0.1-SNAPSHOT.jar 包通过宝塔面板上传到服务器。\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/645941605.png)\r\n\r\n#### docker部署后端nsepback项目\r\n\r\n编写Dockerfile，使用上述自建的jdk1.8环境\r\n\r\n```dockerfile\r\nFROM jdk1.8u361:latest\r\n#开放8081端口\r\nEXPOSE 8081\r\n\r\nADD NsepBack-0.0.1-SNAPSHOT.jar nsep.jar\r\n\r\nRUN bash -c \'touch /nsep.jar\'\r\n\r\nENTRYPOINT [\"java\",\"-jar\",\"nsep.jar\"]\r\n```\r\n\r\n构建nsep镜像\r\n\r\n```shell\r\nsudo docker build -t nsep:latest .\r\n```\r\n\r\n启动docker部署的后端项目，并映射为8081端口\r\n\r\n```shell\r\ndocker run -d -p 8081:8081 nsep:latest\r\n```\r\n\r\n### 前端\r\n\r\n#### 打包\r\n\r\n```shell\r\nC:\\Users\\Dong Peibin\\Desktop\\NSEP Beta2.0\\nsepfront> npm run build\r\n```\r\n\r\n打包完成\r\n\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/1758244332.png)\r\n\r\n#### 上传dist到服务器\r\n\r\n将打包好的dist文件夹通过宝塔面板上传到服务器的/www/wwwroot目录下\r\n\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/458404446.png)\r\n\r\n#### 部署网站\r\n\r\n部署前端到8082端口，并配置项目域名nsep.dongpeibin.cn，将网站目录指向/www/wwwroot/dist\r\n\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/317081989.png)\r\n\r\n#### 修改Nginx配置文件\r\n\r\n添加后端请求api配置和路由配置\r\n\r\n```properties\r\n    location /api/ \r\n    {\r\n        rewrite  ^.+api/?(.*)$ /$1 break;\r\n        proxy_pass http://43.143.195.149:8081;\r\n    }\r\n    \r\n    location / \r\n    {\r\n        try_files $uri $uri/ @router;\r\n        index index.html;\r\n    }\r\n\r\n    location @router {\r\n        rewrite ^.*$ /index.html last;\r\n    }\r\n```\r\n\r\n### 测试项目运行\r\n> 一切正常\r\n\r\n\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/2317843049.png)\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/1849176331.png)\r\n',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(69,'1679826382.png','1679826382-png',1679826383,1679826383,'a:5:{s:4:\"name\";s:14:\"1679826382.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/645941605.png\";s:4:\"size\";i:26027;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(70,'1679826394.png','1679826394-png',1679826395,1679826395,'a:5:{s:4:\"name\";s:14:\"1679826394.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1758244332.png\";s:4:\"size\";i:23159;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(71,'1679826406.png','1679826406-png',1679826407,1679826407,'a:5:{s:4:\"name\";s:14:\"1679826406.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/458404446.png\";s:4:\"size\";i:25689;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',5,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(72,'1679826418.png','1679826418-png',1679826419,1679826419,'a:5:{s:4:\"name\";s:14:\"1679826418.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/03/317081989.png\";s:4:\"size\";i:47310;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',6,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(73,'1679826429.png','1679826429-png',1679826430,1679826430,'a:5:{s:4:\"name\";s:14:\"1679826429.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2317843049.png\";s:4:\"size\";i:51426;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',7,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(74,'1679826531.png','1679826531-png',1679826532,1679826532,'a:5:{s:4:\"name\";s:14:\"1679826531.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1237983173.png\";s:4:\"size\";i:18096;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(75,'1679826541.png','1679826541-png',1679826542,1679826542,'a:5:{s:4:\"name\";s:14:\"1679826541.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3993505248.png\";s:4:\"size\";i:18096;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(76,'1679826580.png','1679826580-png',1679826581,1679826581,'a:5:{s:4:\"name\";s:14:\"1679826580.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3509430121.png\";s:4:\"size\";i:18691;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(77,'1679826613.png','1679826613-png',1679826614,1679826614,'a:5:{s:4:\"name\";s:14:\"1679826613.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1849176331.png\";s:4:\"size\";i:1297358;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',68),(78,'1679830406.png','1679830406-png',1679830407,1679830407,'a:5:{s:4:\"name\";s:14:\"1679830406.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/1851120643.png\";s:4:\"size\";i:11912;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',53),(79,'1679830612.png','1679830612-png',1679830613,1679830613,'a:5:{s:4:\"name\";s:14:\"1679830612.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2471686471.png\";s:4:\"size\";i:14272;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',4,1,NULL,'attachment','publish',NULL,0,'1','0','1',87),(80,'1679830618.png','1679830618-png',1679830619,1679830619,'a:5:{s:4:\"name\";s:14:\"1679830618.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/3044492762.png\";s:4:\"size\";i:12954;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',3,1,NULL,'attachment','publish',NULL,0,'1','0','1',87),(81,'1679830626.png','1679830626-png',1679830627,1679830627,'a:5:{s:4:\"name\";s:14:\"1679830626.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2861983439.png\";s:4:\"size\";i:6945;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',2,1,NULL,'attachment','publish',NULL,0,'1','0','1',87),(82,'1679830652.png','1679830652-png',1679830653,1679830653,'a:5:{s:4:\"name\";s:14:\"1679830652.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/03/2890004023.png\";s:4:\"size\";i:73655;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',1,1,NULL,'attachment','publish',NULL,0,'1','0','1',87),(83,'十、教师课程管理模块实现','83',1676892960,1679830695,'<!--markdown-->> 思路：\r\n>\r\n> 1、教师可以创建、解散课程，可以通过二维码邀请学生加入课程，学生可以扫描二维码加入课程，亦可以删除课程中某个学生。\r\n>\r\n> 2、教师可以查看课程内学生的实验完成进度，并可查看具体某个学生完成了哪些网安实验。\r\n>\r\n> 3、教师可以导出详细的网安实验完成记录到本地，为excel格式。\r\n>\r\n> 4、教师可以通过学号查询具体某个学生的完成记录。\r\n\r\n### 1、数据库course、stucourse、stuproblem表设计\r\n\r\ncourse表：记录课程信息\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/2471686471.png)\r\n\r\nstucourse表：记录学生加入的课程信息表\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/3044492762.png)\r\n\r\nstuproblem表：记录学生完成实验表\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/2861983439.png)\r\n\r\n### 2、实体类\r\n\r\nCourse.java\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@TableName(\"course\")\r\npublic class Course {\r\n\r\n    @TableId(type = IdType.AUTO)\r\n    private Integer courseid;\r\n    // 课程名\r\n    private String coursename;\r\n    // 老师id\r\n    private String teacherid;\r\n    // 创建时间\r\n    private String createtime;\r\n\r\n}\r\n```\r\n\r\nStuCourse.java\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@TableName(\"stucourse\")\r\npublic class StuCourse {\r\n\r\n    @TableId(type = IdType.AUTO)\r\n    private Integer courseid;\r\n    private Integer userid;\r\n}\r\n```\r\n\r\nCourseInfo.java\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class CourseInfo {\r\n\r\n    // 课程名\r\n    private String coursename;\r\n    // 学生姓名\r\n    private String realname;\r\n}\r\n```\r\n\r\nStuProblem.java\r\n\r\n```java\r\npackage com.dpb.nsepback.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport lombok.Data;\r\n\r\n@Data\r\n@TableName(\"stuproblem\")\r\npublic class StuProblem {\r\n\r\n    @TableId(type = IdType.AUTO)\r\n    private Integer userid;\r\n    private String problemid;\r\n    private String finishtime;\r\n}\r\n```\r\n\r\n### 3、Mapper\r\n\r\nCourseMapper\r\n\r\n```java\r\npackage com.dpb.nsepback.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.dpb.nsepback.entity.Course;\r\nimport org.apache.ibatis.annotations.Delete;\r\nimport org.apache.ibatis.annotations.Insert;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\n\r\nimport java.util.List;\r\n\r\n@Mapper\r\npublic interface CourseMapper extends BaseMapper<Course> {\r\n\r\n    // 查找某位老师的课程列表\r\n    @Select(\"select * from course where teacherid = #{teacherid}\")\r\n    List<Course> getlist(Integer teacherid);\r\n\r\n    // 根据课程id查找课程名\r\n    @Select(\"select coursename from course where courseid = #{courseid}\")\r\n    String getname(String courseid);\r\n\r\n    // 根据课程id删除某课程\r\n    @Delete(\"delete from course where courseid = #{courseid}\")\r\n    int deleteByid(String  courseid);\r\n\r\n    // 新建课程\r\n    @Insert(\"insert into course (coursename,teacherid) values (#{coursename},#{teacherid})\")\r\n    int add(String  coursename,String  teacherid);\r\n}\r\n```\r\n\r\nStuCourseMapper\r\n\r\n```java\r\npackage com.dpb.nsepback.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.dpb.nsepback.entity.CourseInfo;\r\nimport com.dpb.nsepback.entity.StuCourse;\r\nimport com.dpb.nsepback.entity.User;\r\nimport org.apache.ibatis.annotations.Delete;\r\nimport org.apache.ibatis.annotations.Insert;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\n\r\nimport java.util.List;\r\n\r\n\r\n/**\r\n * <p>\r\n *  Mapper 接口\r\n * </p>\r\n */\r\n@Mapper\r\npublic interface StuCourseMapper extends BaseMapper<StuCourse> {\r\n\r\n    // 插入\r\n    @Insert(\"insert ignore into stucourse (userid,courseid) values (#{userid},#{courseid})\")\r\n    int saveinfo(String  userid,String courseid);\r\n\r\n    // 删除某门课\r\n    @Delete(\"delete from stucourse where courseid = #{courseid}\")\r\n    int deleteByid(String courseid);\r\n\r\n    // 删除学生的某门课\r\n    @Delete(\"delete from stucourse where courseid = #{courseid} and userid=#{userid}\")\r\n    int del(String courseid,Integer userid);\r\n\r\n    // 删除学生\r\n    @Delete(\"delete from stucourse where userid=#{userid}\")\r\n    int deletee(Integer userid);\r\n\r\n    // 分页查找\r\n    @Select(\"select user.userid ,username,realname,email,finished from  stucourse, user where stucourse.userid =user.userid and\" +\r\n            \" courseid =#{courseid} and username like \\\"%${search}%\\\" limit #{beginPage},#{pageSize}\")\r\n    List<User> getpage(Integer beginPage, Integer pageSize, String search, Integer courseid);\r\n\r\n    // 计数\r\n    @Select(\"select count(*) from  stucourse, user where stucourse.userid =user.userid and courseid =#{courseid} and username like \\\"%${search}%\\\"\")\r\n    Integer gettotalpage(String search,Integer courseid);\r\n//    and username like \"%${search}%\"\r\n\r\n    // 查找某个学生的所选课程\r\n    @Select(\"select coursename,realname from\" +\r\n            \" (select * from user where role=2) a,course where\" +\r\n            \" courseid in (select courseid from stucourse where userid=#{userid}) and a.userid=course.teacherid\")\r\n    List<CourseInfo> getcourseinfo(Integer userid);\r\n\r\n}\r\n```\r\n\r\nStuProblemMapper\r\n\r\n```java\r\npackage com.dpb.nsepback.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.dpb.nsepback.entity.StuProblem;\r\nimport org.apache.ibatis.annotations.Delete;\r\nimport org.apache.ibatis.annotations.Insert;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Select;\r\n\r\n/**\r\n * <p>\r\n *  Mapper 接口\r\n * </p>\r\n */\r\n@Mapper\r\npublic interface StuProblemMapper extends BaseMapper<StuProblem> {\r\n\r\n    // 插入\r\n    @Insert(\"insert into stuproblem (userid,problemid) values (#{userid},#{problemid})\")\r\n    int insertinfo(Integer userid,String problemid);\r\n\r\n    // 查找\r\n    @Select(\"select * from stuproblem where userid= #{userid} and problemid= #{problemid}\")\r\n    Object selectinfo(Integer userid,String problemid);\r\n\r\n    // 删除\r\n    @Delete(\"delete from stuproblem where userid= #{userid}\")\r\n    int deletee(Integer userid);\r\n}\r\n```\r\n\r\n### 4、Controller\r\n\r\nCourseController\r\n\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.entity.Course;\r\nimport com.dpb.nsepback.mapper.CourseMapper;\r\nimport com.dpb.nsepback.mapper.StuCourseMapper;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(\"/course\")\r\npublic class CourseController {\r\n\r\n    @Resource\r\n    CourseMapper courseMapper;\r\n\r\n    @Resource\r\n    StuCourseMapper stuCourseMapper;\r\n\r\n    //通过教师id获取课程列表\r\n    @GetMapping(\"/getcourselist\")\r\n    public Result getlist(@RequestParam() Integer teacherid){\r\n        List<Course> courseList= courseMapper.getlist(teacherid);\r\n        return Result.success(courseList);\r\n    }\r\n\r\n\r\n    //根据课程id获取到课程名\r\n    @GetMapping(\"/getcoursename\")\r\n    public Result getname(@RequestParam() String  courseid){\r\n//        System.out.println(courseid);\r\n        String  coursename= courseMapper.getname(courseid);\r\n//        System.out.println(coursename);\r\n        return Result.success(coursename);\r\n    }\r\n\r\n    // 删除课程\r\n    @GetMapping(\"/delete\")\r\n    public Result delete(@RequestParam() String  courseid) {\r\n        int a=courseMapper.deleteByid(courseid);\r\n        int b=stuCourseMapper.deleteByid(courseid);\r\n        if(a==1&&b==1)\r\n            return Result.success();\r\n        else\r\n            return Result.error();\r\n    }\r\n\r\n    // 添加课程\r\n    @GetMapping(\"/save\")\r\n    public Result save(@RequestParam() String  coursename,@RequestParam() String  teacherid) {\r\n        int a=courseMapper.add(coursename,teacherid);\r\n        if(a==1)\r\n            return Result.success();\r\n        else\r\n            return Result.error();\r\n    }\r\n}\r\n```\r\n\r\nStuCourseController\r\n\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.entity.CourseInfo;\r\nimport com.dpb.nsepback.entity.Page;\r\nimport com.dpb.nsepback.entity.User;\r\nimport com.dpb.nsepback.mapper.StuCourseMapper;\r\nimport com.dpb.nsepback.mapper.UserMapper;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(\"/StuCourse\")\r\npublic class StuCourseController {\r\n\r\n    @Resource\r\n    StuCourseMapper stuCourseMapper;\r\n\r\n    @Resource\r\n    UserMapper userMapper;\r\n\r\n    //根据课程id和学生id，将其存入数据库\r\n    @GetMapping(\"/saveinfo\")\r\n    public Result saveinfo(@RequestParam() String  userid,@RequestParam() String courseid){\r\n        stuCourseMapper.saveinfo(userid,courseid);\r\n        return Result.success(\"success\");\r\n//        return\r\n    }\r\n\r\n    // 删除\r\n    @GetMapping(\"/delete\")\r\n    public Result del(@RequestParam() String courseid,@RequestParam() String  username){\r\n        Integer userid=userMapper.seleteIdByName(username);\r\n        int a=stuCourseMapper.del(courseid,userid);\r\n        if(a==1)\r\n            return Result.success();\r\n        else\r\n            return Result.error();\r\n    }\r\n\r\n    // 分页\r\n    @GetMapping(\"/page\")\r\n    public Result findpage(@RequestParam(defaultValue = \"1\") Integer pageNum,\r\n                           @RequestParam(defaultValue = \"5\")  Integer pageSize,\r\n                           @RequestParam(defaultValue = \"\")  String search,\r\n                           @RequestParam Integer courseid){\r\n\r\n        Integer beginPage=(pageNum-1)*pageSize;\r\n        System.out.println(\"select user.userid ,username,realname,email from  stucourse, user where stucourse.userid =user.userid and\" +\r\n                \" courseid =\"+courseid+\" limit \"+beginPage+\",\"+pageSize);\r\n\r\n        List<User> userPage=stuCourseMapper.getpage(beginPage,pageSize,search,courseid);\r\n        Integer totalpage=stuCourseMapper.gettotalpage(search,courseid);\r\n\r\n        System.out.println(totalpage);\r\n        Page page=new Page(userPage,totalpage);\r\n        return Result.success(page);\r\n    }\r\n\r\n    // 根据userid查找\r\n    @GetMapping(\"/mycourse\")\r\n    public Result findcourse(@RequestParam Integer userid){\r\n        List<CourseInfo> info=stuCourseMapper.getcourseinfo(userid);\r\n        return Result.success(info);\r\n    }\r\n}\r\n```\r\n\r\nStuProblemController\r\n\r\n```java\r\npackage com.dpb.nsepback.controller;\r\n\r\nimport com.dpb.nsepback.common.Result;\r\nimport com.dpb.nsepback.entity.StuProblem;\r\nimport com.dpb.nsepback.mapper.DetailMapper;\r\nimport com.dpb.nsepback.mapper.StuProblemMapper;\r\nimport com.dpb.nsepback.mapper.UserMapper;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.annotation.Resource;\r\n\r\n\r\n@RestController\r\n@RequestMapping(\"/stuproblem\")\r\npublic class StuProblemController {\r\n\r\n    @Resource\r\n    StuProblemMapper stuProblemMapper;\r\n\r\n    @Resource\r\n    DetailMapper detailMapper;\r\n\r\n    @Resource\r\n    UserMapper userMapper;\r\n\r\n    // 插入、更新\r\n    @GetMapping(\"/recordinfo\")\r\n    public Result save(@RequestParam() Integer userid, @RequestParam() String problemid){\r\n\r\n        stuProblemMapper.insertinfo(userid,problemid);\r\n        userMapper.updateFinished(userid);\r\n        return Result.success(\"success\");\r\n    }\r\n\r\n    // 获取\r\n    @GetMapping(\"/getinfo\")\r\n    public Result get(@RequestParam() Integer userid, @RequestParam() String problemid){\r\n\r\n        StuProblem stuProblem;\r\n        System.out.println(\"select * from stuproblem where userid=\"+userid+\" and problemid=\\\"\"+problemid+\"\\\"\");\r\n//        stuProblem=stuProblemMapper.selectinfo(userid,problemid);\r\n        return Result.success(stuProblemMapper.selectinfo(userid,problemid));\r\n\r\n    }\r\n\r\n    // 做题详情\r\n    @GetMapping(\"/details\")\r\n    public Result details(@RequestParam() Integer courseid,@RequestParam() String username){\r\n\r\n        return Result.success(detailMapper.sel(courseid,username));\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n### 5、前端\r\n\r\n> 仅列出核心部分代码\r\n\r\n#### 创建、解散班级\r\n\r\n```javascript\r\naddcourse(){\r\n      this.course=true;\r\n      this.coursename=\'\';\r\n    },\r\n    savecourse(){\r\n      request.get(\"/course/save\",{\r\n        params:{\r\n          coursename:this.coursename,\r\n          teacherid:this.teacher.userid,\r\n        }\r\n      }).then(res =>{\r\n        console.log(res);\r\n        if (res.code === \'200\'){\r\n          ElMessage({\r\n            message: this.coursename+\"创建成功\",\r\n            center: true,\r\n            type: \'success\',\r\n          })\r\n          this.loadcourse()\r\n          this.course=false\r\n        }else{\r\n          alert(\"创建失败\");\r\n        }\r\n      })\r\n    },\r\n```\r\n\r\n```javascript\r\nDissolve(){\r\n      this.$confirm(\'确认解散该班级？\', \'提示\', {\r\n        confirmButtonText: \'确定\',\r\n        cancelButtonText: \'取消\',\r\n        type: \'warning\'\r\n      }).then(() => {\r\n        request.get(\"/course/delete\",{\r\n          params:{\r\n            courseid:this.currentcourse\r\n          }\r\n        }).then(res =>{\r\n          console.log(res);\r\n          ElMessage({\r\n            message: this.currentcoursename+\"已解散\",\r\n            center: true,\r\n            type: \'success\',\r\n          })\r\n          this.loadcourse()\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: \'info\',\r\n          message: \'已取消\'\r\n        });\r\n      });\r\n    },\r\n```\r\n\r\n#### 邀请二维码实现\r\n\r\n> 使用qrcodejs2插件实现\r\n>\r\n> 根本原理：构建invitation地址，包括课程id和教师id作为参数，使用此地址生成二维码，学生在扫码后弹窗提示，点击加入后就可将扫码学生id、课程id存入stucourse表中，即可建立对应关系。\r\n\r\nnsepQRCode.vue组件\r\n\r\n```html\r\n<template>\r\n  <p style=\"margin:0px;\r\n      padding:0px;\r\n      margin-bottom:20px;\">\r\n    邀请学生扫描此二维码加入课程\r\n  </p>\r\n  <div class=\"qrcode\"\r\n       ref=\"qrcodeContainer\"\r\n       style=\"width:80%;\r\n       margin:10%;\"></div>\r\n<!--  <p>或输入课程暗号加入课程</p> <h3>8ZHA</h3>-->\r\n</template>\r\n\r\n<script>\r\nimport QRCode from \'qrcodejs2\'  // 引入qrcode\r\nexport default {\r\n  name : \'test\',\r\n  mounted () {\r\n    this.$nextTick(()=> {\r\n      this.qrcode();\r\n    })\r\n  },\r\n  data(){\r\n    return{\r\n      teacher:localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      courseid:\'1\',\r\n    }\r\n  },\r\n  methods: {\r\n    qrcode() {\r\n      let current_url=window.location.href.slice(0,-17);\r\n      let href=current_url+\'/invitation\'+\'?id1=\'+this.teacher.userid+\'&id2=\'+this.courseid;\r\n      // window.open(href);\r\n\r\n      let qrcode = new QRCode(this.$refs.qrcodeContainer, {// eslint-disable-line no-unused-vars\r\n        width: 200,\r\n        height: 200,\r\n        text: href, // 二维码对应的地址\r\n        colorDark : \"#000\",\r\n        colorLight : \"#fff\",\r\n        correctLevel: QRCode.CorrectLevel.H\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n```\r\n\r\ninvitation.vue弹窗界面\r\n\r\n```html\r\n<template>\r\n  <div class=\"invitation\">\r\n    <nsepheader></nsepheader>\r\n    <el-dialog v-model=\"visable\" title=\"邀请确认\" width=\"30%\" :before-close=\"handleClose\">\r\n      <span>你将加入{{teacher.teachername}}的{{ course.coursename }}课程</span>\r\n      <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"saveinfo\">确认</el-button>\r\n      </span>\r\n      </template>\r\n    </el-dialog>\r\n    <nsepfooter></nsepfooter>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nsepheader from \'../components/nsepheader.vue\';\r\nimport nsepfooter from \'../components/nsepfooter.vue\';\r\nimport animation from \"../assets/js/background_black\";\r\nimport router from \'../router/index.js\'\r\nimport request from \"@/utils/request\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    nsepheader,\r\n    nsepfooter\r\n  },\r\n  data(){\r\n    return{\r\n      visable:true,\r\n      teacher:{\r\n        teacherid:this.$route.query.id1,\r\n        teachername:\'\',\r\n      },\r\n      course:{\r\n        courseid:this.$route.query.id2,\r\n        coursename:\'\',\r\n      },\r\n      user:localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\r\n      url:router.currentRoute._value.fullPath\r\n    }\r\n  },\r\n  created() {\r\n    animation()\r\n    this.loadinfo(this.course.courseid,this.teacher.teacherid)\r\n  },\r\n  methods: {\r\n    loadinfo(id1,id2){\r\n      console.log(this.user.userid)\r\n      if (this.user.userid==null){\r\n        ElMessage({\r\n          message: \'用户未登录\',\r\n          center: true,\r\n          type: \'error\',\r\n        })\r\n        // setTimeout(()=>{\r\n        //跳转到登录页，并附带上当前Url信息\r\n        let Base64 = require(\'js-base64\').Base64\r\n        console.log(\'aaa\'+this.url)\r\n        this.url=Base64.encode(this.url)\r\n        console.log(\'aaa\'+this.url)\r\n        router.push({path:\'/login\',query: {url:this.url}})\r\n        //延迟时间：1秒\r\n        // },1000)\r\n      }\r\n\r\n      // 获取课程名\r\n      request.get(\"/course/getcoursename\",{\r\n        params:{\r\n          courseid:id1,\r\n        }\r\n      }).then(res =>{\r\n        this.course.coursename=res.data\r\n      })\r\n\r\n      //获取教师名\r\n      request.get(\"/user/getname\",{\r\n        params:{\r\n          userid:id2,\r\n        }\r\n      }).then(res =>{\r\n        this.teacher.teachername=res.data\r\n      })\r\n    },\r\n\r\n    saveinfo(){\r\n      request.get(\"/StuCourse/saveinfo\",{\r\n        params:{\r\n          userid:this.user.userid,\r\n          courseid:this.course.courseid,\r\n        }\r\n      }).then(res =>{\r\n        if (res.code==\'200\'){\r\n          ElMessage({\r\n            message: \'确认成功！\',\r\n            center: true,\r\n            type: \'success\',\r\n          })\r\n          setTimeout(()=>{\r\n            //2秒后延迟跳转到首页\r\n            router.push(\'/\')\r\n          },2000)\r\n        }\r\n        else{\r\n          ElMessage({\r\n            message: \'数据库异常\',\r\n            center: true,\r\n            type: \'error\',\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n```\r\n\r\n在CourseManagement.vue引入组件nsepQRCode\r\n\r\n```javascript\r\nimport nsepqrcode from \'../components/nsepQRCode\'\r\n```\r\n\r\n点击即dialog弹窗展示nsepqrcode组件生成的二维码\r\n\r\n```html\r\n<el-dialog v-model=\"showQRcode\" width=\"300px\">\r\n      <nsepqrcode></nsepqrcode>\r\n</el-dialog>\r\n```\r\n\r\n#### 导出详情到本地excel\r\n\r\n> 使用Export2Excel插件实现\r\n>\r\n> 核心思想：用后端download接口获取当前课程中的学生完成情况详细数据，使用Export2Excel.js将当前表格中的详细 json数据 格式化后构建为excel表格，提供给用户下载到本地\r\n\r\n```javascript\r\n    download(){\r\n      console.log(this.currentcourse)\r\n      request.get(\"/download/load\",{\r\n        params:{\r\n          courseid:this.currentcourse,\r\n        }\r\n      }).then(res =>{\r\n        console.log(res.data)\r\n        this.Export2Excel(res.data)\r\n      })\r\n    },\r\n    Export2Excel(dataList) {\r\n      import(\'../excel/Export2Excel\').then(excel => {\r\n        const tHeader = [\'学号\', \'姓名\', \'题目\',\'完成时间\']\r\n        // const title = [\'\', \'\', \'\',\'\']; // 这个title和上面数组的数量必须是一致的但是可以是空的\r\n        // 表头对应字段\r\n        const filterVal =[\'username\', \'realname\', \'problemname\',\'finishtime\'];\r\n        const list = dataList\r\n        const data = this.formatJson(filterVal, list)\r\n        data.map(item => {\r\n          // console.log(item)\r\n          item.map((i, index) => {\r\n            if (!i) {\r\n              item[index] = \'\'\r\n            }\r\n          })\r\n        })\r\n        // const merges = [\'A1:D1\'] //合并单元格\r\n        excel.export_json_to_excel({\r\n          // title: title,\r\n          header: tHeader,\r\n          data,\r\n          // merges,\r\n          filename: this.currentcoursename,\r\n          autoWidth: true,\r\n          bookType: \'xlsx\'\r\n        })\r\n      })\r\n    },\r\n    formatJson(filterVal, jsonData) {\r\n      return jsonData.map((v) => filterVal.map((j) => v[j]));\r\n    },\r\n```\r\n\r\n### 6、页面展现\r\n\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/03/2890004023.png)\r\n',0,1,NULL,'post','publish',NULL,0,'1','1','1',0),(84,'1680337835.png','1680337835-png',1680337836,1680337836,'a:5:{s:4:\"name\";s:14:\"1680337835.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/04/2564082498.png\";s:4:\"size\";i:427585;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',0),(85,'1680337871.png','1680337871-png',1680337871,1680337871,'a:5:{s:4:\"name\";s:14:\"1680337871.png\";s:4:\"path\";s:34:\"/usr/uploads/2023/04/983366872.png\";s:4:\"size\";i:395526;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',0),(86,'1680337902.png','1680337902-png',1680337903,1680337903,'a:5:{s:4:\"name\";s:14:\"1680337902.png\";s:4:\"path\";s:35:\"/usr/uploads/2023/04/1601334058.png\";s:4:\"size\";i:463115;s:4:\"type\";s:3:\"png\";s:4:\"mime\";s:9:\"image/png\";}',0,1,NULL,'attachment','publish',NULL,0,'1','0','1',0),(87,'骄傲——《保重》','87',1680337380,1680337917,'<!--markdown-->*她是一鸣，是小屋学历最高的歌手。是一位生在西宁，长在西安的西北姑娘。她的性格中有着西北姑娘的乐观豪爽，也有着“科研工作者”的严谨认真，更充满了音乐人独有的敏感细腻。\r\n大冰说,“她要当中国唱歌最好的科学家”。\r\n一鸣说,“我每首歌曲的背后都有一个故事，听我唱歌的人，都懂我的故事”。*\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/04/2564082498.png)\r\n*“她曾爬过的楼，比对岸鳞次栉比的任何一座大厦都要高耸，且无有灯火，漆黑的楼栋。”*\r\n\r\n*“我希望你过最普通的生活，有稳定的收入和平凡的爱人，有温饱体面的平静生活，有热爱的东西可以去无所顾忌的拥抱，比如科研和音乐。”*\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/04/983366872.png)\r\n*“保重，保重，\r\n世间若有赠运术，愿以我黄昏，予你黎明”*\r\n![](https://blog.dongpeibin.cn/usr/uploads/2023/04/1601334058.png)',0,1,NULL,'post','publish',NULL,0,'1','1','1',0);
/*!40000 ALTER TABLE `typecho_contents` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typecho_fields`
--

DROP TABLE IF EXISTS `typecho_fields`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typecho_fields` (
  `cid` int(10) unsigned NOT NULL,
  `name` varchar(150) NOT NULL,
  `type` varchar(8) DEFAULT 'str',
  `str_value` text,
  `int_value` int(10) DEFAULT '0',
  `float_value` float DEFAULT '0',
  PRIMARY KEY (`cid`,`name`),
  KEY `int_value` (`int_value`),
  KEY `float_value` (`float_value`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typecho_fields`
--

LOCK TABLES `typecho_fields` WRITE;
/*!40000 ALTER TABLE `typecho_fields` DISABLE KEYS */;
/*!40000 ALTER TABLE `typecho_fields` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typecho_metas`
--

DROP TABLE IF EXISTS `typecho_metas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typecho_metas` (
  `mid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(150) DEFAULT NULL,
  `slug` varchar(150) DEFAULT NULL,
  `type` varchar(32) NOT NULL,
  `description` varchar(150) DEFAULT NULL,
  `count` int(10) unsigned DEFAULT '0',
  `order` int(10) unsigned DEFAULT '0',
  `parent` int(10) unsigned DEFAULT '0',
  PRIMARY KEY (`mid`),
  KEY `slug` (`slug`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typecho_metas`
--

LOCK TABLES `typecho_metas` WRITE;
/*!40000 ALTER TABLE `typecho_metas` DISABLE KEYS */;
INSERT INTO `typecho_metas` VALUES (1,'默认分类','default','category','只是一个默认分类',0,1,0),(2,'技术栈学习笔记','笔记','category','毕业设计技术栈的学习笔记',0,2,0),(3,'毕业设计','毕设','category','毕业设计系统开发记录',11,3,0),(4,'《保重》书摘','保重','category','大冰新作，小蓝书收官之作《保重》读书摘录',6,4,0),(5,'《保重》','保重','tag',NULL,5,0,0),(6,'毕设','毕设','tag',NULL,11,0,0);
/*!40000 ALTER TABLE `typecho_metas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typecho_options`
--

DROP TABLE IF EXISTS `typecho_options`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typecho_options` (
  `name` varchar(32) NOT NULL,
  `user` int(10) unsigned NOT NULL DEFAULT '0',
  `value` text,
  PRIMARY KEY (`name`,`user`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typecho_options`
--

LOCK TABLES `typecho_options` WRITE;
/*!40000 ALTER TABLE `typecho_options` DISABLE KEYS */;
INSERT INTO `typecho_options` VALUES ('actionTable',0,'a:0:{}'),('allowRegister',0,'0'),('allowXmlRpc',0,'2'),('attachmentTypes',0,'@image@'),('autoSave',0,'0'),('charset',0,'UTF-8'),('commentDateFormat',0,'F jS, Y \\a\\t h:i a'),('commentsAntiSpam',0,'1'),('commentsAutoClose',0,'0'),('commentsAvatar',0,'1'),('commentsAvatarRating',0,'G'),('commentsCheckReferer',0,'1'),('commentsHTMLTagAllowed',0,''),('commentsListSize',0,'10'),('commentsMarkdown',0,'0'),('commentsMaxNestingLevels',0,'5'),('commentsOrder',0,'DESC'),('commentsPageBreak',0,'0'),('commentsPageDisplay',0,'last'),('commentsPageSize',0,'20'),('commentsPostInterval',0,'60'),('commentsPostIntervalEnable',0,'1'),('commentsPostTimeout',0,'2592000'),('commentsRequireMail',0,'1'),('commentsRequireModeration',0,'0'),('commentsRequireURL',0,'0'),('commentsShowCommentOnly',0,'0'),('commentsShowUrl',0,'1'),('commentsThreaded',0,'1'),('commentsUrlNofollow',0,'1'),('commentsWhitelist',0,'0'),('contentType',0,'text/html'),('defaultAllowComment',0,'1'),('defaultAllowFeed',0,'1'),('defaultAllowPing',0,'1'),('defaultCategory',0,'1'),('description',0,'轻煮岁月❤慢煮茶'),('editorSize',0,'350'),('feedFullText',0,'0'),('frontArchive',0,'0'),('frontPage',0,'recent'),('generator',0,'Typecho 1.2.0'),('gzip',0,'0'),('installed',0,'1'),('keywords',0,'typecho,php,blog'),('lang',0,NULL),('markdown',0,'1'),('pageSize',0,'5'),('panelTable',0,'a:2:{s:5:\"child\";a:1:{i:1;a:1:{i:0;a:6:{i:0;s:14:\"TE插件仓库\";i:1;s:14:\"TE插件仓库\";i:2;s:40:\"extending.php?panel=TeStore%2Fmarket.php\";i:3;s:13:\"administrator\";i:4;b:0;i:5;s:0:\"\";}}}s:4:\"file\";a:1:{i:0;s:20:\"TeStore%2Fmarket.php\";}}'),('plugin:CodeStyle',0,'a:2:{s:10:\"code_style\";s:9:\"xcode.css\";s:6:\"showln\";N;}'),('plugin:DynamicLines',0,'a:5:{s:6:\"mobile\";i:0;s:5:\"color\";s:7:\"0,0,255\";s:5:\"count\";s:2:\"99\";s:7:\"opacity\";s:3:\"0.7\";s:6:\"zIndex\";s:3:\"999\";}'),('plugin:EditorMD',0,'a:7:{s:5:\"emoji\";s:1:\"1\";s:8:\"isActive\";s:1:\"1\";s:5:\"isToc\";s:1:\"1\";s:6:\"isTask\";s:1:\"1\";s:5:\"isTex\";s:1:\"1\";s:6:\"isFlow\";s:1:\"0\";s:5:\"isSeq\";s:1:\"0\";}'),('plugin:HoerMouse',0,'a:6:{s:6:\"jquery\";s:1:\"0\";s:10:\"bubbleType\";s:5:\"heart\";s:10:\"bubbleText\";s:25:\"欢迎来到我的小站!\";s:11:\"bubbleColor\";s:6:\"随机\";s:11:\"bubbleSpeed\";s:4:\"4000\";s:9:\"mouseType\";s:9:\"exquisite\";}'),('plugin:MouseFloating',0,'a:1:{s:13:\"floatingWords\";s:607:\"人生若只如初见，何事秋风悲画扇,路漫漫其修远兮，吾将上下而求索,人面不知何处去，桃花依旧笑春风,祝你万事胜意,凡是过往，皆为序章,醉后不知天在水，满船清梦压星河,For you，a thousand times over,Stay Hungry，Stay Foolish,何处繁华笙歌落,来时不惧风雨，去时何谓人言,最是书香能致远，腹有诗书气自华,I love you three thousand,白茶清欢无别事，我在等风也等你,清酒独酌了无趣，我在梦花也梦你,纵离乡千里万里，愿故土借我心力,于无常处知有情，于有情处知众生\";}'),('plugin:TeStore',0,'a:4:{s:6:\"source\";s:124:\"https://github.com/typecho-fans/plugins/blob/master/TESTORE.md\nhttps://github.com/typecho-fans/plugins/blob/master/README.md\";s:10:\"cache_time\";s:2:\"24\";s:4:\"curl\";i:0;s:11:\"showNavMenu\";s:4:\"true\";}'),('plugins',0,'a:2:{s:9:\"activated\";a:7:{s:9:\"CodeStyle\";a:1:{s:7:\"handles\";a:2:{s:21:\"Widget_Archive:header\";a:1:{i:0;a:2:{i:0;s:16:\"CodeStyle_Plugin\";i:1;s:6:\"header\";}}s:21:\"Widget_Archive:footer\";a:1:{i:0;a:2:{i:0;s:16:\"CodeStyle_Plugin\";i:1;s:6:\"footer\";}}}}s:12:\"DynamicLines\";a:1:{s:7:\"handles\";a:1:{s:21:\"Widget_Archive:footer\";a:1:{i:0;a:2:{i:0;s:19:\"DynamicLines_Plugin\";i:1;s:6:\"footer\";}}}}s:8:\"EditorMD\";a:1:{s:7:\"handles\";a:5:{s:31:\"admin/write-post.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:31:\"admin/write-page.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:32:\"Widget_Abstract_Contents:content\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"content\";}}s:32:\"Widget_Abstract_Contents:excerpt\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"excerpt\";}}s:21:\"Widget_Archive:footer\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:8:\"footerJS\";}}}}s:9:\"HoerMouse\";a:1:{s:7:\"handles\";a:1:{s:21:\"Widget_Archive:footer\";a:1:{i:0;a:2:{i:0;s:16:\"HoerMouse_Plugin\";i:1;s:6:\"footer\";}}}}s:9:\"HongStyle\";a:0:{}s:13:\"MouseFloating\";a:1:{s:7:\"handles\";a:1:{s:21:\"Widget_Archive:footer\";a:1:{i:0;a:2:{i:0;s:20:\"MouseFloating_Plugin\";i:1;s:6:\"footer\";}}}}s:7:\"TeStore\";a:1:{s:7:\"handles\";a:1:{s:21:\"admin/menu.php:navBar\";a:1:{i:0;a:2:{i:0;s:14:\"TeStore_Plugin\";i:1;s:6:\"render\";}}}}}s:7:\"handles\";a:7:{s:21:\"Widget_Archive:header\";a:1:{i:0;a:2:{i:0;s:16:\"CodeStyle_Plugin\";i:1;s:6:\"header\";}}s:21:\"Widget_Archive:footer\";a:5:{i:0;a:2:{i:0;s:16:\"CodeStyle_Plugin\";i:1;s:6:\"footer\";}s:5:\"0.001\";a:2:{i:0;s:19:\"DynamicLines_Plugin\";i:1;s:6:\"footer\";}s:5:\"0.002\";a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:8:\"footerJS\";}s:5:\"0.004\";a:2:{i:0;s:16:\"HoerMouse_Plugin\";i:1;s:6:\"footer\";}s:5:\"0.005\";a:2:{i:0;s:20:\"MouseFloating_Plugin\";i:1;s:6:\"footer\";}}s:31:\"admin/write-post.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:31:\"admin/write-page.php:richEditor\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:6:\"Editor\";}}s:32:\"Widget_Abstract_Contents:content\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"content\";}}s:32:\"Widget_Abstract_Contents:excerpt\";a:1:{i:0;a:2:{i:0;s:15:\"EditorMD_Plugin\";i:1;s:7:\"excerpt\";}}s:21:\"admin/menu.php:navBar\";a:1:{s:5:\"0.001\";a:2:{i:0;s:14:\"TeStore_Plugin\";i:1;s:6:\"render\";}}}}'),('postDateFormat',0,'Y-m-d'),('postsListSize',0,'10'),('rewrite',0,'0'),('routingTable',0,'a:29:{i:0;a:28:{s:5:\"index\";a:6:{s:3:\"url\";s:1:\"/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:8:\"|^[/]?$|\";s:6:\"format\";s:1:\"/\";s:6:\"params\";a:0:{}}s:7:\"archive\";a:6:{s:3:\"url\";s:6:\"/blog/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:13:\"|^/blog[/]?$|\";s:6:\"format\";s:6:\"/blog/\";s:6:\"params\";a:0:{}}s:2:\"do\";a:6:{s:3:\"url\";s:22:\"/action/[action:alpha]\";s:6:\"widget\";s:14:\"\\Widget\\Action\";s:6:\"action\";s:6:\"action\";s:4:\"regx\";s:32:\"|^/action/([_0-9a-zA-Z-]+)[/]?$|\";s:6:\"format\";s:10:\"/action/%s\";s:6:\"params\";a:1:{i:0;s:6:\"action\";}}s:4:\"post\";a:6:{s:3:\"url\";s:24:\"/archives/[cid:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:26:\"|^/archives/([0-9]+)[/]?$|\";s:6:\"format\";s:13:\"/archives/%s/\";s:6:\"params\";a:1:{i:0;s:3:\"cid\";}}s:10:\"attachment\";a:6:{s:3:\"url\";s:26:\"/attachment/[cid:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:28:\"|^/attachment/([0-9]+)[/]?$|\";s:6:\"format\";s:15:\"/attachment/%s/\";s:6:\"params\";a:1:{i:0;s:3:\"cid\";}}s:8:\"category\";a:6:{s:3:\"url\";s:17:\"/category/[slug]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:25:\"|^/category/([^/]+)[/]?$|\";s:6:\"format\";s:13:\"/category/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"slug\";}}s:3:\"tag\";a:6:{s:3:\"url\";s:12:\"/tag/[slug]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:20:\"|^/tag/([^/]+)[/]?$|\";s:6:\"format\";s:8:\"/tag/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"slug\";}}s:6:\"author\";a:6:{s:3:\"url\";s:22:\"/author/[uid:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:24:\"|^/author/([0-9]+)[/]?$|\";s:6:\"format\";s:11:\"/author/%s/\";s:6:\"params\";a:1:{i:0;s:3:\"uid\";}}s:6:\"search\";a:6:{s:3:\"url\";s:19:\"/search/[keywords]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:23:\"|^/search/([^/]+)[/]?$|\";s:6:\"format\";s:11:\"/search/%s/\";s:6:\"params\";a:1:{i:0;s:8:\"keywords\";}}s:10:\"index_page\";a:6:{s:3:\"url\";s:21:\"/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:22:\"|^/page/([0-9]+)[/]?$|\";s:6:\"format\";s:9:\"/page/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"page\";}}s:12:\"archive_page\";a:6:{s:3:\"url\";s:26:\"/blog/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:27:\"|^/blog/page/([0-9]+)[/]?$|\";s:6:\"format\";s:14:\"/blog/page/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"page\";}}s:13:\"category_page\";a:6:{s:3:\"url\";s:32:\"/category/[slug]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:34:\"|^/category/([^/]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:16:\"/category/%s/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"slug\";i:1;s:4:\"page\";}}s:8:\"tag_page\";a:6:{s:3:\"url\";s:27:\"/tag/[slug]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:29:\"|^/tag/([^/]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:11:\"/tag/%s/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"slug\";i:1;s:4:\"page\";}}s:11:\"author_page\";a:6:{s:3:\"url\";s:37:\"/author/[uid:digital]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:33:\"|^/author/([0-9]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:14:\"/author/%s/%s/\";s:6:\"params\";a:2:{i:0;s:3:\"uid\";i:1;s:4:\"page\";}}s:11:\"search_page\";a:6:{s:3:\"url\";s:34:\"/search/[keywords]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:32:\"|^/search/([^/]+)/([0-9]+)[/]?$|\";s:6:\"format\";s:14:\"/search/%s/%s/\";s:6:\"params\";a:2:{i:0;s:8:\"keywords\";i:1;s:4:\"page\";}}s:12:\"archive_year\";a:6:{s:3:\"url\";s:18:\"/[year:digital:4]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:19:\"|^/([0-9]{4})[/]?$|\";s:6:\"format\";s:4:\"/%s/\";s:6:\"params\";a:1:{i:0;s:4:\"year\";}}s:13:\"archive_month\";a:6:{s:3:\"url\";s:36:\"/[year:digital:4]/[month:digital:2]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:30:\"|^/([0-9]{4})/([0-9]{2})[/]?$|\";s:6:\"format\";s:7:\"/%s/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"year\";i:1;s:5:\"month\";}}s:11:\"archive_day\";a:6:{s:3:\"url\";s:52:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:41:\"|^/([0-9]{4})/([0-9]{2})/([0-9]{2})[/]?$|\";s:6:\"format\";s:10:\"/%s/%s/%s/\";s:6:\"params\";a:3:{i:0;s:4:\"year\";i:1;s:5:\"month\";i:2;s:3:\"day\";}}s:17:\"archive_year_page\";a:6:{s:3:\"url\";s:38:\"/[year:digital:4]/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:33:\"|^/([0-9]{4})/page/([0-9]+)[/]?$|\";s:6:\"format\";s:12:\"/%s/page/%s/\";s:6:\"params\";a:2:{i:0;s:4:\"year\";i:1;s:4:\"page\";}}s:18:\"archive_month_page\";a:6:{s:3:\"url\";s:56:\"/[year:digital:4]/[month:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:44:\"|^/([0-9]{4})/([0-9]{2})/page/([0-9]+)[/]?$|\";s:6:\"format\";s:15:\"/%s/%s/page/%s/\";s:6:\"params\";a:3:{i:0;s:4:\"year\";i:1;s:5:\"month\";i:2;s:4:\"page\";}}s:16:\"archive_day_page\";a:6:{s:3:\"url\";s:72:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:55:\"|^/([0-9]{4})/([0-9]{2})/([0-9]{2})/page/([0-9]+)[/]?$|\";s:6:\"format\";s:18:\"/%s/%s/%s/page/%s/\";s:6:\"params\";a:4:{i:0;s:4:\"year\";i:1;s:5:\"month\";i:2;s:3:\"day\";i:3;s:4:\"page\";}}s:12:\"comment_page\";a:6:{s:3:\"url\";s:53:\"[permalink:string]/comment-page-[commentPage:digital]\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:36:\"|^(.+)/comment\\-page\\-([0-9]+)[/]?$|\";s:6:\"format\";s:18:\"%s/comment-page-%s\";s:6:\"params\";a:2:{i:0;s:9:\"permalink\";i:1;s:11:\"commentPage\";}}s:4:\"feed\";a:6:{s:3:\"url\";s:20:\"/feed[feed:string:0]\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:4:\"feed\";s:4:\"regx\";s:17:\"|^/feed(.*)[/]?$|\";s:6:\"format\";s:7:\"/feed%s\";s:6:\"params\";a:1:{i:0;s:4:\"feed\";}}s:8:\"feedback\";a:6:{s:3:\"url\";s:31:\"[permalink:string]/[type:alpha]\";s:6:\"widget\";s:16:\"\\Widget\\Feedback\";s:6:\"action\";s:6:\"action\";s:4:\"regx\";s:29:\"|^(.+)/([_0-9a-zA-Z-]+)[/]?$|\";s:6:\"format\";s:5:\"%s/%s\";s:6:\"params\";a:2:{i:0;s:9:\"permalink\";i:1;s:4:\"type\";}}s:4:\"page\";a:6:{s:3:\"url\";s:12:\"/[slug].html\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";s:4:\"regx\";s:22:\"|^/([^/]+)\\.html[/]?$|\";s:6:\"format\";s:8:\"/%s.html\";s:6:\"params\";a:1:{i:0;s:4:\"slug\";}}s:15:\"te-store_market\";a:6:{s:3:\"url\";s:22:\"/admin/te-store/market\";s:6:\"widget\";s:14:\"TeStore_Action\";s:6:\"action\";s:6:\"market\";s:4:\"regx\";s:31:\"|^/admin/te\\-store/market[/]?$|\";s:6:\"format\";s:22:\"/admin/te-store/market\";s:6:\"params\";a:0:{}}s:16:\"te-store_install\";a:6:{s:3:\"url\";s:23:\"/admin/te-store/install\";s:6:\"widget\";s:14:\"TeStore_Action\";s:6:\"action\";s:7:\"install\";s:4:\"regx\";s:32:\"|^/admin/te\\-store/install[/]?$|\";s:6:\"format\";s:23:\"/admin/te-store/install\";s:6:\"params\";a:0:{}}s:18:\"te-store_uninstall\";a:6:{s:3:\"url\";s:25:\"/admin/te-store/uninstall\";s:6:\"widget\";s:14:\"TeStore_Action\";s:6:\"action\";s:9:\"uninstall\";s:4:\"regx\";s:34:\"|^/admin/te\\-store/uninstall[/]?$|\";s:6:\"format\";s:25:\"/admin/te-store/uninstall\";s:6:\"params\";a:0:{}}}s:5:\"index\";a:3:{s:3:\"url\";s:1:\"/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:7:\"archive\";a:3:{s:3:\"url\";s:6:\"/blog/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:2:\"do\";a:3:{s:3:\"url\";s:22:\"/action/[action:alpha]\";s:6:\"widget\";s:14:\"\\Widget\\Action\";s:6:\"action\";s:6:\"action\";}s:4:\"post\";a:3:{s:3:\"url\";s:24:\"/archives/[cid:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:10:\"attachment\";a:3:{s:3:\"url\";s:26:\"/attachment/[cid:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:8:\"category\";a:3:{s:3:\"url\";s:17:\"/category/[slug]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:3:\"tag\";a:3:{s:3:\"url\";s:12:\"/tag/[slug]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:6:\"author\";a:3:{s:3:\"url\";s:22:\"/author/[uid:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:6:\"search\";a:3:{s:3:\"url\";s:19:\"/search/[keywords]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:10:\"index_page\";a:3:{s:3:\"url\";s:21:\"/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:12:\"archive_page\";a:3:{s:3:\"url\";s:26:\"/blog/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:13:\"category_page\";a:3:{s:3:\"url\";s:32:\"/category/[slug]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:8:\"tag_page\";a:3:{s:3:\"url\";s:27:\"/tag/[slug]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:11:\"author_page\";a:3:{s:3:\"url\";s:37:\"/author/[uid:digital]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:11:\"search_page\";a:3:{s:3:\"url\";s:34:\"/search/[keywords]/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:12:\"archive_year\";a:3:{s:3:\"url\";s:18:\"/[year:digital:4]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:13:\"archive_month\";a:3:{s:3:\"url\";s:36:\"/[year:digital:4]/[month:digital:2]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:11:\"archive_day\";a:3:{s:3:\"url\";s:52:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:17:\"archive_year_page\";a:3:{s:3:\"url\";s:38:\"/[year:digital:4]/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:18:\"archive_month_page\";a:3:{s:3:\"url\";s:56:\"/[year:digital:4]/[month:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:16:\"archive_day_page\";a:3:{s:3:\"url\";s:72:\"/[year:digital:4]/[month:digital:2]/[day:digital:2]/page/[page:digital]/\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:12:\"comment_page\";a:3:{s:3:\"url\";s:53:\"[permalink:string]/comment-page-[commentPage:digital]\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:4:\"feed\";a:3:{s:3:\"url\";s:20:\"/feed[feed:string:0]\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:4:\"feed\";}s:8:\"feedback\";a:3:{s:3:\"url\";s:31:\"[permalink:string]/[type:alpha]\";s:6:\"widget\";s:16:\"\\Widget\\Feedback\";s:6:\"action\";s:6:\"action\";}s:4:\"page\";a:3:{s:3:\"url\";s:12:\"/[slug].html\";s:6:\"widget\";s:15:\"\\Widget\\Archive\";s:6:\"action\";s:6:\"render\";}s:15:\"te-store_market\";a:3:{s:3:\"url\";s:22:\"/admin/te-store/market\";s:6:\"widget\";s:14:\"TeStore_Action\";s:6:\"action\";s:6:\"market\";}s:16:\"te-store_install\";a:3:{s:3:\"url\";s:23:\"/admin/te-store/install\";s:6:\"widget\";s:14:\"TeStore_Action\";s:6:\"action\";s:7:\"install\";}s:18:\"te-store_uninstall\";a:3:{s:3:\"url\";s:25:\"/admin/te-store/uninstall\";s:6:\"widget\";s:14:\"TeStore_Action\";s:6:\"action\";s:9:\"uninstall\";}}'),('secret',0,'7v0X)IT0fBz1mVLd1Mu%Gdl6TiQxHSZ8'),('siteUrl',0,'http://blog.dongpeibin.cn'),('theme',0,'PureLoveForTypecho'),('theme:PureLoveForTypecho',0,'a:20:{s:7:\"logoUrl\";s:47:\"/usr/themes/PureLoveForTypecho/images/logo3.png\";s:7:\"iconUrl\";s:49:\"/usr/themes/PureLoveForTypecho/images/favicon.ico\";s:7:\"banners\";s:918:\"[\r\n        {\"imgUrl\": \"/usr/themes/PureLoveForTypecho/images/banner1.jpg\", \"url\": \"http://blog.dongpeibin.cn\", \"desc\": \"For you, a thousand times over. 为你，千千万万遍.\"},\r\n        {\"imgUrl\": \"/usr/themes/PureLoveForTypecho/images/banner2.png\", \"url\": \"http://blog.dongpeibin.cn\", \"desc\": \"This path has been placed before you. The choice... 路就在你脚下，你自己决定。\"},\r\n        {\"imgUrl\": \"/usr/themes/PureLoveForTypecho/images/banner3.png\", \"url\": \"http://blog.dongpeibin.cn\", \"desc\": \"世间若有赠运术，愿以我黄昏，予你黎明。\"},\r\n        {\"imgUrl\": \"/usr/themes/PureLoveForTypecho/images/banner4.png\", \"url\": \"http://blog.dongpeibin.cn\", \"desc\": \"于无常处知有情，于有情处知众生。\"},\r\n        {\"imgUrl\": \"/usr/themes/PureLoveForTypecho/images/banner5.png\", \"url\": \"http://blog.dongpeibin.cn\", \"desc\": \"纵离乡千里万里，愿故土借我心力。\"}\r\n    ]\";s:12:\"sidebarBlock\";a:8:{i:0;s:12:\"showSiteInfo\";i:1;s:18:\"showSiteStatistics\";i:2;s:15:\"showRecentPosts\";i:3;s:12:\"showHotPosts\";i:4;s:12:\"showTagCloud\";i:5;s:18:\"showRecentComments\";i:6;s:11:\"showArchive\";i:7;s:9:\"showOther\";}s:15:\"commentSettings\";a:1:{i:0;s:7:\"qqFirst\";}s:9:\"copyright\";s:106:\"<p>引用本站请注明来自波音彬的Blog<a href=\"http://blog.dongpeibin.cn\" target=\"_blank\"></a></p>\";s:4:\"name\";s:9:\"波音彬\";s:6:\"gender\";s:1:\"1\";s:3:\"job\";s:12:\"网安菜鸟\";s:6:\"github\";s:29:\"https://github.com/dpb1526544\";s:5:\"gitee\";s:28:\"https://gitee.com/dongpeibin\";s:5:\"email\";s:19:\"15265441806@163.com\";s:2:\"qq\";s:10:\"1941379720\";s:6:\"wechat\";s:0:\"\";s:5:\"phone\";s:11:\"15265441806\";s:12:\"introduction\";s:135:\"网安菜鸟一枚 喜欢折腾\r\nBUG制造者 喜欢打篮球\r\n路漫漫其修远兮，吾将上下而求索。——屈原《离骚》\";s:9:\"beiAnCode\";s:24:\"鲁ICP备2022010441号-3\";s:7:\"startAt\";s:19:\"11/01/2022 08:32:16\";s:8:\"tongJiJs\";s:17:\"<script></script>\";s:13:\"advertisingJs\";s:17:\"<script></script>\";}'),('timezone',0,'28800'),('title',0,'波音彬的❤Blog'),('xmlrpcMarkdown',0,'0');
/*!40000 ALTER TABLE `typecho_options` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typecho_relationships`
--

DROP TABLE IF EXISTS `typecho_relationships`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typecho_relationships` (
  `cid` int(10) unsigned NOT NULL,
  `mid` int(10) unsigned NOT NULL,
  PRIMARY KEY (`cid`,`mid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typecho_relationships`
--

LOCK TABLES `typecho_relationships` WRITE;
/*!40000 ALTER TABLE `typecho_relationships` DISABLE KEYS */;
INSERT INTO `typecho_relationships` VALUES (8,3),(8,6),(9,3),(9,6),(13,3),(13,6),(17,3),(17,6),(24,3),(24,6),(27,3),(27,6),(33,4),(33,5),(36,4),(36,5),(42,4),(42,5),(45,3),(45,6),(48,3),(48,6),(53,3),(53,6),(55,4),(55,5),(63,4),(68,3),(68,6),(83,3),(83,6),(87,4),(87,5);
/*!40000 ALTER TABLE `typecho_relationships` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `typecho_users`
--

DROP TABLE IF EXISTS `typecho_users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `typecho_users` (
  `uid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(32) DEFAULT NULL,
  `password` varchar(64) DEFAULT NULL,
  `mail` varchar(150) DEFAULT NULL,
  `url` varchar(150) DEFAULT NULL,
  `screenName` varchar(32) DEFAULT NULL,
  `created` int(10) unsigned DEFAULT '0',
  `activated` int(10) unsigned DEFAULT '0',
  `logged` int(10) unsigned DEFAULT '0',
  `group` varchar(16) DEFAULT 'visitor',
  `authCode` varchar(64) DEFAULT NULL,
  PRIMARY KEY (`uid`),
  UNIQUE KEY `name` (`name`),
  UNIQUE KEY `mail` (`mail`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `typecho_users`
--

LOCK TABLES `typecho_users` WRITE;
/*!40000 ALTER TABLE `typecho_users` DISABLE KEYS */;
INSERT INTO `typecho_users` VALUES (1,'dongpeibin','$P$Ba96y6kLxK7iHayZsxo8jKl.T9mCY/0','1941379720@qq.com','http://blog.dongpeibin.cn','波音彬',1679016211,1682101076,1681282446,'administrator','3ee3fc0afee0cb6e10c90478f8b3fde0');
/*!40000 ALTER TABLE `typecho_users` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'typecho'
--

--
-- Dumping routines for database 'typecho'
--
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2023-05-16 20:23:55
